"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@libsql+client@0.3.4";
exports.ids = ["vendor-chunks/@libsql+client@0.3.4"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LibsqlError: () => (/* binding */ LibsqlError)\n/* harmony export */ });\n/** Error thrown by the client. */ class LibsqlError extends Error {\n    constructor(message, code, cause){\n        if (code !== undefined) {\n            message = `${code}: ${message}`;\n        }\n        super(message, {\n            cause\n        });\n        this.code = code;\n        this.name = \"LibsqlError\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL2FwaS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsZ0NBQWdDLEdBQ3pCLE1BQU1BLG9CQUFvQkM7SUFHN0JDLFlBQVlDLE9BQU8sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLENBQUU7UUFDOUIsSUFBSUQsU0FBU0UsV0FBVztZQUNwQkgsVUFBVSxDQUFDLEVBQUVDLEtBQUssRUFBRSxFQUFFRCxRQUFRLENBQUM7UUFDbkM7UUFDQSxLQUFLLENBQUNBLFNBQVM7WUFBRUU7UUFBTTtRQUN2QixJQUFJLENBQUNELElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNHLElBQUksR0FBRztJQUNoQjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHRva2Vuc3RyZWFtL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtjbGllbnRAMC4zLjQvbm9kZV9tb2R1bGVzL0BsaWJzcWwvY2xpZW50L2xpYi1lc20vYXBpLmpzP2IwOTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEVycm9yIHRocm93biBieSB0aGUgY2xpZW50LiAqL1xuZXhwb3J0IGNsYXNzIExpYnNxbEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8qKiBNYWNoaW5lLXJlYWRhYmxlIGVycm9yIGNvZGUuICovXG4gICAgY29kZTtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjb2RlLCBjYXVzZSkge1xuICAgICAgICBpZiAoY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gYCR7Y29kZX06ICR7bWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHsgY2F1c2UgfSk7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTGlic3FsRXJyb3JcIjtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiTGlic3FsRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsImNvZGUiLCJjYXVzZSIsInVuZGVmaW5lZCIsIm5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/config.js":
/*!***************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/config.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   expandConfig: () => (/* binding */ expandConfig)\n/* harmony export */ });\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js\");\n/* harmony import */ var _uri_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uri.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/uri.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/util.js\");\n\n\n\nfunction expandConfig(config, preferHttp) {\n    if (typeof config !== \"object\") {\n        // produce a reasonable error message in the common case where users type\n        // `createClient(\"libsql://...\")` instead of `createClient({url: \"libsql://...\"})`\n        throw new TypeError(`Expected client configuration as object, got ${typeof config}`);\n    }\n    const uri = (0,_uri_js__WEBPACK_IMPORTED_MODULE_1__.parseUri)(config.url);\n    let tls = config.tls;\n    let authToken = config.authToken;\n    for (const { key, value } of uri.query?.pairs ?? []){\n        if (key === \"authToken\") {\n            authToken = value ? value : undefined;\n        } else if (key === \"tls\") {\n            if (value === \"0\") {\n                tls = false;\n            } else if (value === \"1\") {\n                tls = true;\n            } else {\n                throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError(`Unknown value for the \"tls\" query argument: ${JSON.stringify(value)}. ` + 'Supported values are \"0\" and \"1\"', \"URL_INVALID\");\n            }\n        } else {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError(`Unknown URL query parameter ${JSON.stringify(key)}`, \"URL_PARAM_NOT_SUPPORTED\");\n        }\n    }\n    const uriScheme = uri.scheme.toLowerCase();\n    let scheme;\n    if (uriScheme === \"libsql\") {\n        if (tls === false) {\n            if (uri.authority?.port === undefined) {\n                throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError('A \"libsql:\" URL with ?tls=0 must specify an explicit port', \"URL_INVALID\");\n            }\n            scheme = preferHttp ? \"http\" : \"ws\";\n        } else {\n            scheme = preferHttp ? \"https\" : \"wss\";\n        }\n    } else if (uriScheme === \"http\" || uriScheme === \"ws\") {\n        scheme = uriScheme;\n        tls ??= false;\n    } else if (uriScheme === \"https\" || uriScheme === \"wss\" || uriScheme === \"file\") {\n        scheme = uriScheme;\n    } else {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError('The client supports only \"libsql:\", \"wss:\", \"ws:\", \"https:\", \"http:\" and \"file:\" URLs, ' + `got ${JSON.stringify(uri.scheme + \":\")}. ` + `For more information, please read ${_util_js__WEBPACK_IMPORTED_MODULE_2__.supportedUrlLink}`, \"URL_SCHEME_NOT_SUPPORTED\");\n    }\n    if (uri.fragment !== undefined) {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError(`URL fragments are not supported: ${JSON.stringify(\"#\" + uri.fragment)}`, \"URL_INVALID\");\n    }\n    const intMode = \"\" + (config.intMode ?? \"number\");\n    if (intMode !== \"number\" && intMode !== \"bigint\" && intMode !== \"string\") {\n        throw new TypeError(`Invalid value for intMode, expected \"number\", \"bigint\" or \"string\", \\\n            got ${JSON.stringify(intMode)}`);\n    }\n    return {\n        scheme,\n        tls: tls ?? true,\n        authority: uri.authority,\n        path: uri.path,\n        authToken,\n        intMode,\n        fetch: config.fetch\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL2NvbmZpZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVDO0FBQ0g7QUFDUztBQUN0QyxTQUFTRyxhQUFhQyxNQUFNLEVBQUVDLFVBQVU7SUFDM0MsSUFBSSxPQUFPRCxXQUFXLFVBQVU7UUFDNUIseUVBQXlFO1FBQ3pFLGtGQUFrRjtRQUNsRixNQUFNLElBQUlFLFVBQVUsQ0FBQyw2Q0FBNkMsRUFBRSxPQUFPRixPQUFPLENBQUM7SUFDdkY7SUFDQSxNQUFNRyxNQUFNTixpREFBUUEsQ0FBQ0csT0FBT0ksR0FBRztJQUMvQixJQUFJQyxNQUFNTCxPQUFPSyxHQUFHO0lBQ3BCLElBQUlDLFlBQVlOLE9BQU9NLFNBQVM7SUFDaEMsS0FBSyxNQUFNLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFLElBQUlMLElBQUlNLEtBQUssRUFBRUMsU0FBUyxFQUFFLENBQUU7UUFDakQsSUFBSUgsUUFBUSxhQUFhO1lBQ3JCRCxZQUFZRSxRQUFRQSxRQUFRRztRQUNoQyxPQUNLLElBQUlKLFFBQVEsT0FBTztZQUNwQixJQUFJQyxVQUFVLEtBQUs7Z0JBQ2ZILE1BQU07WUFDVixPQUNLLElBQUlHLFVBQVUsS0FBSztnQkFDcEJILE1BQU07WUFDVixPQUNLO2dCQUNELE1BQU0sSUFBSVQsZ0RBQVdBLENBQUMsQ0FBQyw0Q0FBNEMsRUFBRWdCLEtBQUtDLFNBQVMsQ0FBQ0wsT0FBTyxFQUFFLENBQUMsR0FDMUYsb0NBQW9DO1lBQzVDO1FBQ0osT0FDSztZQUNELE1BQU0sSUFBSVosZ0RBQVdBLENBQUMsQ0FBQyw0QkFBNEIsRUFBRWdCLEtBQUtDLFNBQVMsQ0FBQ04sS0FBSyxDQUFDLEVBQUU7UUFDaEY7SUFDSjtJQUNBLE1BQU1PLFlBQVlYLElBQUlZLE1BQU0sQ0FBQ0MsV0FBVztJQUN4QyxJQUFJRDtJQUNKLElBQUlELGNBQWMsVUFBVTtRQUN4QixJQUFJVCxRQUFRLE9BQU87WUFDZixJQUFJRixJQUFJYyxTQUFTLEVBQUVDLFNBQVNQLFdBQVc7Z0JBQ25DLE1BQU0sSUFBSWYsZ0RBQVdBLENBQUMsNkRBQTZEO1lBQ3ZGO1lBQ0FtQixTQUFTZCxhQUFhLFNBQVM7UUFDbkMsT0FDSztZQUNEYyxTQUFTZCxhQUFhLFVBQVU7UUFDcEM7SUFDSixPQUNLLElBQUlhLGNBQWMsVUFBVUEsY0FBYyxNQUFNO1FBQ2pEQyxTQUFTRDtRQUNUVCxRQUFRO0lBQ1osT0FDSyxJQUFJUyxjQUFjLFdBQVdBLGNBQWMsU0FBU0EsY0FBYyxRQUFRO1FBQzNFQyxTQUFTRDtJQUNiLE9BQ0s7UUFDRCxNQUFNLElBQUlsQixnREFBV0EsQ0FBQyw0RkFDbEIsQ0FBQyxJQUFJLEVBQUVnQixLQUFLQyxTQUFTLENBQUNWLElBQUlZLE1BQU0sR0FBRyxLQUFLLEVBQUUsQ0FBQyxHQUMzQyxDQUFDLGtDQUFrQyxFQUFFakIsc0RBQWdCQSxDQUFDLENBQUMsRUFBRTtJQUNqRTtJQUNBLElBQUlLLElBQUlnQixRQUFRLEtBQUtSLFdBQVc7UUFDNUIsTUFBTSxJQUFJZixnREFBV0EsQ0FBQyxDQUFDLGlDQUFpQyxFQUFFZ0IsS0FBS0MsU0FBUyxDQUFDLE1BQU1WLElBQUlnQixRQUFRLEVBQUUsQ0FBQyxFQUFFO0lBQ3BHO0lBQ0EsTUFBTUMsVUFBVSxLQUFNcEIsQ0FBQUEsT0FBT29CLE9BQU8sSUFBSSxRQUFPO0lBQy9DLElBQUlBLFlBQVksWUFBWUEsWUFBWSxZQUFZQSxZQUFZLFVBQVU7UUFDdEUsTUFBTSxJQUFJbEIsVUFBVSxDQUFDO2dCQUNiLEVBQUVVLEtBQUtDLFNBQVMsQ0FBQ08sU0FBUyxDQUFDO0lBQ3ZDO0lBQ0EsT0FBTztRQUNITDtRQUNBVixLQUFLQSxPQUFPO1FBQ1pZLFdBQVdkLElBQUljLFNBQVM7UUFDeEJJLE1BQU1sQixJQUFJa0IsSUFBSTtRQUNkZjtRQUNBYztRQUNBRSxPQUFPdEIsT0FBT3NCLEtBQUs7SUFDdkI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0B0b2tlbnN0cmVhbS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL2NvbmZpZy5qcz9mYjNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpYnNxbEVycm9yIH0gZnJvbSBcIi4vYXBpLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVVyaSB9IGZyb20gXCIuL3VyaS5qc1wiO1xuaW1wb3J0IHsgc3VwcG9ydGVkVXJsTGluayB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRDb25maWcoY29uZmlnLCBwcmVmZXJIdHRwKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgLy8gcHJvZHVjZSBhIHJlYXNvbmFibGUgZXJyb3IgbWVzc2FnZSBpbiB0aGUgY29tbW9uIGNhc2Ugd2hlcmUgdXNlcnMgdHlwZVxuICAgICAgICAvLyBgY3JlYXRlQ2xpZW50KFwibGlic3FsOi8vLi4uXCIpYCBpbnN0ZWFkIG9mIGBjcmVhdGVDbGllbnQoe3VybDogXCJsaWJzcWw6Ly8uLi5cIn0pYFxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBjbGllbnQgY29uZmlndXJhdGlvbiBhcyBvYmplY3QsIGdvdCAke3R5cGVvZiBjb25maWd9YCk7XG4gICAgfVxuICAgIGNvbnN0IHVyaSA9IHBhcnNlVXJpKGNvbmZpZy51cmwpO1xuICAgIGxldCB0bHMgPSBjb25maWcudGxzO1xuICAgIGxldCBhdXRoVG9rZW4gPSBjb25maWcuYXV0aFRva2VuO1xuICAgIGZvciAoY29uc3QgeyBrZXksIHZhbHVlIH0gb2YgdXJpLnF1ZXJ5Py5wYWlycyA/PyBbXSkge1xuICAgICAgICBpZiAoa2V5ID09PSBcImF1dGhUb2tlblwiKSB7XG4gICAgICAgICAgICBhdXRoVG9rZW4gPSB2YWx1ZSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJ0bHNcIikge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcIjBcIikge1xuICAgICAgICAgICAgICAgIHRscyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IFwiMVwiKSB7XG4gICAgICAgICAgICAgICAgdGxzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihgVW5rbm93biB2YWx1ZSBmb3IgdGhlIFwidGxzXCIgcXVlcnkgYXJndW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfS4gYCArXG4gICAgICAgICAgICAgICAgICAgICdTdXBwb3J0ZWQgdmFsdWVzIGFyZSBcIjBcIiBhbmQgXCIxXCInLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKGBVbmtub3duIFVSTCBxdWVyeSBwYXJhbWV0ZXIgJHtKU09OLnN0cmluZ2lmeShrZXkpfWAsIFwiVVJMX1BBUkFNX05PVF9TVVBQT1JURURcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdXJpU2NoZW1lID0gdXJpLnNjaGVtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBzY2hlbWU7XG4gICAgaWYgKHVyaVNjaGVtZSA9PT0gXCJsaWJzcWxcIikge1xuICAgICAgICBpZiAodGxzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKHVyaS5hdXRob3JpdHk/LnBvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcignQSBcImxpYnNxbDpcIiBVUkwgd2l0aCA/dGxzPTAgbXVzdCBzcGVjaWZ5IGFuIGV4cGxpY2l0IHBvcnQnLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2NoZW1lID0gcHJlZmVySHR0cCA/IFwiaHR0cFwiIDogXCJ3c1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2NoZW1lID0gcHJlZmVySHR0cCA/IFwiaHR0cHNcIiA6IFwid3NzXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodXJpU2NoZW1lID09PSBcImh0dHBcIiB8fCB1cmlTY2hlbWUgPT09IFwid3NcIikge1xuICAgICAgICBzY2hlbWUgPSB1cmlTY2hlbWU7XG4gICAgICAgIHRscyA/Pz0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKHVyaVNjaGVtZSA9PT0gXCJodHRwc1wiIHx8IHVyaVNjaGVtZSA9PT0gXCJ3c3NcIiB8fCB1cmlTY2hlbWUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAgIHNjaGVtZSA9IHVyaVNjaGVtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcignVGhlIGNsaWVudCBzdXBwb3J0cyBvbmx5IFwibGlic3FsOlwiLCBcIndzczpcIiwgXCJ3czpcIiwgXCJodHRwczpcIiwgXCJodHRwOlwiIGFuZCBcImZpbGU6XCIgVVJMcywgJyArXG4gICAgICAgICAgICBgZ290ICR7SlNPTi5zdHJpbmdpZnkodXJpLnNjaGVtZSArIFwiOlwiKX0uIGAgK1xuICAgICAgICAgICAgYEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgcmVhZCAke3N1cHBvcnRlZFVybExpbmt9YCwgXCJVUkxfU0NIRU1FX05PVF9TVVBQT1JURURcIik7XG4gICAgfVxuICAgIGlmICh1cmkuZnJhZ21lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoYFVSTCBmcmFnbWVudHMgYXJlIG5vdCBzdXBwb3J0ZWQ6ICR7SlNPTi5zdHJpbmdpZnkoXCIjXCIgKyB1cmkuZnJhZ21lbnQpfWAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgfVxuICAgIGNvbnN0IGludE1vZGUgPSBcIlwiICsgKGNvbmZpZy5pbnRNb2RlID8/IFwibnVtYmVyXCIpO1xuICAgIGlmIChpbnRNb2RlICE9PSBcIm51bWJlclwiICYmIGludE1vZGUgIT09IFwiYmlnaW50XCIgJiYgaW50TW9kZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIHZhbHVlIGZvciBpbnRNb2RlLCBleHBlY3RlZCBcIm51bWJlclwiLCBcImJpZ2ludFwiIG9yIFwic3RyaW5nXCIsIFxcXG4gICAgICAgICAgICBnb3QgJHtKU09OLnN0cmluZ2lmeShpbnRNb2RlKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NoZW1lLFxuICAgICAgICB0bHM6IHRscyA/PyB0cnVlLFxuICAgICAgICBhdXRob3JpdHk6IHVyaS5hdXRob3JpdHksXG4gICAgICAgIHBhdGg6IHVyaS5wYXRoLFxuICAgICAgICBhdXRoVG9rZW4sXG4gICAgICAgIGludE1vZGUsXG4gICAgICAgIGZldGNoOiBjb25maWcuZmV0Y2gsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJMaWJzcWxFcnJvciIsInBhcnNlVXJpIiwic3VwcG9ydGVkVXJsTGluayIsImV4cGFuZENvbmZpZyIsImNvbmZpZyIsInByZWZlckh0dHAiLCJUeXBlRXJyb3IiLCJ1cmkiLCJ1cmwiLCJ0bHMiLCJhdXRoVG9rZW4iLCJrZXkiLCJ2YWx1ZSIsInF1ZXJ5IiwicGFpcnMiLCJ1bmRlZmluZWQiLCJKU09OIiwic3RyaW5naWZ5IiwidXJpU2NoZW1lIiwic2NoZW1lIiwidG9Mb3dlckNhc2UiLCJhdXRob3JpdHkiLCJwb3J0IiwiZnJhZ21lbnQiLCJpbnRNb2RlIiwicGF0aCIsImZldGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/config.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/hrana.js":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/hrana.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HranaTransaction: () => (/* binding */ HranaTransaction),\n/* harmony export */   executeHranaBatch: () => (/* binding */ executeHranaBatch),\n/* harmony export */   mapHranaError: () => (/* binding */ mapHranaError),\n/* harmony export */   resultSetFromHrana: () => (/* binding */ resultSetFromHrana),\n/* harmony export */   stmtToHrana: () => (/* binding */ stmtToHrana)\n/* harmony export */ });\n/* harmony import */ var _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @libsql/hrana-client */ \"(rsc)/../../node_modules/.pnpm/@libsql+hrana-client@0.5.5/node_modules/@libsql/hrana-client/lib-esm/index.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/util.js\");\n\n\n\nclass HranaTransaction {\n    #mode;\n    #version;\n    // Promise that is resolved when the BEGIN statement completes, or `undefined` if we haven't executed the\n    // BEGIN statement yet.\n    #started;\n    /** @private */ constructor(mode, version){\n        this.#mode = mode;\n        this.#version = version;\n        this.#started = undefined;\n    }\n    execute(stmt) {\n        return this.batch([\n            stmt\n        ]).then((results)=>results[0]);\n    }\n    async batch(stmts) {\n        const stream = this._getStream();\n        if (stream.closed) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(\"Cannot execute statements because the transaction is closed\", \"TRANSACTION_CLOSED\");\n        }\n        try {\n            const hranaStmts = stmts.map(stmtToHrana);\n            let rowsPromises;\n            if (this.#started === undefined) {\n                // The transaction hasn't started yet, so we need to send the BEGIN statement in a batch with\n                // `hranaStmts`.\n                this._getSqlCache().apply(hranaStmts);\n                const batch = stream.batch(this.#version >= 3);\n                const beginStep = batch.step();\n                const beginPromise = beginStep.run((0,_util_js__WEBPACK_IMPORTED_MODULE_2__.transactionModeToBegin)(this.#mode));\n                // Execute the `hranaStmts` only if the BEGIN succeeded, to make sure that we don't execute it\n                // outside of a transaction.\n                let lastStep = beginStep;\n                rowsPromises = hranaStmts.map((hranaStmt)=>{\n                    const stmtStep = batch.step().condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.ok(lastStep));\n                    if (this.#version >= 3) {\n                        // If the Hrana version supports it, make sure that we are still in a transaction\n                        stmtStep.condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.not(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.isAutocommit(batch)));\n                    }\n                    const rowsPromise = stmtStep.query(hranaStmt);\n                    rowsPromise.catch(()=>undefined); // silence Node warning\n                    lastStep = stmtStep;\n                    return rowsPromise;\n                });\n                // `this.#started` is resolved successfully only if the batch and the BEGIN statement inside\n                // of the batch are both successful.\n                this.#started = batch.execute().then(()=>beginPromise).then(()=>undefined);\n                try {\n                    await this.#started;\n                } catch (e) {\n                    // If the BEGIN failed, the transaction is unusable and we must close it. However, if the\n                    // BEGIN suceeds and `hranaStmts` fail, the transaction is _not_ closed.\n                    this.close();\n                    throw e;\n                }\n            } else {\n                if (this.#version < 3) {\n                    // The transaction has started, so we must wait until the BEGIN statement completed to make\n                    // sure that we don't execute `hranaStmts` outside of a transaction.\n                    await this.#started;\n                } else {\n                // The transaction has started, but we will use `hrana.BatchCond.isAutocommit()` to make\n                // sure that we don't execute `hranaStmts` outside of a transaction, so we don't have to\n                // wait for `this.#started`\n                }\n                this._getSqlCache().apply(hranaStmts);\n                const batch = stream.batch(this.#version >= 3);\n                let lastStep = undefined;\n                rowsPromises = hranaStmts.map((hranaStmt)=>{\n                    const stmtStep = batch.step();\n                    if (lastStep !== undefined) {\n                        stmtStep.condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.ok(lastStep));\n                    }\n                    if (this.#version >= 3) {\n                        stmtStep.condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.not(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.isAutocommit(batch)));\n                    }\n                    const rowsPromise = stmtStep.query(hranaStmt);\n                    rowsPromise.catch(()=>undefined); // silence Node warning\n                    lastStep = stmtStep;\n                    return rowsPromise;\n                });\n                await batch.execute();\n            }\n            const resultSets = [];\n            for (const rowsPromise of rowsPromises){\n                const rows = await rowsPromise;\n                if (rows === undefined) {\n                    throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(\"Statement in a transaction was not executed, \" + \"probably because the transaction has been rolled back\", \"TRANSACTION_CLOSED\");\n                }\n                resultSets.push(resultSetFromHrana(rows));\n            }\n            return resultSets;\n        } catch (e) {\n            throw mapHranaError(e);\n        }\n    }\n    async executeMultiple(sql) {\n        const stream = this._getStream();\n        if (stream.closed) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(\"Cannot execute statements because the transaction is closed\", \"TRANSACTION_CLOSED\");\n        }\n        try {\n            if (this.#started === undefined) {\n                // If the transaction hasn't started yet, start it now\n                this.#started = stream.run((0,_util_js__WEBPACK_IMPORTED_MODULE_2__.transactionModeToBegin)(this.#mode)).then(()=>undefined);\n                try {\n                    await this.#started;\n                } catch (e) {\n                    this.close();\n                    throw e;\n                }\n            } else {\n                // Wait until the transaction has started\n                await this.#started;\n            }\n            await stream.sequence(sql);\n        } catch (e) {\n            throw mapHranaError(e);\n        }\n    }\n    async rollback() {\n        try {\n            const stream = this._getStream();\n            if (stream.closed) {\n                return;\n            }\n            if (this.#started !== undefined) {\n            // We don't have to wait for the BEGIN statement to complete. If the BEGIN fails, we will\n            // execute a ROLLBACK outside of an active transaction, which should be harmless.\n            } else {\n                // We did nothing in the transaction, so there is nothing to rollback.\n                return;\n            }\n            // Pipeline the ROLLBACK statement and the stream close.\n            const promise = stream.run(\"ROLLBACK\").catch((e)=>{\n                throw mapHranaError(e);\n            });\n            stream.closeGracefully();\n            await promise;\n        } catch (e) {\n            throw mapHranaError(e);\n        } finally{\n            // `this.close()` may close the `hrana.Client`, which aborts all pending stream requests, so we\n            // must call it _after_ we receive the ROLLBACK response.\n            // Also note that the current stream should already be closed, but we need to call `this.close()`\n            // anyway, because it may need to do more cleanup.\n            this.close();\n        }\n    }\n    async commit() {\n        // (this method is analogous to `rollback()`)\n        try {\n            const stream = this._getStream();\n            if (stream.closed) {\n                throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(\"Cannot commit the transaction because it is already closed\", \"TRANSACTION_CLOSED\");\n            }\n            if (this.#started !== undefined) {\n                // Make sure to execute the COMMIT only if the BEGIN was successful.\n                await this.#started;\n            } else {\n                return;\n            }\n            const promise = stream.run(\"COMMIT\").catch((e)=>{\n                throw mapHranaError(e);\n            });\n            stream.closeGracefully();\n            await promise;\n        } catch (e) {\n            throw mapHranaError(e);\n        } finally{\n            this.close();\n        }\n    }\n}\nasync function executeHranaBatch(mode, version, batch, hranaStmts) {\n    const beginStep = batch.step();\n    const beginPromise = beginStep.run((0,_util_js__WEBPACK_IMPORTED_MODULE_2__.transactionModeToBegin)(mode));\n    let lastStep = beginStep;\n    const stmtPromises = hranaStmts.map((hranaStmt)=>{\n        const stmtStep = batch.step().condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.ok(lastStep));\n        if (version >= 3) {\n            stmtStep.condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.not(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.isAutocommit(batch)));\n        }\n        const stmtPromise = stmtStep.query(hranaStmt);\n        lastStep = stmtStep;\n        return stmtPromise;\n    });\n    const commitStep = batch.step().condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.ok(lastStep));\n    if (version >= 3) {\n        commitStep.condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.not(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.isAutocommit(batch)));\n    }\n    const commitPromise = commitStep.run(\"COMMIT\");\n    const rollbackStep = batch.step().condition(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.not(_libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.BatchCond.ok(commitStep)));\n    rollbackStep.run(\"ROLLBACK\").catch((_)=>undefined);\n    await batch.execute();\n    const resultSets = [];\n    await beginPromise;\n    for (const stmtPromise of stmtPromises){\n        const hranaRows = await stmtPromise;\n        if (hranaRows === undefined) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(\"Statement in a batch was not executed, probably because the transaction has been rolled back\", \"TRANSACTION_CLOSED\");\n        }\n        resultSets.push(resultSetFromHrana(hranaRows));\n    }\n    await commitPromise;\n    return resultSets;\n}\nfunction stmtToHrana(stmt) {\n    if (typeof stmt === \"string\") {\n        return new _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.Stmt(stmt);\n    }\n    const hranaStmt = new _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.Stmt(stmt.sql);\n    if (Array.isArray(stmt.args)) {\n        hranaStmt.bindIndexes(stmt.args);\n    } else {\n        for (const [key, value] of Object.entries(stmt.args)){\n            hranaStmt.bindName(key, value);\n        }\n    }\n    return hranaStmt;\n}\nfunction resultSetFromHrana(hranaRows) {\n    const columns = hranaRows.columnNames.map((c)=>c ?? \"\");\n    const rows = hranaRows.rows;\n    const rowsAffected = hranaRows.affectedRowCount;\n    const lastInsertRowid = hranaRows.lastInsertRowid !== undefined ? hranaRows.lastInsertRowid : undefined;\n    return new _util_js__WEBPACK_IMPORTED_MODULE_2__.ResultSetImpl(columns, rows, rowsAffected, lastInsertRowid);\n}\nfunction mapHranaError(e) {\n    if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.ClientError) {\n        const code = mapHranaErrorCode(e);\n        return new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(e.message, code, e);\n    }\n    return e;\n}\nfunction mapHranaErrorCode(e) {\n    if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.ResponseError && e.code !== undefined) {\n        return e.code;\n    } else if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.ProtoError) {\n        return \"HRANA_PROTO_ERROR\";\n    } else if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.ClosedError) {\n        return e.cause instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.ClientError ? mapHranaErrorCode(e.cause) : \"HRANA_CLOSED_ERROR\";\n    } else if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.WebSocketError) {\n        return \"HRANA_WEBSOCKET_ERROR\";\n    } else if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.HttpServerError) {\n        return \"SERVER_ERROR\";\n    } else if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.ProtocolVersionError) {\n        return \"PROTOCOL_VERSION_ERROR\";\n    } else if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.InternalError) {\n        return \"INTERNAL_ERROR\";\n    } else {\n        return \"UNKNOWN\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL2hyYW5hLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQThDO0FBQ1A7QUFDMkI7QUFDM0QsTUFBTUk7SUFDVCxDQUFDQyxJQUFJLENBQUM7SUFDTixDQUFDQyxPQUFPLENBQUM7SUFDVCx5R0FBeUc7SUFDekcsdUJBQXVCO0lBQ3ZCLENBQUNDLE9BQU8sQ0FBQztJQUNULGFBQWEsR0FDYkMsWUFBWUgsSUFBSSxFQUFFQyxPQUFPLENBQUU7UUFDdkIsSUFBSSxDQUFDLENBQUNELElBQUksR0FBR0E7UUFDYixJQUFJLENBQUMsQ0FBQ0MsT0FBTyxHQUFHQTtRQUNoQixJQUFJLENBQUMsQ0FBQ0MsT0FBTyxHQUFHRTtJQUNwQjtJQUNBQyxRQUFRQyxJQUFJLEVBQUU7UUFDVixPQUFPLElBQUksQ0FBQ0MsS0FBSyxDQUFDO1lBQUNEO1NBQUssRUFBRUUsSUFBSSxDQUFDLENBQUNDLFVBQVlBLE9BQU8sQ0FBQyxFQUFFO0lBQzFEO0lBQ0EsTUFBTUYsTUFBTUcsS0FBSyxFQUFFO1FBQ2YsTUFBTUMsU0FBUyxJQUFJLENBQUNDLFVBQVU7UUFDOUIsSUFBSUQsT0FBT0UsTUFBTSxFQUFFO1lBQ2YsTUFBTSxJQUFJakIsZ0RBQVdBLENBQUMsK0RBQStEO1FBQ3pGO1FBQ0EsSUFBSTtZQUNBLE1BQU1rQixhQUFhSixNQUFNSyxHQUFHLENBQUNDO1lBQzdCLElBQUlDO1lBQ0osSUFBSSxJQUFJLENBQUMsQ0FBQ2YsT0FBTyxLQUFLRSxXQUFXO2dCQUM3Qiw2RkFBNkY7Z0JBQzdGLGdCQUFnQjtnQkFDaEIsSUFBSSxDQUFDYyxZQUFZLEdBQUdDLEtBQUssQ0FBQ0w7Z0JBQzFCLE1BQU1QLFFBQVFJLE9BQU9KLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQ04sT0FBTyxJQUFJO2dCQUM1QyxNQUFNbUIsWUFBWWIsTUFB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Q0ssSUFBSXdDLGFBQWF4QyxzRUFBMEIsRUFBRTtRQUM5QyxPQUFPO0lBQ1gsT0FDSyxJQUFJd0MsYUFBYXhDLCtEQUFtQixFQUFFO1FBQ3ZDLE9BQU87SUFDWCxPQUNLO1FBQ0QsT0FBTztJQUNYO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG9rZW5zdHJlYW0vd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvQGxpYnNxbC9jbGllbnQvbGliLWVzbS9ocmFuYS5qcz9jM2VhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGhyYW5hIGZyb20gXCJAbGlic3FsL2hyYW5hLWNsaWVudFwiO1xuaW1wb3J0IHsgTGlic3FsRXJyb3IgfSBmcm9tIFwiLi9hcGkuanNcIjtcbmltcG9ydCB7IHRyYW5zYWN0aW9uTW9kZVRvQmVnaW4sIFJlc3VsdFNldEltcGwgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgY2xhc3MgSHJhbmFUcmFuc2FjdGlvbiB7XG4gICAgI21vZGU7XG4gICAgI3ZlcnNpb247XG4gICAgLy8gUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIEJFR0lOIHN0YXRlbWVudCBjb21wbGV0ZXMsIG9yIGB1bmRlZmluZWRgIGlmIHdlIGhhdmVuJ3QgZXhlY3V0ZWQgdGhlXG4gICAgLy8gQkVHSU4gc3RhdGVtZW50IHlldC5cbiAgICAjc3RhcnRlZDtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3Rvcihtb2RlLCB2ZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuI21vZGUgPSBtb2RlO1xuICAgICAgICB0aGlzLiN2ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy4jc3RhcnRlZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZXhlY3V0ZShzdG10KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhdGNoKFtzdG10XSkudGhlbigocmVzdWx0cykgPT4gcmVzdWx0c1swXSk7XG4gICAgfVxuICAgIGFzeW5jIGJhdGNoKHN0bXRzKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuX2dldFN0cmVhbSgpO1xuICAgICAgICBpZiAoc3RyZWFtLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiQ2Fubm90IGV4ZWN1dGUgc3RhdGVtZW50cyBiZWNhdXNlIHRoZSB0cmFuc2FjdGlvbiBpcyBjbG9zZWRcIiwgXCJUUkFOU0FDVElPTl9DTE9TRURcIik7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGhyYW5hU3RtdHMgPSBzdG10cy5tYXAoc3RtdFRvSHJhbmEpO1xuICAgICAgICAgICAgbGV0IHJvd3NQcm9taXNlcztcbiAgICAgICAgICAgIGlmICh0aGlzLiNzdGFydGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdHJhbnNhY3Rpb24gaGFzbid0IHN0YXJ0ZWQgeWV0LCBzbyB3ZSBuZWVkIHRvIHNlbmQgdGhlIEJFR0lOIHN0YXRlbWVudCBpbiBhIGJhdGNoIHdpdGhcbiAgICAgICAgICAgICAgICAvLyBgaHJhbmFTdG10c2AuXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0U3FsQ2FjaGUoKS5hcHBseShocmFuYVN0bXRzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IHN0cmVhbS5iYXRjaCh0aGlzLiN2ZXJzaW9uID49IDMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJlZ2luU3RlcCA9IGJhdGNoLnN0ZXAoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiZWdpblByb21pc2UgPSBiZWdpblN0ZXAucnVuKHRyYW5zYWN0aW9uTW9kZVRvQmVnaW4odGhpcy4jbW9kZSkpO1xuICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGBocmFuYVN0bXRzYCBvbmx5IGlmIHRoZSBCRUdJTiBzdWNjZWVkZWQsIHRvIG1ha2Ugc3VyZSB0aGF0IHdlIGRvbid0IGV4ZWN1dGUgaXRcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIG9mIGEgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RTdGVwID0gYmVnaW5TdGVwO1xuICAgICAgICAgICAgICAgIHJvd3NQcm9taXNlcyA9IGhyYW5hU3RtdHMubWFwKChocmFuYVN0bXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RtdFN0ZXAgPSBiYXRjaC5zdGVwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm9rKGxhc3RTdGVwKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiN2ZXJzaW9uID49IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBIcmFuYSB2ZXJzaW9uIHN1cHBvcnRzIGl0LCBtYWtlIHN1cmUgdGhhdCB3ZSBhcmUgc3RpbGwgaW4gYSB0cmFuc2FjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgc3RtdFN0ZXAuY29uZGl0aW9uKGhyYW5hLkJhdGNoQ29uZC5ub3QoaHJhbmEuQmF0Y2hDb25kLmlzQXV0b2NvbW1pdChiYXRjaCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dzUHJvbWlzZSA9IHN0bXRTdGVwLnF1ZXJ5KGhyYW5hU3RtdCk7XG4gICAgICAgICAgICAgICAgICAgIHJvd3NQcm9taXNlLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7IC8vIHNpbGVuY2UgTm9kZSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTdGVwID0gc3RtdFN0ZXA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dzUHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBgdGhpcy4jc3RhcnRlZGAgaXMgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5IG9ubHkgaWYgdGhlIGJhdGNoIGFuZCB0aGUgQkVHSU4gc3RhdGVtZW50IGluc2lkZVxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBiYXRjaCBhcmUgYm90aCBzdWNjZXNzZnVsLlxuICAgICAgICAgICAgICAgIHRoaXMuI3N0YXJ0ZWQgPSBiYXRjaC5leGVjdXRlKClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gYmVnaW5Qcm9taXNlKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3N0YXJ0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBCRUdJTiBmYWlsZWQsIHRoZSB0cmFuc2FjdGlvbiBpcyB1bnVzYWJsZSBhbmQgd2UgbXVzdCBjbG9zZSBpdC4gSG93ZXZlciwgaWYgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIEJFR0lOIHN1Y2VlZHMgYW5kIGBocmFuYVN0bXRzYCBmYWlsLCB0aGUgdHJhbnNhY3Rpb24gaXMgX25vdF8gY2xvc2VkLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI3ZlcnNpb24gPCAzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc2FjdGlvbiBoYXMgc3RhcnRlZCwgc28gd2UgbXVzdCB3YWl0IHVudGlsIHRoZSBCRUdJTiBzdGF0ZW1lbnQgY29tcGxldGVkIHRvIG1ha2VcbiAgICAgICAgICAgICAgICAgICAgLy8gc3VyZSB0aGF0IHdlIGRvbid0IGV4ZWN1dGUgYGhyYW5hU3RtdHNgIG91dHNpZGUgb2YgYSB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jc3RhcnRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc2FjdGlvbiBoYXMgc3RhcnRlZCwgYnV0IHdlIHdpbGwgdXNlIGBocmFuYS5CYXRjaENvbmQuaXNBdXRvY29tbWl0KClgIHRvIG1ha2VcbiAgICAgICAgICAgICAgICAgICAgLy8gc3VyZSB0aGF0IHdlIGRvbid0IGV4ZWN1dGUgYGhyYW5hU3RtdHNgIG91dHNpZGUgb2YgYSB0cmFuc2FjdGlvbiwgc28gd2UgZG9uJ3QgaGF2ZSB0b1xuICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBgdGhpcy4jc3RhcnRlZGBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0U3FsQ2FjaGUoKS5hcHBseShocmFuYVN0bXRzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IHN0cmVhbS5iYXRjaCh0aGlzLiN2ZXJzaW9uID49IDMpO1xuICAgICAgICAgICAgICAgIGxldCBsYXN0U3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByb3dzUHJvbWlzZXMgPSBocmFuYVN0bXRzLm1hcCgoaHJhbmFTdG10KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0bXRTdGVwID0gYmF0Y2guc3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFN0ZXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RtdFN0ZXAuY29uZGl0aW9uKGhyYW5hLkJhdGNoQ29uZC5vayhsYXN0U3RlcCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiN2ZXJzaW9uID49IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0bXRTdGVwLmNvbmRpdGlvbihocmFuYS5CYXRjaENvbmQubm90KGhyYW5hLkJhdGNoQ29uZC5pc0F1dG9jb21taXQoYmF0Y2gpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93c1Byb21pc2UgPSBzdG10U3RlcC5xdWVyeShocmFuYVN0bXQpO1xuICAgICAgICAgICAgICAgICAgICByb3dzUHJvbWlzZS5jYXRjaCgoKSA9PiB1bmRlZmluZWQpOyAvLyBzaWxlbmNlIE5vZGUgd2FybmluZ1xuICAgICAgICAgICAgICAgICAgICBsYXN0U3RlcCA9IHN0bXRTdGVwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93c1Byb21pc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgYmF0Y2guZXhlY3V0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0U2V0cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCByb3dzUHJvbWlzZSBvZiByb3dzUHJvbWlzZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3dzID0gYXdhaXQgcm93c1Byb21pc2U7XG4gICAgICAgICAgICAgICAgaWYgKHJvd3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoXCJTdGF0ZW1lbnQgaW4gYSB0cmFuc2FjdGlvbiB3YXMgbm90IGV4ZWN1dGVkLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcInByb2JhYmx5IGJlY2F1c2UgdGhlIHRyYW5zYWN0aW9uIGhhcyBiZWVuIHJvbGxlZCBiYWNrXCIsIFwiVFJBTlNBQ1RJT05fQ0xPU0VEXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRTZXRzLnB1c2gocmVzdWx0U2V0RnJvbUhyYW5hKHJvd3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRTZXRzO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGV4ZWN1dGVNdWx0aXBsZShzcWwpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gdGhpcy5fZ2V0U3RyZWFtKCk7XG4gICAgICAgIGlmIChzdHJlYW0uY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoXCJDYW5ub3QgZXhlY3V0ZSBzdGF0ZW1lbnRzIGJlY2F1c2UgdGhlIHRyYW5zYWN0aW9uIGlzIGNsb3NlZFwiLCBcIlRSQU5TQUNUSU9OX0NMT1NFRFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHRoaXMuI3N0YXJ0ZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0cmFuc2FjdGlvbiBoYXNuJ3Qgc3RhcnRlZCB5ZXQsIHN0YXJ0IGl0IG5vd1xuICAgICAgICAgICAgICAgIHRoaXMuI3N0YXJ0ZWQgPSBzdHJlYW0ucnVuKHRyYW5zYWN0aW9uTW9kZVRvQmVnaW4odGhpcy4jbW9kZSkpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jc3RhcnRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdhaXQgdW50aWwgdGhlIHRyYW5zYWN0aW9uIGhhcyBzdGFydGVkXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jc3RhcnRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHN0cmVhbS5zZXF1ZW5jZShzcWwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJvbGxiYWNrKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gdGhpcy5fZ2V0U3RyZWFtKCk7XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLiNzdGFydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBoYXZlIHRvIHdhaXQgZm9yIHRoZSBCRUdJTiBzdGF0ZW1lbnQgdG8gY29tcGxldGUuIElmIHRoZSBCRUdJTiBmYWlscywgd2Ugd2lsbFxuICAgICAgICAgICAgICAgIC8vIGV4ZWN1dGUgYSBST0xMQkFDSyBvdXRzaWRlIG9mIGFuIGFjdGl2ZSB0cmFuc2FjdGlvbiwgd2hpY2ggc2hvdWxkIGJlIGhhcm1sZXNzLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZGlkIG5vdGhpbmcgaW4gdGhlIHRyYW5zYWN0aW9uLCBzbyB0aGVyZSBpcyBub3RoaW5nIHRvIHJvbGxiYWNrLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBpcGVsaW5lIHRoZSBST0xMQkFDSyBzdGF0ZW1lbnQgYW5kIHRoZSBzdHJlYW0gY2xvc2UuXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gc3RyZWFtLnJ1bihcIlJPTExCQUNLXCIpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4geyB0aHJvdyBtYXBIcmFuYUVycm9yKGUpOyB9KTtcbiAgICAgICAgICAgIHN0cmVhbS5jbG9zZUdyYWNlZnVsbHkoKTtcbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAvLyBgdGhpcy5jbG9zZSgpYCBtYXkgY2xvc2UgdGhlIGBocmFuYS5DbGllbnRgLCB3aGljaCBhYm9ydHMgYWxsIHBlbmRpbmcgc3RyZWFtIHJlcXVlc3RzLCBzbyB3ZVxuICAgICAgICAgICAgLy8gbXVzdCBjYWxsIGl0IF9hZnRlcl8gd2UgcmVjZWl2ZSB0aGUgUk9MTEJBQ0sgcmVzcG9uc2UuXG4gICAgICAgICAgICAvLyBBbHNvIG5vdGUgdGhhdCB0aGUgY3VycmVudCBzdHJlYW0gc2hvdWxkIGFscmVhZHkgYmUgY2xvc2VkLCBidXQgd2UgbmVlZCB0byBjYWxsIGB0aGlzLmNsb3NlKClgXG4gICAgICAgICAgICAvLyBhbnl3YXksIGJlY2F1c2UgaXQgbWF5IG5lZWQgdG8gZG8gbW9yZSBjbGVhbnVwLlxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGNvbW1pdCgpIHtcbiAgICAgICAgLy8gKHRoaXMgbWV0aG9kIGlzIGFuYWxvZ291cyB0byBgcm9sbGJhY2soKWApXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9nZXRTdHJlYW0oKTtcbiAgICAgICAgICAgIGlmIChzdHJlYW0uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiQ2Fubm90IGNvbW1pdCB0aGUgdHJhbnNhY3Rpb24gYmVjYXVzZSBpdCBpcyBhbHJlYWR5IGNsb3NlZFwiLCBcIlRSQU5TQUNUSU9OX0NMT1NFRFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLiNzdGFydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG8gZXhlY3V0ZSB0aGUgQ09NTUlUIG9ubHkgaWYgdGhlIEJFR0lOIHdhcyBzdWNjZXNzZnVsLlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3N0YXJ0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gc3RyZWFtLnJ1bihcIkNPTU1JVFwiKVxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTsgfSk7XG4gICAgICAgICAgICBzdHJlYW0uY2xvc2VHcmFjZWZ1bGx5KCk7XG4gICAgICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVIcmFuYUJhdGNoKG1vZGUsIHZlcnNpb24sIGJhdGNoLCBocmFuYVN0bXRzKSB7XG4gICAgY29uc3QgYmVnaW5TdGVwID0gYmF0Y2guc3RlcCgpO1xuICAgIGNvbnN0IGJlZ2luUHJvbWlzZSA9IGJlZ2luU3RlcC5ydW4odHJhbnNhY3Rpb25Nb2RlVG9CZWdpbihtb2RlKSk7XG4gICAgbGV0IGxhc3RTdGVwID0gYmVnaW5TdGVwO1xuICAgIGNvbnN0IHN0bXRQcm9taXNlcyA9IGhyYW5hU3RtdHMubWFwKChocmFuYVN0bXQpID0+IHtcbiAgICAgICAgY29uc3Qgc3RtdFN0ZXAgPSBiYXRjaC5zdGVwKClcbiAgICAgICAgICAgIC5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm9rKGxhc3RTdGVwKSk7XG4gICAgICAgIGlmICh2ZXJzaW9uID49IDMpIHtcbiAgICAgICAgICAgIHN0bXRTdGVwLmNvbmRpdGlvbihocmFuYS5CYXRjaENvbmQubm90KGhyYW5hLkJhdGNoQ29uZC5pc0F1dG9jb21taXQoYmF0Y2gpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RtdFByb21pc2UgPSBzdG10U3RlcC5xdWVyeShocmFuYVN0bXQpO1xuICAgICAgICBsYXN0U3RlcCA9IHN0bXRTdGVwO1xuICAgICAgICByZXR1cm4gc3RtdFByb21pc2U7XG4gICAgfSk7XG4gICAgY29uc3QgY29tbWl0U3RlcCA9IGJhdGNoLnN0ZXAoKVxuICAgICAgICAuY29uZGl0aW9uKGhyYW5hLkJhdGNoQ29uZC5vayhsYXN0U3RlcCkpO1xuICAgIGlmICh2ZXJzaW9uID49IDMpIHtcbiAgICAgICAgY29tbWl0U3RlcC5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm5vdChocmFuYS5CYXRjaENvbmQuaXNBdXRvY29tbWl0KGJhdGNoKSkpO1xuICAgIH1cbiAgICBjb25zdCBjb21taXRQcm9taXNlID0gY29tbWl0U3RlcC5ydW4oXCJDT01NSVRcIik7XG4gICAgY29uc3Qgcm9sbGJhY2tTdGVwID0gYmF0Y2guc3RlcCgpXG4gICAgICAgIC5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm5vdChocmFuYS5CYXRjaENvbmQub2soY29tbWl0U3RlcCkpKTtcbiAgICByb2xsYmFja1N0ZXAucnVuKFwiUk9MTEJBQ0tcIikuY2F0Y2goXyA9PiB1bmRlZmluZWQpO1xuICAgIGF3YWl0IGJhdGNoLmV4ZWN1dGUoKTtcbiAgICBjb25zdCByZXN1bHRTZXRzID0gW107XG4gICAgYXdhaXQgYmVnaW5Qcm9taXNlO1xuICAgIGZvciAoY29uc3Qgc3RtdFByb21pc2Ugb2Ygc3RtdFByb21pc2VzKSB7XG4gICAgICAgIGNvbnN0IGhyYW5hUm93cyA9IGF3YWl0IHN0bXRQcm9taXNlO1xuICAgICAgICBpZiAoaHJhbmFSb3dzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIlN0YXRlbWVudCBpbiBhIGJhdGNoIHdhcyBub3QgZXhlY3V0ZWQsIHByb2JhYmx5IGJlY2F1c2UgdGhlIHRyYW5zYWN0aW9uIGhhcyBiZWVuIHJvbGxlZCBiYWNrXCIsIFwiVFJBTlNBQ1RJT05fQ0xPU0VEXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFNldHMucHVzaChyZXN1bHRTZXRGcm9tSHJhbmEoaHJhbmFSb3dzKSk7XG4gICAgfVxuICAgIGF3YWl0IGNvbW1pdFByb21pc2U7XG4gICAgcmV0dXJuIHJlc3VsdFNldHM7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RtdFRvSHJhbmEoc3RtdCkge1xuICAgIGlmICh0eXBlb2Ygc3RtdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gbmV3IGhyYW5hLlN0bXQoc3RtdCk7XG4gICAgfVxuICAgIGNvbnN0IGhyYW5hU3RtdCA9IG5ldyBocmFuYS5TdG10KHN0bXQuc3FsKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzdG10LmFyZ3MpKSB7XG4gICAgICAgIGhyYW5hU3RtdC5iaW5kSW5kZXhlcyhzdG10LmFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3RtdC5hcmdzKSkge1xuICAgICAgICAgICAgaHJhbmFTdG10LmJpbmROYW1lKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBocmFuYVN0bXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzdWx0U2V0RnJvbUhyYW5hKGhyYW5hUm93cykge1xuICAgIGNvbnN0IGNvbHVtbnMgPSBocmFuYVJvd3MuY29sdW1uTmFtZXMubWFwKGMgPT4gYyA/PyBcIlwiKTtcbiAgICBjb25zdCByb3dzID0gaHJhbmFSb3dzLnJvd3M7XG4gICAgY29uc3Qgcm93c0FmZmVjdGVkID0gaHJhbmFSb3dzLmFmZmVjdGVkUm93Q291bnQ7XG4gICAgY29uc3QgbGFzdEluc2VydFJvd2lkID0gaHJhbmFSb3dzLmxhc3RJbnNlcnRSb3dpZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gaHJhbmFSb3dzLmxhc3RJbnNlcnRSb3dpZCA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IFJlc3VsdFNldEltcGwoY29sdW1ucywgcm93cywgcm93c0FmZmVjdGVkLCBsYXN0SW5zZXJ0Um93aWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcEhyYW5hRXJyb3IoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuQ2xpZW50RXJyb3IpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IG1hcEhyYW5hRXJyb3JDb2RlKGUpO1xuICAgICAgICByZXR1cm4gbmV3IExpYnNxbEVycm9yKGUubWVzc2FnZSwgY29kZSwgZSk7XG4gICAgfVxuICAgIHJldHVybiBlO1xufVxuZnVuY3Rpb24gbWFwSHJhbmFFcnJvckNvZGUoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuUmVzcG9uc2VFcnJvciAmJiBlLmNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZS5jb2RlO1xuICAgIH1cbiAgICBlbHNlIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuUHJvdG9FcnJvcikge1xuICAgICAgICByZXR1cm4gXCJIUkFOQV9QUk9UT19FUlJPUlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuQ2xvc2VkRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGUuY2F1c2UgaW5zdGFuY2VvZiBocmFuYS5DbGllbnRFcnJvclxuICAgICAgICAgICAgPyBtYXBIcmFuYUVycm9yQ29kZShlLmNhdXNlKSA6IFwiSFJBTkFfQ0xPU0VEX0VSUk9SXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBocmFuYS5XZWJTb2NrZXRFcnJvcikge1xuICAgICAgICByZXR1cm4gXCJIUkFOQV9XRUJTT0NLRVRfRVJST1JcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIGhyYW5hLkh0dHBTZXJ2ZXJFcnJvcikge1xuICAgICAgICByZXR1cm4gXCJTRVJWRVJfRVJST1JcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIGhyYW5hLlByb3RvY29sVmVyc2lvbkVycm9yKSB7XG4gICAgICAgIHJldHVybiBcIlBST1RPQ09MX1ZFUlNJT05fRVJST1JcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIGhyYW5hLkludGVybmFsRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFwiSU5URVJOQUxfRVJST1JcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlVOS05PV05cIjtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiaHJhbmEiLCJMaWJzcWxFcnJvciIsInRyYW5zYWN0aW9uTW9kZVRvQmVnaW4iLCJSZXN1bHRTZXRJbXBsIiwiSHJhbmFUcmFuc2FjdGlvbiIsIm1vZGUiLCJ2ZXJzaW9uIiwic3RhcnRlZCIsImNvbnN0cnVjdG9yIiwidW5kZWZpbmVkIiwiZXhlY3V0ZSIsInN0bXQiLCJiYXRjaCIsInRoZW4iLCJyZXN1bHRzIiwic3RtdHMiLCJzdHJlYW0iLCJfZ2V0U3RyZWFtIiwiY2xvc2VkIiwiaHJhbmFTdG10cyIsIm1hcCIsInN0bXRUb0hyYW5hIiwicm93c1Byb21pc2VzIiwiX2dldFNxbENhY2hlIiwiYXBwbHkiLCJiZWdpblN0ZXAiLCJzdGVwIiwiYmVnaW5Qcm9taXNlIiwicnVuIiwibGFzdFN0ZXAiLCJocmFuYVN0bXQiLCJzdG10U3RlcCIsImNvbmRpdGlvbiIsIkJhdGNoQ29uZCIsIm9rIiwibm90IiwiaXNBdXRvY29tbWl0Iiwicm93c1Byb21pc2UiLCJxdWVyeSIsImNhdGNoIiwiZSIsImNsb3NlIiwicmVzdWx0U2V0cyIsInJvd3MiLCJwdXNoIiwicmVzdWx0U2V0RnJvbUhyYW5hIiwibWFwSHJhbmFFcnJvciIsImV4ZWN1dGVNdWx0aXBsZSIsInNxbCIsInNlcXVlbmNlIiwicm9sbGJhY2siLCJwcm9taXNlIiwiY2xvc2VHcmFjZWZ1bGx5IiwiY29tbWl0IiwiZXhlY3V0ZUhyYW5hQmF0Y2giLCJzdG10UHJvbWlzZXMiLCJzdG10UHJvbWlzZSIsImNvbW1pdFN0ZXAiLCJjb21taXRQcm9taXNlIiwicm9sbGJhY2tTdGVwIiwiXyIsImhyYW5hUm93cyIsIlN0bXQiLCJBcnJheSIsImlzQXJyYXkiLCJhcmdzIiwiYmluZEluZGV4ZXMiLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImVudHJpZXMiLCJiaW5kTmFtZSIsImNvbHVtbnMiLCJjb2x1bW5OYW1lcyIsImMiLCJyb3dzQWZmZWN0ZWQiLCJhZmZlY3RlZFJvd0NvdW50IiwibGFzdEluc2VydFJvd2lkIiwiQ2xpZW50RXJyb3IiLCJjb2RlIiwibWFwSHJhbmFFcnJvckNvZGUiLCJtZXNzYWdlIiwiUmVzcG9uc2VFcnJvciIsIlByb3RvRXJyb3IiLCJDbG9zZWRFcnJvciIsImNhdXNlIiwiV2ViU29ja2V0RXJyb3IiLCJIdHRwU2VydmVyRXJyb3IiLCJQcm90b2NvbFZlcnNpb25FcnJvciIsIkludGVybmFsRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/hrana.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/http.js":
/*!*************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/http.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpClient: () => (/* binding */ HttpClient),\n/* harmony export */   HttpTransaction: () => (/* binding */ HttpTransaction),\n/* harmony export */   LibsqlError: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError),\n/* harmony export */   _createClient: () => (/* binding */ _createClient),\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @libsql/hrana-client */ \"(rsc)/../../node_modules/.pnpm/@libsql+hrana-client@0.5.5/node_modules/@libsql/hrana-client/lib-esm/index.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/config.js\");\n/* harmony import */ var _hrana_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hrana.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/hrana.js\");\n/* harmony import */ var _sql_cache_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sql_cache.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sql_cache.js\");\n/* harmony import */ var _uri_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./uri.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/uri.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/util.js\");\n\n\n\n\n\n\n\n\nfunction createClient(config) {\n    return _createClient((0,_config_js__WEBPACK_IMPORTED_MODULE_2__.expandConfig)(config, true));\n}\n/** @private */ function _createClient(config) {\n    if (config.scheme !== \"https\" && config.scheme !== \"http\") {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError('The HTTP client supports only \"libsql:\", \"https:\" and \"http:\" URLs, ' + `got ${JSON.stringify(config.scheme + \":\")}. For more information, please read ${_util_js__WEBPACK_IMPORTED_MODULE_6__.supportedUrlLink}`, \"URL_SCHEME_NOT_SUPPORTED\");\n    }\n    if (config.scheme === \"http\" && config.tls) {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(`A \"http:\" URL cannot opt into TLS by using ?tls=1`, \"URL_INVALID\");\n    } else if (config.scheme === \"https\" && !config.tls) {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(`A \"https:\" URL cannot opt out of TLS by using ?tls=0`, \"URL_INVALID\");\n    }\n    const url = (0,_uri_js__WEBPACK_IMPORTED_MODULE_5__.encodeBaseUrl)(config.scheme, config.authority, config.path);\n    return new HttpClient(url, config.authToken, config.intMode, config.fetch);\n}\nconst sqlCacheCapacity = 30;\nclass HttpClient {\n    #client;\n    /** @private */ constructor(url, authToken, intMode, customFetch){\n        this.#client = _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.openHttp(url, authToken, customFetch);\n        this.#client.intMode = intMode;\n        this.protocol = \"http\";\n    }\n    async execute(stmt) {\n        try {\n            const hranaStmt = (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.stmtToHrana)(stmt);\n            // Pipeline all operations, so `hrana.HttpClient` can open the stream, execute the statement and\n            // close the stream in a single HTTP request.\n            let rowsPromise;\n            const stream = this.#client.openStream();\n            try {\n                rowsPromise = stream.query(hranaStmt);\n            } finally{\n                stream.closeGracefully();\n            }\n            return (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.resultSetFromHrana)(await rowsPromise);\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        }\n    }\n    async batch(stmts, mode = \"deferred\") {\n        try {\n            const hranaStmts = stmts.map(_hrana_js__WEBPACK_IMPORTED_MODULE_3__.stmtToHrana);\n            const version = await this.#client.getVersion();\n            // Pipeline all operations, so `hrana.HttpClient` can open the stream, execute the batch and\n            // close the stream in a single HTTP request.\n            let resultsPromise;\n            const stream = this.#client.openStream();\n            try {\n                // It makes sense to use a SQL cache even for a single batch, because it may contain the same\n                // statement repeated multiple times.\n                const sqlCache = new _sql_cache_js__WEBPACK_IMPORTED_MODULE_4__.SqlCache(stream, sqlCacheCapacity);\n                sqlCache.apply(hranaStmts);\n                // TODO: we do not use a cursor here, because it would cause three roundtrips:\n                // 1. pipeline request to store SQL texts\n                // 2. cursor request\n                // 3. pipeline request to close the stream\n                const batch = stream.batch(false);\n                resultsPromise = (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.executeHranaBatch)(mode, version, batch, hranaStmts);\n            } finally{\n                stream.closeGracefully();\n            }\n            return await resultsPromise;\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        }\n    }\n    async transaction(mode = \"write\") {\n        try {\n            const version = await this.#client.getVersion();\n            return new HttpTransaction(this.#client.openStream(), mode, version);\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        }\n    }\n    async executeMultiple(sql) {\n        try {\n            // Pipeline all operations, so `hrana.HttpClient` can open the stream, execute the sequence and\n            // close the stream in a single HTTP request.\n            let promise;\n            const stream = this.#client.openStream();\n            try {\n                promise = stream.sequence(sql);\n            } finally{\n                stream.closeGracefully();\n            }\n            await promise;\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        }\n    }\n    close() {\n        this.#client.close();\n    }\n    get closed() {\n        return this.#client.closed;\n    }\n}\nclass HttpTransaction extends _hrana_js__WEBPACK_IMPORTED_MODULE_3__.HranaTransaction {\n    #stream;\n    #sqlCache;\n    /** @private */ constructor(stream, mode, version){\n        super(mode, version);\n        this.#stream = stream;\n        this.#sqlCache = new _sql_cache_js__WEBPACK_IMPORTED_MODULE_4__.SqlCache(stream, sqlCacheCapacity);\n    }\n    /** @private */ _getStream() {\n        return this.#stream;\n    }\n    /** @private */ _getSqlCache() {\n        return this.#sqlCache;\n    }\n    close() {\n        this.#stream.close();\n    }\n    get closed() {\n        return this.#stream.closed;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL2h0dHAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ1A7QUFDSTtBQUN1RTtBQUN4RTtBQUNEO0FBQ0k7QUFDcEI7QUFDbEIsU0FBU1csYUFBYUMsTUFBTTtJQUMvQixPQUFPQyxjQUFjWCx3REFBWUEsQ0FBQ1UsUUFBUTtBQUM5QztBQUNBLGFBQWEsR0FDTixTQUFTQyxjQUFjRCxNQUFNO0lBQ2hDLElBQUlBLE9BQU9FLE1BQU0sS0FBSyxXQUFXRixPQUFPRSxNQUFNLEtBQUssUUFBUTtRQUN2RCxNQUFNLElBQUliLGdEQUFXQSxDQUFDLHlFQUNsQixDQUFDLElBQUksRUFBRWMsS0FBS0MsU0FBUyxDQUFDSixPQUFPRSxNQUFNLEdBQUcsS0FBSyxvQ0FBb0MsRUFBRUosc0RBQWdCQSxDQUFDLENBQUMsRUFBRTtJQUM3RztJQUNBLElBQUlFLE9BQU9FLE1BQU0sS0FBSyxVQUFVRixPQUFPSyxHQUFHLEVBQUU7UUFDeEMsTUFBTSxJQUFJaEIsZ0RBQVdBLENBQUMsQ0FBQyxpREFBaUQsQ0FBQyxFQUFFO0lBQy9FLE9BQ0ssSUFBSVcsT0FBT0UsTUFBTSxLQUFLLFdBQVcsQ0FBQ0YsT0FBT0ssR0FBRyxFQUFFO1FBQy9DLE1BQU0sSUFBSWhCLGdEQUFXQSxDQUFDLENBQUMsb0RBQW9ELENBQUMsRUFBRTtJQUNsRjtJQUNBLE1BQU1pQixNQUFNVCxzREFBYUEsQ0FBQ0csT0FBT0UsTUFBTSxFQUFFRixPQUFPTyxTQUFTLEVBQUVQLE9BQU9RLElBQUk7SUFDdEUsT0FBTyxJQUFJQyxXQUFXSCxLQUFLTixPQUFPVSxTQUFTLEVBQUVWLE9BQU9XLE9BQU8sRUFBRVgsT0FBT1ksS0FBSztBQUM3RTtBQUNBLE1BQU1DLG1CQUFtQjtBQUNsQixNQUFNSjtJQUNULENBQUNLLE1BQU0sQ0FBQztJ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QztJQUNSLENBQUNhLFFBQVEsQ0FBQztJQUNWLGFBQWEsR0FDYnJCLFlBQVlRLE1BQU0sRUFBRU8sSUFBSSxFQUFFRyxPQUFPLENBQUU7UUFDL0IsS0FBSyxDQUFDSCxNQUFNRztRQUNaLElBQUksQ0FBQyxDQUFDVixNQUFNLEdBQUdBO1FBQ2YsSUFBSSxDQUFDLENBQUNhLFFBQVEsR0FBRyxJQUFJeEMsbURBQVFBLENBQUMyQixRQUFRVjtJQUMxQztJQUNBLGFBQWEsR0FDYmlDLGFBQWE7UUFDVCxPQUFPLElBQUksQ0FBQyxDQUFDdkIsTUFBTTtJQUN2QjtJQUNBLGFBQWEsR0FDYndCLGVBQWU7UUFDWCxPQUFPLElBQUksQ0FBQyxDQUFDWCxRQUFRO0lBQ3pCO0lBQ0FRLFFBQVE7UUFDSixJQUFJLENBQUMsQ0FBQ3JCLE1BQU0sQ0FBQ3FCLEtBQUs7SUFDdEI7SUFDQSxJQUFJQyxTQUFTO1FBQ1QsT0FBTyxJQUFJLENBQUMsQ0FBQ3RCLE1BQU0sQ0FBQ3NCLE1BQU07SUFDOUI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL0B0b2tlbnN0cmVhbS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL2h0dHAuanM/YTgwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBocmFuYSBmcm9tIFwiQGxpYnNxbC9ocmFuYS1jbGllbnRcIjtcbmltcG9ydCB7IExpYnNxbEVycm9yIH0gZnJvbSBcIi4vYXBpLmpzXCI7XG5pbXBvcnQgeyBleHBhbmRDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IEhyYW5hVHJhbnNhY3Rpb24sIGV4ZWN1dGVIcmFuYUJhdGNoLCBzdG10VG9IcmFuYSwgcmVzdWx0U2V0RnJvbUhyYW5hLCBtYXBIcmFuYUVycm9yLCB9IGZyb20gXCIuL2hyYW5hLmpzXCI7XG5pbXBvcnQgeyBTcWxDYWNoZSB9IGZyb20gXCIuL3NxbF9jYWNoZS5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlQmFzZVVybCB9IGZyb20gXCIuL3VyaS5qc1wiO1xuaW1wb3J0IHsgc3VwcG9ydGVkVXJsTGluayB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2FwaS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudChjb25maWcpIHtcbiAgICByZXR1cm4gX2NyZWF0ZUNsaWVudChleHBhbmRDb25maWcoY29uZmlnLCB0cnVlKSk7XG59XG4vKiogQHByaXZhdGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBfY3JlYXRlQ2xpZW50KGNvbmZpZykge1xuICAgIGlmIChjb25maWcuc2NoZW1lICE9PSBcImh0dHBzXCIgJiYgY29uZmlnLnNjaGVtZSAhPT0gXCJodHRwXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKCdUaGUgSFRUUCBjbGllbnQgc3VwcG9ydHMgb25seSBcImxpYnNxbDpcIiwgXCJodHRwczpcIiBhbmQgXCJodHRwOlwiIFVSTHMsICcgK1xuICAgICAgICAgICAgYGdvdCAke0pTT04uc3RyaW5naWZ5KGNvbmZpZy5zY2hlbWUgKyBcIjpcIil9LiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHJlYWQgJHtzdXBwb3J0ZWRVcmxMaW5rfWAsIFwiVVJMX1NDSEVNRV9OT1RfU1VQUE9SVEVEXCIpO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLnNjaGVtZSA9PT0gXCJodHRwXCIgJiYgY29uZmlnLnRscykge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoYEEgXCJodHRwOlwiIFVSTCBjYW5ub3Qgb3B0IGludG8gVExTIGJ5IHVzaW5nID90bHM9MWAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbmZpZy5zY2hlbWUgPT09IFwiaHR0cHNcIiAmJiAhY29uZmlnLnRscykge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoYEEgXCJodHRwczpcIiBVUkwgY2Fubm90IG9wdCBvdXQgb2YgVExTIGJ5IHVzaW5nID90bHM9MGAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IGVuY29kZUJhc2VVcmwoY29uZmlnLnNjaGVtZSwgY29uZmlnLmF1dGhvcml0eSwgY29uZmlnLnBhdGgpO1xuICAgIHJldHVybiBuZXcgSHR0cENsaWVudCh1cmwsIGNvbmZpZy5hdXRoVG9rZW4sIGNvbmZpZy5pbnRNb2RlLCBjb25maWcuZmV0Y2gpO1xufVxuY29uc3Qgc3FsQ2FjaGVDYXBhY2l0eSA9IDMwO1xuZXhwb3J0IGNsYXNzIEh0dHBDbGllbnQge1xuICAgICNjbGllbnQ7XG4gICAgcHJvdG9jb2w7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IodXJsLCBhdXRoVG9rZW4sIGludE1vZGUsIGN1c3RvbUZldGNoKSB7XG4gICAgICAgIHRoaXMuI2NsaWVudCA9IGhyYW5hLm9wZW5IdHRwKHVybCwgYXV0aFRva2VuLCBjdXN0b21GZXRjaCk7XG4gICAgICAgIHRoaXMuI2NsaWVudC5pbnRNb2RlID0gaW50TW9kZTtcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IFwiaHR0cFwiO1xuICAgIH1cbiAgICBhc3luYyBleGVjdXRlKHN0bXQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGhyYW5hU3RtdCA9IHN0bXRUb0hyYW5hKHN0bXQpO1xuICAgICAgICAgICAgLy8gUGlwZWxpbmUgYWxsIG9wZXJhdGlvbnMsIHNvIGBocmFuYS5IdHRwQ2xpZW50YCBjYW4gb3BlbiB0aGUgc3RyZWFtLCBleGVjdXRlIHRoZSBzdGF0ZW1lbnQgYW5kXG4gICAgICAgICAgICAvLyBjbG9zZSB0aGUgc3RyZWFtIGluIGEgc2luZ2xlIEhUVFAgcmVxdWVzdC5cbiAgICAgICAgICAgIGxldCByb3dzUHJvbWlzZTtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuI2NsaWVudC5vcGVuU3RyZWFtKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJvd3NQcm9taXNlID0gc3RyZWFtLnF1ZXJ5KGhyYW5hU3RtdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uY2xvc2VHcmFjZWZ1bGx5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0U2V0RnJvbUhyYW5hKGF3YWl0IHJvd3NQcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBiYXRjaChzdG10cywgbW9kZSA9IFwiZGVmZXJyZWRcIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaHJhbmFTdG10cyA9IHN0bXRzLm1hcChzdG10VG9IcmFuYSk7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gYXdhaXQgdGhpcy4jY2xpZW50LmdldFZlcnNpb24oKTtcbiAgICAgICAgICAgIC8vIFBpcGVsaW5lIGFsbCBvcGVyYXRpb25zLCBzbyBgaHJhbmEuSHR0cENsaWVudGAgY2FuIG9wZW4gdGhlIHN0cmVhbSwgZXhlY3V0ZSB0aGUgYmF0Y2ggYW5kXG4gICAgICAgICAgICAvLyBjbG9zZSB0aGUgc3RyZWFtIGluIGEgc2luZ2xlIEhUVFAgcmVxdWVzdC5cbiAgICAgICAgICAgIGxldCByZXN1bHRzUHJvbWlzZTtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuI2NsaWVudC5vcGVuU3RyZWFtKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEl0IG1ha2VzIHNlbnNlIHRvIHVzZSBhIFNRTCBjYWNoZSBldmVuIGZvciBhIHNpbmdsZSBiYXRjaCwgYmVjYXVzZSBpdCBtYXkgY29udGFpbiB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vIHN0YXRlbWVudCByZXBlYXRlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgICAgICAgICBjb25zdCBzcWxDYWNoZSA9IG5ldyBTcWxDYWNoZShzdHJlYW0sIHNxbENhY2hlQ2FwYWNpdHkpO1xuICAgICAgICAgICAgICAgIHNxbENhY2hlLmFwcGx5KGhyYW5hU3RtdHMpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHdlIGRvIG5vdCB1c2UgYSBjdXJzb3IgaGVyZSwgYmVjYXVzZSBpdCB3b3VsZCBjYXVzZSB0aHJlZSByb3VuZHRyaXBzOlxuICAgICAgICAgICAgICAgIC8vIDEuIHBpcGVsaW5lIHJlcXVlc3QgdG8gc3RvcmUgU1FMIHRleHRzXG4gICAgICAgICAgICAgICAgLy8gMi4gY3Vyc29yIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAvLyAzLiBwaXBlbGluZSByZXF1ZXN0IHRvIGNsb3NlIHRoZSBzdHJlYW1cbiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IHN0cmVhbS5iYXRjaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0c1Byb21pc2UgPSBleGVjdXRlSHJhbmFCYXRjaChtb2RlLCB2ZXJzaW9uLCBiYXRjaCwgaHJhbmFTdG10cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uY2xvc2VHcmFjZWZ1bGx5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgcmVzdWx0c1Byb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgdHJhbnNhY3Rpb24obW9kZSA9IFwid3JpdGVcIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IHRoaXMuI2NsaWVudC5nZXRWZXJzaW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEh0dHBUcmFuc2FjdGlvbih0aGlzLiNjbGllbnQub3BlblN0cmVhbSgpLCBtb2RlLCB2ZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBleGVjdXRlTXVsdGlwbGUoc3FsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBQaXBlbGluZSBhbGwgb3BlcmF0aW9ucywgc28gYGhyYW5hLkh0dHBDbGllbnRgIGNhbiBvcGVuIHRoZSBzdHJlYW0sIGV4ZWN1dGUgdGhlIHNlcXVlbmNlIGFuZFxuICAgICAgICAgICAgLy8gY2xvc2UgdGhlIHN0cmVhbSBpbiBhIHNpbmdsZSBIVFRQIHJlcXVlc3QuXG4gICAgICAgICAgICBsZXQgcHJvbWlzZTtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuI2NsaWVudC5vcGVuU3RyZWFtKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHByb21pc2UgPSBzdHJlYW0uc2VxdWVuY2Uoc3FsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5jbG9zZUdyYWNlZnVsbHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuI2NsaWVudC5jbG9zZSgpO1xuICAgIH1cbiAgICBnZXQgY2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY2xpZW50LmNsb3NlZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSHR0cFRyYW5zYWN0aW9uIGV4dGVuZHMgSHJhbmFUcmFuc2FjdGlvbiB7XG4gICAgI3N0cmVhbTtcbiAgICAjc3FsQ2FjaGU7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Ioc3RyZWFtLCBtb2RlLCB2ZXJzaW9uKSB7XG4gICAgICAgIHN1cGVyKG1vZGUsIHZlcnNpb24pO1xuICAgICAgICB0aGlzLiNzdHJlYW0gPSBzdHJlYW07XG4gICAgICAgIHRoaXMuI3NxbENhY2hlID0gbmV3IFNxbENhY2hlKHN0cmVhbSwgc3FsQ2FjaGVDYXBhY2l0eSk7XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9nZXRTdHJlYW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdHJlYW07XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9nZXRTcWxDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NxbENhY2hlO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy4jc3RyZWFtLmNsb3NlKCk7XG4gICAgfVxuICAgIGdldCBjbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdHJlYW0uY2xvc2VkO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJocmFuYSIsIkxpYnNxbEVycm9yIiwiZXhwYW5kQ29uZmlnIiwiSHJhbmFUcmFuc2FjdGlvbiIsImV4ZWN1dGVIcmFuYUJhdGNoIiwic3RtdFRvSHJhbmEiLCJyZXN1bHRTZXRGcm9tSHJhbmEiLCJtYXBIcmFuYUVycm9yIiwiU3FsQ2FjaGUiLCJlbmNvZGVCYXNlVXJsIiwic3VwcG9ydGVkVXJsTGluayIsImNyZWF0ZUNsaWVudCIsImNvbmZpZyIsIl9jcmVhdGVDbGllbnQiLCJzY2hlbWUiLCJKU09OIiwic3RyaW5naWZ5IiwidGxzIiwidXJsIiwiYXV0aG9yaXR5IiwicGF0aCIsIkh0dHBDbGllbnQiLCJhdXRoVG9rZW4iLCJpbnRNb2RlIiwiZmV0Y2giLCJzcWxDYWNoZUNhcGFjaXR5IiwiY2xpZW50IiwiY29uc3RydWN0b3IiLCJjdXN0b21GZXRjaCIsIm9wZW5IdHRwIiwicHJvdG9jb2wiLCJleGVjdXRlIiwic3RtdCIsImhyYW5hU3RtdCIsInJvd3NQcm9taXNlIiwic3RyZWFtIiwib3BlblN0cmVhbSIsInF1ZXJ5IiwiY2xvc2VHcmFjZWZ1bGx5IiwiZSIsImJhdGNoIiwic3RtdHMiLCJtb2RlIiwiaHJhbmFTdG10cyIsIm1hcCIsInZlcnNpb24iLCJnZXRWZXJzaW9uIiwicmVzdWx0c1Byb21pc2UiLCJzcWxDYWNoZSIsImFwcGx5IiwidHJhbnNhY3Rpb24iLCJIdHRwVHJhbnNhY3Rpb24iLCJleGVjdXRlTXVsdGlwbGUiLCJzcWwiLCJwcm9taXNlIiwic2VxdWVuY2UiLCJjbG9zZSIsImNsb3NlZCIsIl9nZXRTdHJlYW0iLCJfZ2V0U3FsQ2FjaGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/http.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/node.js":
/*!*************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/node.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LibsqlError: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_4__.LibsqlError),\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/config.js\");\n/* harmony import */ var _sqlite3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sqlite3.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sqlite3.js\");\n/* harmony import */ var _ws_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ws.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/ws.js\");\n/* harmony import */ var _http_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/http.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./api.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js\");\n\n\n\n\n\n/** Creates a {@link Client} object.\n *\n * You must pass at least an `url` in the {@link Config} object.\n */ function createClient(config) {\n    return _createClient((0,_config_js__WEBPACK_IMPORTED_MODULE_0__.expandConfig)(config, true));\n}\nfunction _createClient(config) {\n    if (config.scheme === \"wss\" || config.scheme === \"ws\") {\n        return (0,_ws_js__WEBPACK_IMPORTED_MODULE_2__._createClient)(config);\n    } else if (config.scheme === \"https\" || config.scheme === \"http\") {\n        return (0,_http_js__WEBPACK_IMPORTED_MODULE_3__._createClient)(config);\n    } else {\n        return (0,_sqlite3_js__WEBPACK_IMPORTED_MODULE_1__._createClient)(config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL25vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyQztBQUMwQjtBQUNWO0FBQ0k7QUFDdEM7QUFDekI7OztDQUdDLEdBQ00sU0FBU0ssYUFBYUMsTUFBTTtJQUMvQixPQUFPTCxjQUFjRCx3REFBWUEsQ0FBQ00sUUFBUTtBQUM5QztBQUNBLFNBQVNMLGNBQWNLLE1BQU07SUFDekIsSUFBSUEsT0FBT0MsTUFBTSxLQUFLLFNBQVNELE9BQU9DLE1BQU0sS0FBSyxNQUFNO1FBQ25ELE9BQU9KLHFEQUFlQSxDQUFDRztJQUMzQixPQUNLLElBQUlBLE9BQU9DLE1BQU0sS0FBSyxXQUFXRCxPQUFPQyxNQUFNLEtBQUssUUFBUTtRQUM1RCxPQUFPSCx1REFBaUJBLENBQUNFO0lBQzdCLE9BQ0s7UUFDRCxPQUFPSiwwREFBb0JBLENBQUNJO0lBQ2hDO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG9rZW5zdHJlYW0vd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvQGxpYnNxbC9jbGllbnQvbGliLWVzbS9ub2RlLmpzP2IxZDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhwYW5kQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBfY3JlYXRlQ2xpZW50IGFzIF9jcmVhdGVTcWxpdGUzQ2xpZW50IH0gZnJvbSBcIi4vc3FsaXRlMy5qc1wiO1xuaW1wb3J0IHsgX2NyZWF0ZUNsaWVudCBhcyBfY3JlYXRlV3NDbGllbnQgfSBmcm9tIFwiLi93cy5qc1wiO1xuaW1wb3J0IHsgX2NyZWF0ZUNsaWVudCBhcyBfY3JlYXRlSHR0cENsaWVudCB9IGZyb20gXCIuL2h0dHAuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2FwaS5qc1wiO1xuLyoqIENyZWF0ZXMgYSB7QGxpbmsgQ2xpZW50fSBvYmplY3QuXG4gKlxuICogWW91IG11c3QgcGFzcyBhdCBsZWFzdCBhbiBgdXJsYCBpbiB0aGUge0BsaW5rIENvbmZpZ30gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2xpZW50KGNvbmZpZykge1xuICAgIHJldHVybiBfY3JlYXRlQ2xpZW50KGV4cGFuZENvbmZpZyhjb25maWcsIHRydWUpKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVDbGllbnQoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5zY2hlbWUgPT09IFwid3NzXCIgfHwgY29uZmlnLnNjaGVtZSA9PT0gXCJ3c1wiKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlV3NDbGllbnQoY29uZmlnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29uZmlnLnNjaGVtZSA9PT0gXCJodHRwc1wiIHx8IGNvbmZpZy5zY2hlbWUgPT09IFwiaHR0cFwiKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlSHR0cENsaWVudChjb25maWcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVTcWxpdGUzQ2xpZW50KGNvbmZpZyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImV4cGFuZENvbmZpZyIsIl9jcmVhdGVDbGllbnQiLCJfY3JlYXRlU3FsaXRlM0NsaWVudCIsIl9jcmVhdGVXc0NsaWVudCIsIl9jcmVhdGVIdHRwQ2xpZW50IiwiY3JlYXRlQ2xpZW50IiwiY29uZmlnIiwic2NoZW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/node.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sql_cache.js":
/*!******************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sql_cache.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SqlCache: () => (/* binding */ SqlCache)\n/* harmony export */ });\nclass SqlCache {\n    #owner;\n    #sqls;\n    constructor(owner, capacity){\n        this.#owner = owner;\n        this.#sqls = new Lru();\n        this.capacity = capacity;\n    }\n    // Replaces SQL strings with cached `hrana.Sql` objects in the statements in `hranaStmts`. After this\n    // function returns, we guarantee that all `hranaStmts` refer to valid (not closed) `hrana.Sql` objects,\n    // but _we may invalidate any other `hrana.Sql` objects_ (by closing them, thus removing them from the\n    // server).\n    //\n    // In practice, this means that after calling this function, you can use the statements only up to the\n    // first `await`, because concurrent code may also use the cache and invalidate those statements.\n    apply(hranaStmts) {\n        if (this.capacity <= 0) {\n            return;\n        }\n        const usedSqlObjs = new Set();\n        for (const hranaStmt of hranaStmts){\n            if (typeof hranaStmt.sql !== \"string\") {\n                continue;\n            }\n            const sqlText = hranaStmt.sql;\n            let sqlObj = this.#sqls.get(sqlText);\n            if (sqlObj === undefined) {\n                while(this.#sqls.size + 1 > this.capacity){\n                    const [evictSqlText, evictSqlObj] = this.#sqls.peekLru();\n                    if (usedSqlObjs.has(evictSqlObj)) {\n                        break;\n                    }\n                    evictSqlObj.close();\n                    this.#sqls.delete(evictSqlText);\n                }\n                if (this.#sqls.size + 1 <= this.capacity) {\n                    sqlObj = this.#owner.storeSql(sqlText);\n                    this.#sqls.set(sqlText, sqlObj);\n                }\n            }\n            if (sqlObj !== undefined) {\n                hranaStmt.sql = sqlObj;\n                usedSqlObjs.add(sqlObj);\n            }\n        }\n    }\n}\nclass Lru {\n    // This maps keys to the cache values. The entries are ordered by their last use (entires that were used\n    // most recently are at the end).\n    #cache;\n    constructor(){\n        this.#cache = new Map();\n    }\n    get(key) {\n        const value = this.#cache.get(key);\n        if (value !== undefined) {\n            // move the entry to the back of the Map\n            this.#cache.delete(key);\n            this.#cache.set(key, value);\n        }\n        return value;\n    }\n    set(key, value) {\n        this.#cache.set(key, value);\n    }\n    peekLru() {\n        for (const entry of this.#cache.entries()){\n            return entry;\n        }\n        return undefined;\n    }\n    delete(key) {\n        this.#cache.delete(key);\n    }\n    get size() {\n        return this.#cache.size;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL3NxbF9jYWNoZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUE7SUFDVCxDQUFDQyxLQUFLLENBQUM7SUFDUCxDQUFDQyxJQUFJLENBQUM7SUFFTkMsWUFBWUYsS0FBSyxFQUFFRyxRQUFRLENBQUU7UUFDekIsSUFBSSxDQUFDLENBQUNILEtBQUssR0FBR0E7UUFDZCxJQUFJLENBQUMsQ0FBQ0MsSUFBSSxHQUFHLElBQUlHO1FBQ2pCLElBQUksQ0FBQ0QsUUFBUSxHQUFHQTtJQUNwQjtJQUNBLHFHQUFxRztJQUNyRyx3R0FBd0c7SUFDeEcsc0dBQXNHO0lBQ3RHLFdBQVc7SUFDWCxFQUFFO0lBQ0Ysc0dBQXNHO0lBQ3RHLGlHQUFpRztJQUNqR0UsTUFBTUMsVUFBVSxFQUFFO1FBQ2QsSUFBSSxJQUFJLENBQUNILFFBQVEsSUFBSSxHQUFHO1lBQ3BCO1FBQ0o7UUFDQSxNQUFNSSxjQUFjLElBQUlDO1FBQ3hCLEtBQUssTUFBTUMsYUFBYUgsV0FBWTtZQUNoQyxJQUFJLE9BQU9HLFVBQVVDLEdBQUcsS0FBSyxVQUFVO2dCQUNuQztZQUNKO1lBQ0EsTUFBTUMsVUFBVUYsVUFBVUMsR0FBRztZQUM3QixJQUFJRSxTQUFTLElBQUksQ0FBQyxDQUFDWCxJQUFJLENBQUNZLEdBQUcsQ0FBQ0Y7WUFDNUIsSUFBSUMsV0FBV0UsV0FBVztnQkFDdEIsTUFBTyxJQUFJLENBQUMsQ0FBQ2IsSUFBSSxDQUFDYyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUNaLFFBQVEsQ0FBRTtvQkFDeEMsTUFBTSxDQUFDYSxjQUFjQyxZQUFZLEdBQUcsSUFBSSxDQUFDLENBQUNoQixJQUFJLENBQUNpQixPQUFPO29CQUN0RCxJQUFJWCxZQUFZWSxHQUFHLENBQUNGLGNBQWM7d0JBRzlCO29CQUNKO29CQUNBQSxZQUFZRyxLQUFLO29CQUNqQixJQUFJLENBQUMsQ0FBQ25CLElBQUksQ0FBQ29CLE1BQU0sQ0FBQ0w7Z0JBQ3RCO2dCQUNBLElBQUksSUFBSSxDQUFDLENBQUNmLElBQUksQ0FBQ2MsSUFBSSxHQUFHLEtBQUssSUFBSSxDQUFDWixRQUFRLEVBQUU7b0JBQ3RDUyxTQUFTLElBQUksQ0FBQyxDQUFDWixLQUFLLENBQUNzQixRQUFRLENBQUNYO29CQUM5QixJQUFJLENBQUMsQ0FBQ1YsSUFBSSxDQUFDc0IsR0FBRyxDQUFDWixTQUFTQztnQkFDNUI7WUFDSjtZQUNBLElBQUlBLFdBQVdFLFdBQVc7Z0JBQ3RCTCxVQUFVQyxHQUFHLEdBQUdFO2dCQUNoQkwsWUFBWWlCLEdBQUcsQ0FBQ1o7WUFDcEI7UUFDSjtJQUNKO0FBQ0o7QUFDQSxNQUFNUjtJQUNGLHdHQUF3RztJQUN4RyxpQ0FBaUM7SUFDakMsQ0FBQ3FCLEtBQUssQ0FBQztJQUNQdkIsYUFBYztRQUNWLElBQUksQ0FBQyxDQUFDdUIsS0FBSyxHQUFHLElBQUlDO0lBQ3RCO0lBQ0FiLElBQUljLEdBQUcsRUFBRTtRQUNMLE1BQU1DLFFBQVEsSUFBSSxDQUFDLENBQUNILEtBQUssQ0FBQ1osR0FBRyxDQUFDYztRQUM5QixJQUFJQyxVQUFVZCxXQUFXO1lBQ3JCLHdDQUF3QztZQUN4QyxJQUFJLENBQUMsQ0FBQ1csS0FBSyxDQUFDSixNQUFNLENBQUNNO1lBQ25CLElBQUksQ0FBQyxDQUFDRixLQUFLLENBQUNGLEdBQUcsQ0FBQ0ksS0FBS0M7UUFDekI7UUFDQSxPQUFPQTtJQUNYO0lBQ0FMLElBQUlJLEdBQUcsRUFBRUMsS0FBSyxFQUFFO1FBQ1osSUFBSSxDQUFDLENBQUNILEtBQUssQ0FBQ0YsR0FBRyxDQUFDSSxLQUFLQztJQUN6QjtJQUNBVixVQUFVO1FBQ04sS0FBSyxNQUFNVyxTQUFTLElBQUksQ0FBQyxDQUFDSixLQUFLLENBQUNLLE9BQU8sR0FBSTtZQUN2QyxPQUFPRDtRQUNYO1FBQ0EsT0FBT2Y7SUFDWDtJQUNBTyxPQUFPTSxHQUFHLEVBQUU7UUFDUixJQUFJLENBQUMsQ0FBQ0YsS0FBSyxDQUFDSixNQUFNLENBQUNNO0lBQ3ZCO0lBQ0EsSUFBSVosT0FBTztRQUNQLE9BQU8sSUFBSSxDQUFDLENBQUNVLEtBQUssQ0FBQ1YsSUFBSTtJQUMzQjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHRva2Vuc3RyZWFtL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtjbGllbnRAMC4zLjQvbm9kZV9tb2R1bGVzL0BsaWJzcWwvY2xpZW50L2xpYi1lc20vc3FsX2NhY2hlLmpzPzQzNmQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFNxbENhY2hlIHtcbiAgICAjb3duZXI7XG4gICAgI3NxbHM7XG4gICAgY2FwYWNpdHk7XG4gICAgY29uc3RydWN0b3Iob3duZXIsIGNhcGFjaXR5KSB7XG4gICAgICAgIHRoaXMuI293bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMuI3NxbHMgPSBuZXcgTHJ1KCk7XG4gICAgICAgIHRoaXMuY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgICB9XG4gICAgLy8gUmVwbGFjZXMgU1FMIHN0cmluZ3Mgd2l0aCBjYWNoZWQgYGhyYW5hLlNxbGAgb2JqZWN0cyBpbiB0aGUgc3RhdGVtZW50cyBpbiBgaHJhbmFTdG10c2AuIEFmdGVyIHRoaXNcbiAgICAvLyBmdW5jdGlvbiByZXR1cm5zLCB3ZSBndWFyYW50ZWUgdGhhdCBhbGwgYGhyYW5hU3RtdHNgIHJlZmVyIHRvIHZhbGlkIChub3QgY2xvc2VkKSBgaHJhbmEuU3FsYCBvYmplY3RzLFxuICAgIC8vIGJ1dCBfd2UgbWF5IGludmFsaWRhdGUgYW55IG90aGVyIGBocmFuYS5TcWxgIG9iamVjdHNfIChieSBjbG9zaW5nIHRoZW0sIHRodXMgcmVtb3ZpbmcgdGhlbSBmcm9tIHRoZVxuICAgIC8vIHNlcnZlcikuXG4gICAgLy9cbiAgICAvLyBJbiBwcmFjdGljZSwgdGhpcyBtZWFucyB0aGF0IGFmdGVyIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiwgeW91IGNhbiB1c2UgdGhlIHN0YXRlbWVudHMgb25seSB1cCB0byB0aGVcbiAgICAvLyBmaXJzdCBgYXdhaXRgLCBiZWNhdXNlIGNvbmN1cnJlbnQgY29kZSBtYXkgYWxzbyB1c2UgdGhlIGNhY2hlIGFuZCBpbnZhbGlkYXRlIHRob3NlIHN0YXRlbWVudHMuXG4gICAgYXBwbHkoaHJhbmFTdG10cykge1xuICAgICAgICBpZiAodGhpcy5jYXBhY2l0eSA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlZFNxbE9ianMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgaHJhbmFTdG10IG9mIGhyYW5hU3RtdHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaHJhbmFTdG10LnNxbCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3FsVGV4dCA9IGhyYW5hU3RtdC5zcWw7XG4gICAgICAgICAgICBsZXQgc3FsT2JqID0gdGhpcy4jc3Fscy5nZXQoc3FsVGV4dCk7XG4gICAgICAgICAgICBpZiAoc3FsT2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy4jc3Fscy5zaXplICsgMSA+IHRoaXMuY2FwYWNpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW2V2aWN0U3FsVGV4dCwgZXZpY3RTcWxPYmpdID0gdGhpcy4jc3Fscy5wZWVrTHJ1KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VkU3FsT2Jqcy5oYXMoZXZpY3RTcWxPYmopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgU1FMIG9iamVjdCB0aGF0IHdlIGFyZSB0cnlpbmcgdG8gZXZpY3QgaXMgYWxyZWFkeSBpbiB1c2UgaW4gdGhpcyBiYXRjaCwgc28gd2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG11c3Qgbm90IGV2aWN0IGFuZCBjbG9zZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV2aWN0U3FsT2JqLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3NxbHMuZGVsZXRlKGV2aWN0U3FsVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiNzcWxzLnNpemUgKyAxIDw9IHRoaXMuY2FwYWNpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3FsT2JqID0gdGhpcy4jb3duZXIuc3RvcmVTcWwoc3FsVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3NxbHMuc2V0KHNxbFRleHQsIHNxbE9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNxbE9iaiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaHJhbmFTdG10LnNxbCA9IHNxbE9iajtcbiAgICAgICAgICAgICAgICB1c2VkU3FsT2Jqcy5hZGQoc3FsT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIExydSB7XG4gICAgLy8gVGhpcyBtYXBzIGtleXMgdG8gdGhlIGNhY2hlIHZhbHVlcy4gVGhlIGVudHJpZXMgYXJlIG9yZGVyZWQgYnkgdGhlaXIgbGFzdCB1c2UgKGVudGlyZXMgdGhhdCB3ZXJlIHVzZWRcbiAgICAvLyBtb3N0IHJlY2VudGx5IGFyZSBhdCB0aGUgZW5kKS5cbiAgICAjY2FjaGU7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuI2NhY2hlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy4jY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIHRoZSBlbnRyeSB0byB0aGUgYmFjayBvZiB0aGUgTWFwXG4gICAgICAgICAgICB0aGlzLiNjYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIHRoaXMuI2NhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuI2NhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcGVla0xydSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLiNjYWNoZS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIHRoaXMuI2NhY2hlLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NhY2hlLnNpemU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIlNxbENhY2hlIiwib3duZXIiLCJzcWxzIiwiY29uc3RydWN0b3IiLCJjYXBhY2l0eSIsIkxydSIsImFwcGx5IiwiaHJhbmFTdG10cyIsInVzZWRTcWxPYmpzIiwiU2V0IiwiaHJhbmFTdG10Iiwic3FsIiwic3FsVGV4dCIsInNxbE9iaiIsImdldCIsInVuZGVmaW5lZCIsInNpemUiLCJldmljdFNxbFRleHQiLCJldmljdFNxbE9iaiIsInBlZWtMcnUiLCJoYXMiLCJjbG9zZSIsImRlbGV0ZSIsInN0b3JlU3FsIiwic2V0IiwiYWRkIiwiY2FjaGUiLCJNYXAiLCJrZXkiLCJ2YWx1ZSIsImVudHJ5IiwiZW50cmllcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sql_cache.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sqlite3.js":
/*!****************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sqlite3.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LibsqlError: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError),\n/* harmony export */   Sqlite3Client: () => (/* binding */ Sqlite3Client),\n/* harmony export */   Sqlite3Transaction: () => (/* binding */ Sqlite3Transaction),\n/* harmony export */   _createClient: () => (/* binding */ _createClient),\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"(rsc)/../../node_modules/.pnpm/better-sqlite3@8.7.0/node_modules/better-sqlite3/lib/index.js\");\n/* harmony import */ var node_buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node:buffer */ \"node:buffer\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/config.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/util.js\");\n\n\n\n\n\n\nfunction createClient(config) {\n    return _createClient((0,_config_js__WEBPACK_IMPORTED_MODULE_3__.expandConfig)(config, true));\n}\n/** @private */ function _createClient(config) {\n    if (config.scheme !== \"file\") {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError(`URL scheme ${JSON.stringify(config.scheme + \":\")} is not supported by the local sqlite3 client. ` + `For more information, please read ${_util_js__WEBPACK_IMPORTED_MODULE_4__.supportedUrlLink}`, \"URL_SCHEME_NOT_SUPPORTED\");\n    }\n    const authority = config.authority;\n    if (authority !== undefined) {\n        const host = authority.host.toLowerCase();\n        if (host !== \"\" && host !== \"localhost\") {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError(`Invalid host in file URL: ${JSON.stringify(authority.host)}. ` + 'A \"file:\" URL with an absolute path should start with one slash (\"file:/absolute/path.db\") ' + 'or with three slashes (\"file:///absolute/path.db\"). ' + `For more information, please read ${_util_js__WEBPACK_IMPORTED_MODULE_4__.supportedUrlLink}`, \"URL_INVALID\");\n        }\n        if (authority.port !== undefined) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError(\"File URL cannot have a port\", \"URL_INVALID\");\n        }\n        if (authority.userinfo !== undefined) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError(\"File URL cannot have username and password\", \"URL_INVALID\");\n        }\n    }\n    const path = config.path;\n    const options = {};\n    const db = new better_sqlite3__WEBPACK_IMPORTED_MODULE_0__(path, options);\n    try {\n        executeStmt(db, \"SELECT 1 AS checkThatTheDatabaseCanBeOpened\", config.intMode);\n    } finally{\n        db.close();\n    }\n    return new Sqlite3Client(path, options, config.intMode);\n}\nclass Sqlite3Client {\n    #path;\n    #options;\n    #intMode;\n    /** @private */ constructor(path, options, intMode){\n        this.#path = path;\n        this.#options = options;\n        this.#intMode = intMode;\n        this.closed = false;\n        this.protocol = \"file\";\n    }\n    async execute(stmt) {\n        this.#checkNotClosed();\n        const db = new better_sqlite3__WEBPACK_IMPORTED_MODULE_0__(this.#path, this.#options);\n        try {\n            return executeStmt(db, stmt, this.#intMode);\n        } finally{\n            db.close();\n        }\n    }\n    async batch(stmts, mode = \"deferred\") {\n        this.#checkNotClosed();\n        const db = new better_sqlite3__WEBPACK_IMPORTED_MODULE_0__(this.#path, this.#options);\n        try {\n            executeStmt(db, (0,_util_js__WEBPACK_IMPORTED_MODULE_4__.transactionModeToBegin)(mode), this.#intMode);\n            const resultSets = stmts.map((stmt)=>{\n                if (!db.inTransaction) {\n                    throw new _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError(\"The transaction has been rolled back\", \"TRANSACTION_CLOSED\");\n                }\n                return executeStmt(db, stmt, this.#intMode);\n            });\n            executeStmt(db, \"COMMIT\", this.#intMode);\n            return resultSets;\n        } finally{\n            db.close();\n        }\n    }\n    async transaction(mode = \"write\") {\n        this.#checkNotClosed();\n        const db = new better_sqlite3__WEBPACK_IMPORTED_MODULE_0__(this.#path, this.#options);\n        try {\n            executeStmt(db, (0,_util_js__WEBPACK_IMPORTED_MODULE_4__.transactionModeToBegin)(mode), this.#intMode);\n            return new Sqlite3Transaction(db, this.#intMode);\n        } catch (e) {\n            db.close();\n            throw e;\n        }\n    }\n    async executeMultiple(sql) {\n        this.#checkNotClosed();\n        const db = new better_sqlite3__WEBPACK_IMPORTED_MODULE_0__(this.#path, this.#options);\n        try {\n            return executeMultiple(db, sql);\n        } finally{\n            db.close();\n        }\n    }\n    close() {\n        this.closed = true;\n    }\n    #checkNotClosed() {\n        if (this.closed) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError(\"The client is closed\", \"CLIENT_CLOSED\");\n        }\n    }\n}\nclass Sqlite3Transaction {\n    #database;\n    #intMode;\n    /** @private */ constructor(database, intMode){\n        this.#database = database;\n        this.#intMode = intMode;\n    }\n    async execute(stmt) {\n        this.#checkNotClosed();\n        return executeStmt(this.#database, stmt, this.#intMode);\n    }\n    async batch(stmts) {\n        return stmts.map((stmt)=>{\n            this.#checkNotClosed();\n            return executeStmt(this.#database, stmt, this.#intMode);\n        });\n    }\n    async executeMultiple(sql) {\n        this.#checkNotClosed();\n        return executeMultiple(this.#database, sql);\n    }\n    async rollback() {\n        if (!this.#database.open) {\n            return;\n        }\n        this.#checkNotClosed();\n        executeStmt(this.#database, \"ROLLBACK\", this.#intMode);\n        this.#database.close();\n    }\n    async commit() {\n        this.#checkNotClosed();\n        executeStmt(this.#database, \"COMMIT\", this.#intMode);\n        this.#database.close();\n    }\n    close() {\n        this.#database.close();\n    }\n    get closed() {\n        return !this.#database.open;\n    }\n    #checkNotClosed() {\n        if (!this.#database.open || !this.#database.inTransaction) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError(\"The transaction is closed\", \"TRANSACTION_CLOSED\");\n        }\n    }\n}\nfunction executeStmt(db, stmt, intMode) {\n    let sql;\n    let args;\n    if (typeof stmt === \"string\") {\n        sql = stmt;\n        args = [];\n    } else {\n        sql = stmt.sql;\n        if (Array.isArray(stmt.args)) {\n            args = stmt.args.map(valueToSql);\n        } else {\n            args = {};\n            for(const name in stmt.args){\n                const argName = name[0] === \"@\" || name[0] === \"$\" || name[0] === \":\" ? name.substring(1) : name;\n                args[argName] = valueToSql(stmt.args[name]);\n            }\n        }\n    }\n    try {\n        const sqlStmt = db.prepare(sql);\n        sqlStmt.safeIntegers(true);\n        let returnsData = true;\n        try {\n            sqlStmt.raw(true);\n        } catch  {\n            // raw() throws an exception if the statement does not return data\n            returnsData = false;\n        }\n        if (returnsData) {\n            const columns = Array.from(sqlStmt.columns().map((col)=>col.name));\n            const rows = sqlStmt.all(args).map((sqlRow)=>{\n                return rowFromSql(sqlRow, columns, intMode);\n            });\n            // TODO: can we get this info from better-sqlite3?\n            const rowsAffected = 0;\n            const lastInsertRowid = undefined;\n            return new _util_js__WEBPACK_IMPORTED_MODULE_4__.ResultSetImpl(columns, rows, rowsAffected, lastInsertRowid);\n        } else {\n            const info = sqlStmt.run(args);\n            const rowsAffected = info.changes;\n            const lastInsertRowid = BigInt(info.lastInsertRowid);\n            return new _util_js__WEBPACK_IMPORTED_MODULE_4__.ResultSetImpl([], [], rowsAffected, lastInsertRowid);\n        }\n    } catch (e) {\n        throw mapSqliteError(e);\n    }\n}\nfunction rowFromSql(sqlRow, columns, intMode) {\n    const row = {};\n    // make sure that the \"length\" property is not enumerable\n    Object.defineProperty(row, \"length\", {\n        value: sqlRow.length\n    });\n    for(let i = 0; i < sqlRow.length; ++i){\n        const value = valueFromSql(sqlRow[i], intMode);\n        Object.defineProperty(row, i, {\n            value\n        });\n        const column = columns[i];\n        if (!Object.hasOwn(row, column)) {\n            Object.defineProperty(row, column, {\n                value,\n                enumerable: true\n            });\n        }\n    }\n    return row;\n}\nfunction valueFromSql(sqlValue, intMode) {\n    if (typeof sqlValue === \"bigint\") {\n        if (intMode === \"number\") {\n            if (sqlValue < minSafeBigint || sqlValue > maxSafeBigint) {\n                throw new RangeError(\"Received integer which cannot be safely represented as a JavaScript number\");\n            }\n            return Number(sqlValue);\n        } else if (intMode === \"bigint\") {\n            return sqlValue;\n        } else if (intMode === \"string\") {\n            return \"\" + sqlValue;\n        } else {\n            throw new Error(\"Invalid value for IntMode\");\n        }\n    } else if (sqlValue instanceof node_buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer) {\n        return sqlValue.buffer;\n    }\n    return sqlValue;\n}\nconst minSafeBigint = -9007199254740991n;\nconst maxSafeBigint = 9007199254740991n;\nfunction valueToSql(value) {\n    if (typeof value === \"number\") {\n        if (!Number.isFinite(value)) {\n            throw new RangeError(\"Only finite numbers (not Infinity or NaN) can be passed as arguments\");\n        }\n        return value;\n    } else if (typeof value === \"bigint\") {\n        if (value < minInteger || value > maxInteger) {\n            throw new RangeError(\"bigint is too large to be represented as a 64-bit integer and passed as argument\");\n        }\n        return value;\n    } else if (typeof value === \"boolean\") {\n        return value ? 1n : 0n;\n    } else if (value instanceof ArrayBuffer) {\n        return node_buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(value);\n    } else if (value instanceof Date) {\n        return value.valueOf();\n    } else if (value === undefined) {\n        throw new TypeError(\"undefined cannot be passed as argument to the database\");\n    } else {\n        return value;\n    }\n}\nconst minInteger = -9223372036854775808n;\nconst maxInteger = 9223372036854775807n;\nfunction executeMultiple(db, sql) {\n    try {\n        db.exec(sql);\n    } catch (e) {\n        throw mapSqliteError(e);\n    }\n}\nfunction mapSqliteError(e) {\n    if (e instanceof better_sqlite3__WEBPACK_IMPORTED_MODULE_0__.SqliteError) {\n        return new _api_js__WEBPACK_IMPORTED_MODULE_2__.LibsqlError(e.message, e.code, e);\n    }\n    return e;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL3NxbGl0ZTMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFzQztBQUNEO0FBQ0U7QUFDSTtBQUN5QztBQUMzRDtBQUNsQixTQUFTTyxhQUFhQyxNQUFNO0lBQy9CLE9BQU9DLGNBQWNOLHdEQUFZQSxDQUFDSyxRQUFRO0FBQzlDO0FBQ0EsYUFBYSxHQUNOLFNBQVNDLGNBQWNELE1BQU07SUFDaEMsSUFBSUEsT0FBT0UsTUFBTSxLQUFLLFFBQVE7UUFDMUIsTUFBTSxJQUFJUixnREFBV0EsQ0FBQyxDQUFDLFdBQVcsRUFBRVMsS0FBS0MsU0FBUyxDQUFDSixPQUFPRSxNQUFNLEdBQUcsS0FBSywrQ0FBK0MsQ0FBQyxHQUNwSCxDQUFDLGtDQUFrQyxFQUFFTixzREFBZ0JBLENBQUMsQ0FBQyxFQUFFO0lBQ2pFO0lBQ0EsTUFBTVMsWUFBWUwsT0FBT0ssU0FBUztJQUNsQyxJQUFJQSxjQUFjQyxXQUFXO1FBQ3pCLE1BQU1DLE9BQU9GLFVBQVVFLElBQUksQ0FBQ0MsV0FBVztRQUN2QyxJQUFJRCxTQUFTLE1BQU1BLFNBQVMsYUFBYTtZQUNyQyxNQUFNLElBQUliLGdEQUFXQSxDQUFDLENBQUMsMEJBQTBCLEVBQUVTLEtBQUtDLFNBQVMsQ0FBQ0MsVUFBVUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxHQUNqRixnR0FDQSx5REFDQSxDQUFDLGtDQUFrQyxFQUFFWCxzREFBZ0JBLENBQUMsQ0FBQyxFQUFFO1FBQ2pFO1FBQ0EsSUFBSVMsVUFBVUksSUFBSSxLQUFLSCxXQUFXO1lBQzlCLE1BQU0sSUFBSVosZ0RBQVdBLENBQUMsK0JBQStCO1FBQ3pEO1FBQ0EsSUFBSVcsVUFBVUssUUFBUSxLQUFLSixXQUFXO1lBQ2xDLE1BQU0sSUFBSVosZ0RBQVdBLENBQUMsOENBQThDO1FBQ3hFO0lBQ0o7SUFDQSxNQUFN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LE9BQ0ssSUFBSSxPQUFPQSxVQUFVLFVBQVU7UUFDaEMsSUFBSUEsUUFBUWUsY0FBY2YsUUFBUWdCLFlBQVk7WUFDMUMsTUFBTSxJQUFJTixXQUFXO1FBQ3pCO1FBQ0EsT0FBT1Y7SUFDWCxPQUNLLElBQUksT0FBT0EsVUFBVSxXQUFXO1FBQ2pDLE9BQU9BLFFBQVEsRUFBRSxHQUFHLEVBQUU7SUFDMUIsT0FDSyxJQUFJQSxpQkFBaUJpQixhQUFhO1FBQ25DLE9BQU81RiwrQ0FBTUEsQ0FBQzJELElBQUksQ0FBQ2dCO0lBQ3ZCLE9BQ0ssSUFBSUEsaUJBQWlCa0IsTUFBTTtRQUM1QixPQUFPbEIsTUFBTW1CLE9BQU87SUFDeEIsT0FDSyxJQUFJbkIsVUFBVTlELFdBQVc7UUFDMUIsTUFBTSxJQUFJa0YsVUFBVTtJQUN4QixPQUNLO1FBQ0QsT0FBT3BCO0lBQ1g7QUFDSjtBQUNBLE1BQU1lLGFBQWEsQ0FBQyxvQkFBb0I7QUFDeEMsTUFBTUMsYUFBYSxvQkFBb0I7QUFDdkMsU0FBU25ELGdCQUFnQnBCLEVBQUUsRUFBRXFCLEdBQUc7SUFDNUIsSUFBSTtRQUNBckIsR0FBRzRFLElBQUksQ0FBQ3ZEO0lBQ1osRUFDQSxPQUFPRixHQUFHO1FBQ04sTUFBTWdDLGVBQWVoQztJQUN6QjtBQUNKO0FBQ0EsU0FBU2dDLGVBQWVoQyxDQUFDO0lBQ3JCLElBQUlBLGFBQWF4Qyx1REFBb0IsRUFBRTtRQUNuQyxPQUFPLElBQUlFLGdEQUFXQSxDQUFDc0MsRUFBRTJELE9BQU8sRUFBRTNELEVBQUU0RCxJQUFJLEVBQUU1RDtJQUM5QztJQUNBLE9BQU9BO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG9rZW5zdHJlYW0vd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvQGxpYnNxbC9jbGllbnQvbGliLWVzbS9zcWxpdGUzLmpzPzc1MjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERhdGFiYXNlIGZyb20gXCJiZXR0ZXItc3FsaXRlM1wiO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcIm5vZGU6YnVmZmVyXCI7XG5pbXBvcnQgeyBMaWJzcWxFcnJvciB9IGZyb20gXCIuL2FwaS5qc1wiO1xuaW1wb3J0IHsgZXhwYW5kQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBzdXBwb3J0ZWRVcmxMaW5rLCB0cmFuc2FjdGlvbk1vZGVUb0JlZ2luLCBSZXN1bHRTZXRJbXBsIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vYXBpLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2xpZW50KGNvbmZpZykge1xuICAgIHJldHVybiBfY3JlYXRlQ2xpZW50KGV4cGFuZENvbmZpZyhjb25maWcsIHRydWUpKTtcbn1cbi8qKiBAcHJpdmF0ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jcmVhdGVDbGllbnQoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5zY2hlbWUgIT09IFwiZmlsZVwiKSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihgVVJMIHNjaGVtZSAke0pTT04uc3RyaW5naWZ5KGNvbmZpZy5zY2hlbWUgKyBcIjpcIil9IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGxvY2FsIHNxbGl0ZTMgY2xpZW50LiBgICtcbiAgICAgICAgICAgIGBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHJlYWQgJHtzdXBwb3J0ZWRVcmxMaW5rfWAsIFwiVVJMX1NDSEVNRV9OT1RfU1VQUE9SVEVEXCIpO1xuICAgIH1cbiAgICBjb25zdCBhdXRob3JpdHkgPSBjb25maWcuYXV0aG9yaXR5O1xuICAgIGlmIChhdXRob3JpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBob3N0ID0gYXV0aG9yaXR5Lmhvc3QudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGhvc3QgIT09IFwiXCIgJiYgaG9zdCAhPT0gXCJsb2NhbGhvc3RcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKGBJbnZhbGlkIGhvc3QgaW4gZmlsZSBVUkw6ICR7SlNPTi5zdHJpbmdpZnkoYXV0aG9yaXR5Lmhvc3QpfS4gYCArXG4gICAgICAgICAgICAgICAgJ0EgXCJmaWxlOlwiIFVSTCB3aXRoIGFuIGFic29sdXRlIHBhdGggc2hvdWxkIHN0YXJ0IHdpdGggb25lIHNsYXNoIChcImZpbGU6L2Fic29sdXRlL3BhdGguZGJcIikgJyArXG4gICAgICAgICAgICAgICAgJ29yIHdpdGggdGhyZWUgc2xhc2hlcyAoXCJmaWxlOi8vL2Fic29sdXRlL3BhdGguZGJcIikuICcgK1xuICAgICAgICAgICAgICAgIGBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHJlYWQgJHtzdXBwb3J0ZWRVcmxMaW5rfWAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dGhvcml0eS5wb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIkZpbGUgVVJMIGNhbm5vdCBoYXZlIGEgcG9ydFwiLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdXRob3JpdHkudXNlcmluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiRmlsZSBVUkwgY2Fubm90IGhhdmUgdXNlcm5hbWUgYW5kIHBhc3N3b3JkXCIsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGNvbmZpZy5wYXRoO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcbiAgICBjb25zdCBkYiA9IG5ldyBEYXRhYmFzZShwYXRoLCBvcHRpb25zKTtcbiAgICB0cnkge1xuICAgICAgICBleGVjdXRlU3RtdChkYiwgXCJTRUxFQ1QgMSBBUyBjaGVja1RoYXRUaGVEYXRhYmFzZUNhbkJlT3BlbmVkXCIsIGNvbmZpZy5pbnRNb2RlKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGRiLmNsb3NlKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3FsaXRlM0NsaWVudChwYXRoLCBvcHRpb25zLCBjb25maWcuaW50TW9kZSk7XG59XG5leHBvcnQgY2xhc3MgU3FsaXRlM0NsaWVudCB7XG4gICAgI3BhdGg7XG4gICAgI29wdGlvbnM7XG4gICAgI2ludE1vZGU7XG4gICAgY2xvc2VkO1xuICAgIHByb3RvY29sO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKHBhdGgsIG9wdGlvbnMsIGludE1vZGUpIHtcbiAgICAgICAgdGhpcy4jcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuI29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLiNpbnRNb2RlID0gaW50TW9kZTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IFwiZmlsZVwiO1xuICAgIH1cbiAgICBhc3luYyBleGVjdXRlKHN0bXQpIHtcbiAgICAgICAgdGhpcy4jY2hlY2tOb3RDbG9zZWQoKTtcbiAgICAgICAgY29uc3QgZGIgPSBuZXcgRGF0YWJhc2UodGhpcy4jcGF0aCwgdGhpcy4jb3B0aW9ucyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVN0bXQoZGIsIHN0bXQsIHRoaXMuI2ludE1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBiYXRjaChzdG10cywgbW9kZSA9IFwiZGVmZXJyZWRcIikge1xuICAgICAgICB0aGlzLiNjaGVja05vdENsb3NlZCgpO1xuICAgICAgICBjb25zdCBkYiA9IG5ldyBEYXRhYmFzZSh0aGlzLiNwYXRoLCB0aGlzLiNvcHRpb25zKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWN1dGVTdG10KGRiLCB0cmFuc2FjdGlvbk1vZGVUb0JlZ2luKG1vZGUpLCB0aGlzLiNpbnRNb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdFNldHMgPSBzdG10cy5tYXAoKHN0bXQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWRiLmluVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiVGhlIHRyYW5zYWN0aW9uIGhhcyBiZWVuIHJvbGxlZCBiYWNrXCIsIFwiVFJBTlNBQ1RJT05fQ0xPU0VEXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVN0bXQoZGIsIHN0bXQsIHRoaXMuI2ludE1vZGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleGVjdXRlU3RtdChkYiwgXCJDT01NSVRcIiwgdGhpcy4jaW50TW9kZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0U2V0cztcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgdHJhbnNhY3Rpb24obW9kZSA9IFwid3JpdGVcIikge1xuICAgICAgICB0aGlzLiNjaGVja05vdENsb3NlZCgpO1xuICAgICAgICBjb25zdCBkYiA9IG5ldyBEYXRhYmFzZSh0aGlzLiNwYXRoLCB0aGlzLiNvcHRpb25zKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWN1dGVTdG10KGRiLCB0cmFuc2FjdGlvbk1vZGVUb0JlZ2luKG1vZGUpLCB0aGlzLiNpbnRNb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3FsaXRlM1RyYW5zYWN0aW9uKGRiLCB0aGlzLiNpbnRNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZXhlY3V0ZU11bHRpcGxlKHNxbCkge1xuICAgICAgICB0aGlzLiNjaGVja05vdENsb3NlZCgpO1xuICAgICAgICBjb25zdCBkYiA9IG5ldyBEYXRhYmFzZSh0aGlzLiNwYXRoLCB0aGlzLiNvcHRpb25zKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBleGVjdXRlTXVsdGlwbGUoZGIsIHNxbCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgfVxuICAgICNjaGVja05vdENsb3NlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoXCJUaGUgY2xpZW50IGlzIGNsb3NlZFwiLCBcIkNMSUVOVF9DTE9TRURcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU3FsaXRlM1RyYW5zYWN0aW9uIHtcbiAgICAjZGF0YWJhc2U7XG4gICAgI2ludE1vZGU7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IoZGF0YWJhc2UsIGludE1vZGUpIHtcbiAgICAgICAgdGhpcy4jZGF0YWJhc2UgPSBkYXRhYmFzZTtcbiAgICAgICAgdGhpcy4jaW50TW9kZSA9IGludE1vZGU7XG4gICAgfVxuICAgIGFzeW5jIGV4ZWN1dGUoc3RtdCkge1xuICAgICAgICB0aGlzLiNjaGVja05vdENsb3NlZCgpO1xuICAgICAgICByZXR1cm4gZXhlY3V0ZVN0bXQodGhpcy4jZGF0YWJhc2UsIHN0bXQsIHRoaXMuI2ludE1vZGUpO1xuICAgIH1cbiAgICBhc3luYyBiYXRjaChzdG10cykge1xuICAgICAgICByZXR1cm4gc3RtdHMubWFwKChzdG10KSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNjaGVja05vdENsb3NlZCgpO1xuICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVTdG10KHRoaXMuI2RhdGFiYXNlLCBzdG10LCB0aGlzLiNpbnRNb2RlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGV4ZWN1dGVNdWx0aXBsZShzcWwpIHtcbiAgICAgICAgdGhpcy4jY2hlY2tOb3RDbG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGVNdWx0aXBsZSh0aGlzLiNkYXRhYmFzZSwgc3FsKTtcbiAgICB9XG4gICAgYXN5bmMgcm9sbGJhY2soKSB7XG4gICAgICAgIGlmICghdGhpcy4jZGF0YWJhc2Uub3Blbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2NoZWNrTm90Q2xvc2VkKCk7XG4gICAgICAgIGV4ZWN1dGVTdG10KHRoaXMuI2RhdGFiYXNlLCBcIlJPTExCQUNLXCIsIHRoaXMuI2ludE1vZGUpO1xuICAgICAgICB0aGlzLiNkYXRhYmFzZS5jbG9zZSgpO1xuICAgIH1cbiAgICBhc3luYyBjb21taXQoKSB7XG4gICAgICAgIHRoaXMuI2NoZWNrTm90Q2xvc2VkKCk7XG4gICAgICAgIGV4ZWN1dGVTdG10KHRoaXMuI2RhdGFiYXNlLCBcIkNPTU1JVFwiLCB0aGlzLiNpbnRNb2RlKTtcbiAgICAgICAgdGhpcy4jZGF0YWJhc2UuY2xvc2UoKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuI2RhdGFiYXNlLmNsb3NlKCk7XG4gICAgfVxuICAgIGdldCBjbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy4jZGF0YWJhc2Uub3BlbjtcbiAgICB9XG4gICAgI2NoZWNrTm90Q2xvc2VkKCkge1xuICAgICAgICBpZiAoIXRoaXMuI2RhdGFiYXNlLm9wZW4gfHwgIXRoaXMuI2RhdGFiYXNlLmluVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIlRoZSB0cmFuc2FjdGlvbiBpcyBjbG9zZWRcIiwgXCJUUkFOU0FDVElPTl9DTE9TRURcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBleGVjdXRlU3RtdChkYiwgc3RtdCwgaW50TW9kZSkge1xuICAgIGxldCBzcWw7XG4gICAgbGV0IGFyZ3M7XG4gICAgaWYgKHR5cGVvZiBzdG10ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHNxbCA9IHN0bXQ7XG4gICAgICAgIGFyZ3MgPSBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNxbCA9IHN0bXQuc3FsO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdG10LmFyZ3MpKSB7XG4gICAgICAgICAgICBhcmdzID0gc3RtdC5hcmdzLm1hcCh2YWx1ZVRvU3FsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3MgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBzdG10LmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmdOYW1lID0gKG5hbWVbMF0gPT09IFwiQFwiIHx8IG5hbWVbMF0gPT09IFwiJFwiIHx8IG5hbWVbMF0gPT09IFwiOlwiKVxuICAgICAgICAgICAgICAgICAgICA/IG5hbWUuc3Vic3RyaW5nKDEpIDogbmFtZTtcbiAgICAgICAgICAgICAgICBhcmdzW2FyZ05hbWVdID0gdmFsdWVUb1NxbChzdG10LmFyZ3NbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNxbFN0bXQgPSBkYi5wcmVwYXJlKHNxbCk7XG4gICAgICAgIHNxbFN0bXQuc2FmZUludGVnZXJzKHRydWUpO1xuICAgICAgICBsZXQgcmV0dXJuc0RhdGEgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3FsU3RtdC5yYXcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gcmF3KCkgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgc3RhdGVtZW50IGRvZXMgbm90IHJldHVybiBkYXRhXG4gICAgICAgICAgICByZXR1cm5zRGF0YSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXR1cm5zRGF0YSkge1xuICAgICAgICAgICAgY29uc3QgY29sdW1ucyA9IEFycmF5LmZyb20oc3FsU3RtdC5jb2x1bW5zKCkubWFwKGNvbCA9PiBjb2wubmFtZSkpO1xuICAgICAgICAgICAgY29uc3Qgcm93cyA9IHNxbFN0bXQuYWxsKGFyZ3MpLm1hcCgoc3FsUm93KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvd0Zyb21TcWwoc3FsUm93LCBjb2x1bW5zLCBpbnRNb2RlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gVE9ETzogY2FuIHdlIGdldCB0aGlzIGluZm8gZnJvbSBiZXR0ZXItc3FsaXRlMz9cbiAgICAgICAgICAgIGNvbnN0IHJvd3NBZmZlY3RlZCA9IDA7XG4gICAgICAgICAgICBjb25zdCBsYXN0SW5zZXJ0Um93aWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc3VsdFNldEltcGwoY29sdW1ucywgcm93cywgcm93c0FmZmVjdGVkLCBsYXN0SW5zZXJ0Um93aWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHNxbFN0bXQucnVuKGFyZ3MpO1xuICAgICAgICAgICAgY29uc3Qgcm93c0FmZmVjdGVkID0gaW5mby5jaGFuZ2VzO1xuICAgICAgICAgICAgY29uc3QgbGFzdEluc2VydFJvd2lkID0gQmlnSW50KGluZm8ubGFzdEluc2VydFJvd2lkKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzdWx0U2V0SW1wbChbXSwgW10sIHJvd3NBZmZlY3RlZCwgbGFzdEluc2VydFJvd2lkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBtYXBTcWxpdGVFcnJvcihlKTtcbiAgICB9XG59XG5mdW5jdGlvbiByb3dGcm9tU3FsKHNxbFJvdywgY29sdW1ucywgaW50TW9kZSkge1xuICAgIGNvbnN0IHJvdyA9IHt9O1xuICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdywgXCJsZW5ndGhcIiwgeyB2YWx1ZTogc3FsUm93Lmxlbmd0aCB9KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNxbFJvdy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlRnJvbVNxbChzcWxSb3dbaV0sIGludE1vZGUpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm93LCBpLCB7IHZhbHVlIH0pO1xuICAgICAgICBjb25zdCBjb2x1bW4gPSBjb2x1bW5zW2ldO1xuICAgICAgICBpZiAoIU9iamVjdC5oYXNPd24ocm93LCBjb2x1bW4pKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm93LCBjb2x1bW4sIHsgdmFsdWUsIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvdztcbn1cbmZ1bmN0aW9uIHZhbHVlRnJvbVNxbChzcWxWYWx1ZSwgaW50TW9kZSkge1xuICAgIGlmICh0eXBlb2Ygc3FsVmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgaWYgKGludE1vZGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGlmIChzcWxWYWx1ZSA8IG1pblNhZmVCaWdpbnQgfHwgc3FsVmFsdWUgPiBtYXhTYWZlQmlnaW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJSZWNlaXZlZCBpbnRlZ2VyIHdoaWNoIGNhbm5vdCBiZSBzYWZlbHkgcmVwcmVzZW50ZWQgYXMgYSBKYXZhU2NyaXB0IG51bWJlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIoc3FsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGludE1vZGUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBzcWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnRNb2RlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIiArIHNxbFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgSW50TW9kZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChzcWxWYWx1ZSBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gc3FsVmFsdWUuYnVmZmVyO1xuICAgIH1cbiAgICByZXR1cm4gc3FsVmFsdWU7XG59XG5jb25zdCBtaW5TYWZlQmlnaW50ID0gLTkwMDcxOTkyNTQ3NDA5OTFuO1xuY29uc3QgbWF4U2FmZUJpZ2ludCA9IDkwMDcxOTkyNTQ3NDA5OTFuO1xuZnVuY3Rpb24gdmFsdWVUb1NxbCh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk9ubHkgZmluaXRlIG51bWJlcnMgKG5vdCBJbmZpbml0eSBvciBOYU4pIGNhbiBiZSBwYXNzZWQgYXMgYXJndW1lbnRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IG1pbkludGVnZXIgfHwgdmFsdWUgPiBtYXhJbnRlZ2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImJpZ2ludCBpcyB0b28gbGFyZ2UgdG8gYmUgcmVwcmVzZW50ZWQgYXMgYSA2NC1iaXQgaW50ZWdlciBhbmQgcGFzc2VkIGFzIGFyZ3VtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICByZXR1cm4gdmFsdWUgPyAxbiA6IDBuO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUudmFsdWVPZigpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ1bmRlZmluZWQgY2Fubm90IGJlIHBhc3NlZCBhcyBhcmd1bWVudCB0byB0aGUgZGF0YWJhc2VcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuY29uc3QgbWluSW50ZWdlciA9IC05MjIzMzcyMDM2ODU0Nzc1ODA4bjtcbmNvbnN0IG1heEludGVnZXIgPSA5MjIzMzcyMDM2ODU0Nzc1ODA3bjtcbmZ1bmN0aW9uIGV4ZWN1dGVNdWx0aXBsZShkYiwgc3FsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGIuZXhlYyhzcWwpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBtYXBTcWxpdGVFcnJvcihlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXBTcWxpdGVFcnJvcihlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBEYXRhYmFzZS5TcWxpdGVFcnJvcikge1xuICAgICAgICByZXR1cm4gbmV3IExpYnNxbEVycm9yKGUubWVzc2FnZSwgZS5jb2RlLCBlKTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG59XG4iXSwibmFtZXMiOlsiRGF0YWJhc2UiLCJCdWZmZXIiLCJMaWJzcWxFcnJvciIsImV4cGFuZENvbmZpZyIsInN1cHBvcnRlZFVybExpbmsiLCJ0cmFuc2FjdGlvbk1vZGVUb0JlZ2luIiwiUmVzdWx0U2V0SW1wbCIsImNyZWF0ZUNsaWVudCIsImNvbmZpZyIsIl9jcmVhdGVDbGllbnQiLCJzY2hlbWUiLCJKU09OIiwic3RyaW5naWZ5IiwiYXV0aG9yaXR5IiwidW5kZWZpbmVkIiwiaG9zdCIsInRvTG93ZXJDYXNlIiwicG9ydCIsInVzZXJpbmZvIiwicGF0aCIsIm9wdGlvbnMiLCJkYiIsImV4ZWN1dGVTdG10IiwiaW50TW9kZSIsImNsb3NlIiwiU3FsaXRlM0NsaWVudCIsImNvbnN0cnVjdG9yIiwiY2xvc2VkIiwicHJvdG9jb2wiLCJleGVjdXRlIiwic3RtdCIsImNoZWNrTm90Q2xvc2VkIiwiYmF0Y2giLCJzdG10cyIsIm1vZGUiLCJyZXN1bHRTZXRzIiwibWFwIiwiaW5UcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uIiwiU3FsaXRlM1RyYW5zYWN0aW9uIiwiZSIsImV4ZWN1dGVNdWx0aXBsZSIsInNxbCIsImRhdGFiYXNlIiwicm9sbGJhY2siLCJvcGVuIiwiY29tbWl0IiwiYXJncyIsIkFycmF5IiwiaXNBcnJheSIsInZhbHVlVG9TcWwiLCJuYW1lIiwiYXJnTmFtZSIsInN1YnN0cmluZyIsInNxbFN0bXQiLCJwcmVwYXJlIiwic2FmZUludGVnZXJzIiwicmV0dXJuc0RhdGEiLCJyYXciLCJjb2x1bW5zIiwiZnJvbSIsImNvbCIsInJvd3MiLCJhbGwiLCJzcWxSb3ciLCJyb3dGcm9tU3FsIiwicm93c0FmZmVjdGVkIiwibGFzdEluc2VydFJvd2lkIiwiaW5mbyIsInJ1biIsImNoYW5nZXMiLCJCaWdJbnQiLCJtYXBTcWxpdGVFcnJvciIsInJvdyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJsZW5ndGgiLCJpIiwidmFsdWVGcm9tU3FsIiwiY29sdW1uIiwiaGFzT3duIiwiZW51bWVyYWJsZSIsInNxbFZhbHVlIiwibWluU2FmZUJpZ2ludCIsIm1heFNhZmVCaWdpbnQiLCJSYW5nZUVycm9yIiwiTnVtYmVyIiwiRXJyb3IiLCJidWZmZXIiLCJpc0Zpbml0ZSIsIm1pbkludGVnZXIiLCJtYXhJbnRlZ2VyIiwiQXJyYXlCdWZmZXIiLCJEYXRlIiwidmFsdWVPZiIsIlR5cGVFcnJvciIsImV4ZWMiLCJTcWxpdGVFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sqlite3.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/uri.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/uri.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeBaseUrl: () => (/* binding */ encodeBaseUrl),\n/* harmony export */   parseUri: () => (/* binding */ parseUri)\n/* harmony export */ });\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js\");\n// URI parser based on RFC 3986\n// We can't use the standard `URL` object, because we want to support relative `file:` URLs like\n// `file:relative/path/database.db`, which are not correct according to RFC 8089, which standardizes the\n// `file` scheme.\n\nfunction parseUri(text) {\n    const match = URI_RE.exec(text);\n    if (match === null) {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError(\"The URL is not in a valid format\", \"URL_INVALID\");\n    }\n    const groups = match.groups;\n    const scheme = groups[\"scheme\"];\n    const authority = groups[\"authority\"] !== undefined ? parseAuthority(groups[\"authority\"]) : undefined;\n    const path = percentDecode(groups[\"path\"]);\n    const query = groups[\"query\"] !== undefined ? parseQuery(groups[\"query\"]) : undefined;\n    const fragment = groups[\"fragment\"] !== undefined ? percentDecode(groups[\"fragment\"]) : undefined;\n    return {\n        scheme,\n        authority,\n        path,\n        query,\n        fragment\n    };\n}\nconst URI_RE = (()=>{\n    const SCHEME = \"(?<scheme>[A-Za-z][A-Za-z.+-]*)\";\n    const AUTHORITY = \"(?<authority>[^/?#]*)\";\n    const PATH = \"(?<path>[^?#]*)\";\n    const QUERY = \"(?<query>[^#]*)\";\n    const FRAGMENT = \"(?<fragment>.*)\";\n    return new RegExp(`^${SCHEME}:(//${AUTHORITY})?${PATH}(\\\\?${QUERY})?(#${FRAGMENT})?$`, \"su\");\n})();\nfunction parseAuthority(text) {\n    const match = AUTHORITY_RE.exec(text);\n    if (match === null) {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError(\"The authority part of the URL is not in a valid format\", \"URL_INVALID\");\n    }\n    const groups = match.groups;\n    const host = percentDecode(groups[\"host_br\"] ?? groups[\"host\"]);\n    const port = groups[\"port\"] ? parseInt(groups[\"port\"], 10) : undefined;\n    const userinfo = groups[\"username\"] !== undefined ? {\n        username: percentDecode(groups[\"username\"]),\n        password: groups[\"password\"] !== undefined ? percentDecode(groups[\"password\"]) : undefined\n    } : undefined;\n    return {\n        host,\n        port,\n        userinfo\n    };\n}\nconst AUTHORITY_RE = (()=>{\n    const USERINFO = \"(?<username>[^:]*)(:(?<password>.*))?\";\n    const HOST = \"((?<host>[^:\\\\[\\\\]]*)|(\\\\[(?<host_br>[^\\\\[\\\\]]*)\\\\]))\";\n    const PORT = \"(?<port>[0-9]*)\";\n    return new RegExp(`^(${USERINFO}@)?${HOST}(:${PORT})?$`, \"su\");\n})();\n// Query string is parsed as application/x-www-form-urlencoded according to the Web URL standard:\n// https://url.spec.whatwg.org/#urlencoded-parsing\nfunction parseQuery(text) {\n    const sequences = text.split(\"&\");\n    const pairs = [];\n    for (const sequence of sequences){\n        if (sequence === \"\") {\n            continue;\n        }\n        let key;\n        let value;\n        const splitIdx = sequence.indexOf(\"=\");\n        if (splitIdx < 0) {\n            key = sequence;\n            value = \"\";\n        } else {\n            key = sequence.substring(0, splitIdx);\n            value = sequence.substring(splitIdx + 1);\n        }\n        pairs.push({\n            key: percentDecode(key.replaceAll(\"+\", \" \")),\n            value: percentDecode(value.replaceAll(\"+\", \" \"))\n        });\n    }\n    return {\n        pairs\n    };\n}\nfunction percentDecode(text) {\n    try {\n        return decodeURIComponent(text);\n    } catch (e) {\n        if (e instanceof URIError) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError(`URL component has invalid percent encoding: ${e}`, \"URL_INVALID\", e);\n        }\n        throw e;\n    }\n}\nfunction encodeBaseUrl(scheme, authority, path) {\n    if (authority === undefined) {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_0__.LibsqlError(`URL with scheme ${JSON.stringify(scheme + \":\")} requires authority (the \"//\" part)`, \"URL_INVALID\");\n    }\n    const schemeText = `${scheme}:`;\n    const hostText = encodeHost(authority.host);\n    const portText = encodePort(authority.port);\n    const userinfoText = encodeUserinfo(authority.userinfo);\n    const authorityText = `//${userinfoText}${hostText}${portText}`;\n    let pathText = path.split(\"/\").map(encodeURIComponent).join(\"/\");\n    if (pathText !== \"\" && !pathText.startsWith(\"/\")) {\n        pathText = \"/\" + pathText;\n    }\n    return new URL(`${schemeText}${authorityText}${pathText}`);\n}\nfunction encodeHost(host) {\n    return host.includes(\":\") ? `[${encodeURI(host)}]` : encodeURI(host);\n}\nfunction encodePort(port) {\n    return port !== undefined ? `:${port}` : \"\";\n}\nfunction encodeUserinfo(userinfo) {\n    if (userinfo === undefined) {\n        return \"\";\n    }\n    const usernameText = encodeURIComponent(userinfo.username);\n    const passwordText = userinfo.password !== undefined ? `:${encodeURIComponent(userinfo.password)}` : \"\";\n    return `${usernameText}${passwordText}@`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL3VyaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSwrQkFBK0I7QUFDL0IsZ0dBQWdHO0FBQ2hHLHdHQUF3RztBQUN4RyxpQkFBaUI7QUFDc0I7QUFDaEMsU0FBU0MsU0FBU0MsSUFBSTtJQUN6QixNQUFNQyxRQUFRQyxPQUFPQyxJQUFJLENBQUNIO0lBQzFCLElBQUlDLFVBQVUsTUFBTTtRQUNoQixNQUFNLElBQUlILGdEQUFXQSxDQUFDLG9DQUFvQztJQUM5RDtJQUNBLE1BQU1NLFNBQVNILE1BQU1HLE1BQU07SUFDM0IsTUFBTUMsU0FBU0QsTUFBTSxDQUFDLFNBQVM7SUFDL0IsTUFBTUUsWUFBWUYsTUFBTSxDQUFDLFlBQVksS0FBS0csWUFDcENDLGVBQWVKLE1BQU0sQ0FBQyxZQUFZLElBQUlHO0lBQzVDLE1BQU1FLE9BQU9DLGNBQWNOLE1BQU0sQ0FBQyxPQUFPO0lBQ3pDLE1BQU1PLFFBQVFQLE1BQU0sQ0FBQyxRQUFRLEtBQUtHLFlBQzVCSyxXQUFXUixNQUFNLENBQUMsUUFBUSxJQUFJRztJQUNwQyxNQUFNTSxXQUFXVCxNQUFNLENBQUMsV0FBVyxLQUFLRyxZQUNsQ0csY0FBY04sTUFBTSxDQUFDLFdBQVcsSUFBSUc7SUFDMUMsT0FBTztRQUFFRjtRQUFRQztRQUFXRztRQUFNRTtRQUFPRTtJQUFTO0FBQ3REO0FBQ0EsTUFBTVgsU0FBUyxDQUFDO0lBQ1osTUFBTVksU0FBUztJQUNmLE1BQU1DLFlBQVk7SUFDbEIsTUFBTUMsT0FBTztJQUNiLE1BQU1DLFFBQVE7SUFDZCxNQUFNQyxXQUFXO0lBQ2pCLE9BQU8sSUFBSUMsT0FBTyxDQUFDLENBQUMsRUFBRUwsT0FBTyxJQUFJLEVBQUVDLFVBQVUsRUFBRSxFQUFFQyxLQUFLLElBQUksRUFBRUMsTUFBTSxJQUFJLEVBQUVDLFNBQVMsR0FBRyxD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R0FBRyxDQUFDQyxvQkFBb0JDLElBQUksQ0FBQztJQUM1RCxJQUFJSCxhQUFhLE1BQU0sQ0FBQ0EsU0FBU0ksVUFBVSxDQUFDLE1BQU07UUFDOUNKLFdBQVcsTUFBTUE7SUFDckI7SUFDQSxPQUFPLElBQUlLLElBQUksQ0FBQyxFQUFFYixXQUFXLEVBQUVPLGNBQWMsRUFBRUMsU0FBUyxDQUFDO0FBQzdEO0FBQ0EsU0FBU04sV0FBVzVCLElBQUk7SUFDcEIsT0FBT0EsS0FBS3dDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFQyxVQUFVekMsTUFBTSxDQUFDLENBQUMsR0FBR3lDLFVBQVV6QztBQUNuRTtBQUNBLFNBQVM4QixXQUFXN0IsSUFBSTtJQUNwQixPQUFPQSxTQUFTZixZQUFZLENBQUMsQ0FBQyxFQUFFZSxLQUFLLENBQUMsR0FBRztBQUM3QztBQUNBLFNBQVMrQixlQUFlN0IsUUFBUTtJQUM1QixJQUFJQSxhQUFhakIsV0FBVztRQUN4QixPQUFPO0lBQ1g7SUFDQSxNQUFNd0QsZUFBZU4sbUJBQW1CakMsU0FBU0MsUUFBUTtJQUN6RCxNQUFNdUMsZUFBZXhDLFNBQVNFLFFBQVEsS0FBS25CLFlBQ3JDLENBQUMsQ0FBQyxFQUFFa0QsbUJBQW1CakMsU0FBU0UsUUFBUSxFQUFFLENBQUMsR0FBRztJQUNwRCxPQUFPLENBQUMsRUFBRXFDLGFBQWEsRUFBRUMsYUFBYSxDQUFDLENBQUM7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG9rZW5zdHJlYW0vd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvQGxpYnNxbC9jbGllbnQvbGliLWVzbS91cmkuanM/NmI4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVUkkgcGFyc2VyIGJhc2VkIG9uIFJGQyAzOTg2XG4vLyBXZSBjYW4ndCB1c2UgdGhlIHN0YW5kYXJkIGBVUkxgIG9iamVjdCwgYmVjYXVzZSB3ZSB3YW50IHRvIHN1cHBvcnQgcmVsYXRpdmUgYGZpbGU6YCBVUkxzIGxpa2Vcbi8vIGBmaWxlOnJlbGF0aXZlL3BhdGgvZGF0YWJhc2UuZGJgLCB3aGljaCBhcmUgbm90IGNvcnJlY3QgYWNjb3JkaW5nIHRvIFJGQyA4MDg5LCB3aGljaCBzdGFuZGFyZGl6ZXMgdGhlXG4vLyBgZmlsZWAgc2NoZW1lLlxuaW1wb3J0IHsgTGlic3FsRXJyb3IgfSBmcm9tIFwiLi9hcGkuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVyaSh0ZXh0KSB7XG4gICAgY29uc3QgbWF0Y2ggPSBVUklfUkUuZXhlYyh0ZXh0KTtcbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiVGhlIFVSTCBpcyBub3QgaW4gYSB2YWxpZCBmb3JtYXRcIiwgXCJVUkxfSU5WQUxJRFwiKTtcbiAgICB9XG4gICAgY29uc3QgZ3JvdXBzID0gbWF0Y2guZ3JvdXBzO1xuICAgIGNvbnN0IHNjaGVtZSA9IGdyb3Vwc1tcInNjaGVtZVwiXTtcbiAgICBjb25zdCBhdXRob3JpdHkgPSBncm91cHNbXCJhdXRob3JpdHlcIl0gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHBhcnNlQXV0aG9yaXR5KGdyb3Vwc1tcImF1dGhvcml0eVwiXSkgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGF0aCA9IHBlcmNlbnREZWNvZGUoZ3JvdXBzW1wicGF0aFwiXSk7XG4gICAgY29uc3QgcXVlcnkgPSBncm91cHNbXCJxdWVyeVwiXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcGFyc2VRdWVyeShncm91cHNbXCJxdWVyeVwiXSkgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBncm91cHNbXCJmcmFnbWVudFwiXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcGVyY2VudERlY29kZShncm91cHNbXCJmcmFnbWVudFwiXSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHsgc2NoZW1lLCBhdXRob3JpdHksIHBhdGgsIHF1ZXJ5LCBmcmFnbWVudCB9O1xufVxuY29uc3QgVVJJX1JFID0gKCgpID0+IHtcbiAgICBjb25zdCBTQ0hFTUUgPSAnKD88c2NoZW1lPltBLVphLXpdW0EtWmEtei4rLV0qKSc7XG4gICAgY29uc3QgQVVUSE9SSVRZID0gJyg/PGF1dGhvcml0eT5bXi8/I10qKSc7XG4gICAgY29uc3QgUEFUSCA9ICcoPzxwYXRoPltePyNdKiknO1xuICAgIGNvbnN0IFFVRVJZID0gJyg/PHF1ZXJ5PlteI10qKSc7XG4gICAgY29uc3QgRlJBR01FTlQgPSAnKD88ZnJhZ21lbnQ+LiopJztcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7U0NIRU1FfTooLy8ke0FVVEhPUklUWX0pPyR7UEFUSH0oXFxcXD8ke1FVRVJZfSk/KCMke0ZSQUdNRU5UfSk/JGAsIFwic3VcIik7XG59KSgpO1xuZnVuY3Rpb24gcGFyc2VBdXRob3JpdHkodGV4dCkge1xuICAgIGNvbnN0IG1hdGNoID0gQVVUSE9SSVRZX1JFLmV4ZWModGV4dCk7XG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIlRoZSBhdXRob3JpdHkgcGFydCBvZiB0aGUgVVJMIGlzIG5vdCBpbiBhIHZhbGlkIGZvcm1hdFwiLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgIH1cbiAgICBjb25zdCBncm91cHMgPSBtYXRjaC5ncm91cHM7XG4gICAgY29uc3QgaG9zdCA9IHBlcmNlbnREZWNvZGUoZ3JvdXBzW1wiaG9zdF9iclwiXSA/PyBncm91cHNbXCJob3N0XCJdKTtcbiAgICBjb25zdCBwb3J0ID0gZ3JvdXBzW1wicG9ydFwiXVxuICAgICAgICA/IHBhcnNlSW50KGdyb3Vwc1tcInBvcnRcIl0sIDEwKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB1c2VyaW5mbyA9IGdyb3Vwc1tcInVzZXJuYW1lXCJdICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB7XG4gICAgICAgICAgICB1c2VybmFtZTogcGVyY2VudERlY29kZShncm91cHNbXCJ1c2VybmFtZVwiXSksXG4gICAgICAgICAgICBwYXNzd29yZDogZ3JvdXBzW1wicGFzc3dvcmRcIl0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gcGVyY2VudERlY29kZShncm91cHNbXCJwYXNzd29yZFwiXSkgOiB1bmRlZmluZWQsXG4gICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHsgaG9zdCwgcG9ydCwgdXNlcmluZm8gfTtcbn1cbmNvbnN0IEFVVEhPUklUWV9SRSA9ICgoKSA9PiB7XG4gICAgY29uc3QgVVNFUklORk8gPSAnKD88dXNlcm5hbWU+W146XSopKDooPzxwYXNzd29yZD4uKikpPyc7XG4gICAgY29uc3QgSE9TVCA9ICcoKD88aG9zdD5bXjpcXFxcW1xcXFxdXSopfChcXFxcWyg/PGhvc3RfYnI+W15cXFxcW1xcXFxdXSopXFxcXF0pKSc7XG4gICAgY29uc3QgUE9SVCA9ICcoPzxwb3J0PlswLTldKiknO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeKCR7VVNFUklORk99QCk/JHtIT1NUfSg6JHtQT1JUfSk/JGAsIFwic3VcIik7XG59KSgpO1xuLy8gUXVlcnkgc3RyaW5nIGlzIHBhcnNlZCBhcyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQgYWNjb3JkaW5nIHRvIHRoZSBXZWIgVVJMIHN0YW5kYXJkOlxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmxlbmNvZGVkLXBhcnNpbmdcbmZ1bmN0aW9uIHBhcnNlUXVlcnkodGV4dCkge1xuICAgIGNvbnN0IHNlcXVlbmNlcyA9IHRleHQuc3BsaXQoXCImXCIpO1xuICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgZm9yIChjb25zdCBzZXF1ZW5jZSBvZiBzZXF1ZW5jZXMpIHtcbiAgICAgICAgaWYgKHNlcXVlbmNlID09PSBcIlwiKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQga2V5O1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIGNvbnN0IHNwbGl0SWR4ID0gc2VxdWVuY2UuaW5kZXhPZihcIj1cIik7XG4gICAgICAgIGlmIChzcGxpdElkeCA8IDApIHtcbiAgICAgICAgICAgIGtleSA9IHNlcXVlbmNlO1xuICAgICAgICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gc2VxdWVuY2Uuc3Vic3RyaW5nKDAsIHNwbGl0SWR4KTtcbiAgICAgICAgICAgIHZhbHVlID0gc2VxdWVuY2Uuc3Vic3RyaW5nKHNwbGl0SWR4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICBrZXk6IHBlcmNlbnREZWNvZGUoa2V5LnJlcGxhY2VBbGwoXCIrXCIsIFwiIFwiKSksXG4gICAgICAgICAgICB2YWx1ZTogcGVyY2VudERlY29kZSh2YWx1ZS5yZXBsYWNlQWxsKFwiK1wiLCBcIiBcIikpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcGFpcnMgfTtcbn1cbmZ1bmN0aW9uIHBlcmNlbnREZWNvZGUodGV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgVVJJRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihgVVJMIGNvbXBvbmVudCBoYXMgaW52YWxpZCBwZXJjZW50IGVuY29kaW5nOiAke2V9YCwgXCJVUkxfSU5WQUxJRFwiLCBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVCYXNlVXJsKHNjaGVtZSwgYXV0aG9yaXR5LCBwYXRoKSB7XG4gICAgaWYgKGF1dGhvcml0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihgVVJMIHdpdGggc2NoZW1lICR7SlNPTi5zdHJpbmdpZnkoc2NoZW1lICsgXCI6XCIpfSByZXF1aXJlcyBhdXRob3JpdHkgKHRoZSBcIi8vXCIgcGFydClgLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgIH1cbiAgICBjb25zdCBzY2hlbWVUZXh0ID0gYCR7c2NoZW1lfTpgO1xuICAgIGNvbnN0IGhvc3RUZXh0ID0gZW5jb2RlSG9zdChhdXRob3JpdHkuaG9zdCk7XG4gICAgY29uc3QgcG9ydFRleHQgPSBlbmNvZGVQb3J0KGF1dGhvcml0eS5wb3J0KTtcbiAgICBjb25zdCB1c2VyaW5mb1RleHQgPSBlbmNvZGVVc2VyaW5mbyhhdXRob3JpdHkudXNlcmluZm8pO1xuICAgIGNvbnN0IGF1dGhvcml0eVRleHQgPSBgLy8ke3VzZXJpbmZvVGV4dH0ke2hvc3RUZXh0fSR7cG9ydFRleHR9YDtcbiAgICBsZXQgcGF0aFRleHQgPSBwYXRoLnNwbGl0KFwiL1wiKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiL1wiKTtcbiAgICBpZiAocGF0aFRleHQgIT09IFwiXCIgJiYgIXBhdGhUZXh0LnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHBhdGhUZXh0ID0gXCIvXCIgKyBwYXRoVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVUkwoYCR7c2NoZW1lVGV4dH0ke2F1dGhvcml0eVRleHR9JHtwYXRoVGV4dH1gKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUhvc3QoaG9zdCkge1xuICAgIHJldHVybiBob3N0LmluY2x1ZGVzKFwiOlwiKSA/IGBbJHtlbmNvZGVVUkkoaG9zdCl9XWAgOiBlbmNvZGVVUkkoaG9zdCk7XG59XG5mdW5jdGlvbiBlbmNvZGVQb3J0KHBvcnQpIHtcbiAgICByZXR1cm4gcG9ydCAhPT0gdW5kZWZpbmVkID8gYDoke3BvcnR9YCA6IFwiXCI7XG59XG5mdW5jdGlvbiBlbmNvZGVVc2VyaW5mbyh1c2VyaW5mbykge1xuICAgIGlmICh1c2VyaW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBjb25zdCB1c2VybmFtZVRleHQgPSBlbmNvZGVVUklDb21wb25lbnQodXNlcmluZm8udXNlcm5hbWUpO1xuICAgIGNvbnN0IHBhc3N3b3JkVGV4dCA9IHVzZXJpbmZvLnBhc3N3b3JkICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBgOiR7ZW5jb2RlVVJJQ29tcG9uZW50KHVzZXJpbmZvLnBhc3N3b3JkKX1gIDogXCJcIjtcbiAgICByZXR1cm4gYCR7dXNlcm5hbWVUZXh0fSR7cGFzc3dvcmRUZXh0fUBgO1xufVxuIl0sIm5hbWVzIjpbIkxpYnNxbEVycm9yIiwicGFyc2VVcmkiLCJ0ZXh0IiwibWF0Y2giLCJVUklfUkUiLCJleGVjIiwiZ3JvdXBzIiwic2NoZW1lIiwiYXV0aG9yaXR5IiwidW5kZWZpbmVkIiwicGFyc2VBdXRob3JpdHkiLCJwYXRoIiwicGVyY2VudERlY29kZSIsInF1ZXJ5IiwicGFyc2VRdWVyeSIsImZyYWdtZW50IiwiU0NIRU1FIiwiQVVUSE9SSVRZIiwiUEFUSCIsIlFVRVJZIiwiRlJBR01FTlQiLCJSZWdFeHAiLCJBVVRIT1JJVFlfUkUiLCJob3N0IiwicG9ydCIsInBhcnNlSW50IiwidXNlcmluZm8iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiVVNFUklORk8iLCJIT1NUIiwiUE9SVCIsInNlcXVlbmNlcyIsInNwbGl0IiwicGFpcnMiLCJzZXF1ZW5jZSIsImtleSIsInZhbHVlIiwic3BsaXRJZHgiLCJpbmRleE9mIiwic3Vic3RyaW5nIiwicHVzaCIsInJlcGxhY2VBbGwiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlIiwiVVJJRXJyb3IiLCJlbmNvZGVCYXNlVXJsIiwiSlNPTiIsInN0cmluZ2lmeSIsInNjaGVtZVRleHQiLCJob3N0VGV4dCIsImVuY29kZUhvc3QiLCJwb3J0VGV4dCIsImVuY29kZVBvcnQiLCJ1c2VyaW5mb1RleHQiLCJlbmNvZGVVc2VyaW5mbyIsImF1dGhvcml0eVRleHQiLCJwYXRoVGV4dCIsIm1hcCIsImVuY29kZVVSSUNvbXBvbmVudCIsImpvaW4iLCJzdGFydHNXaXRoIiwiVVJMIiwiaW5jbHVkZXMiLCJlbmNvZGVVUkkiLCJ1c2VybmFtZVRleHQiLCJwYXNzd29yZFRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/uri.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/util.js":
/*!*************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/util.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResultSetImpl: () => (/* binding */ ResultSetImpl),\n/* harmony export */   supportedUrlLink: () => (/* binding */ supportedUrlLink),\n/* harmony export */   transactionModeToBegin: () => (/* binding */ transactionModeToBegin)\n/* harmony export */ });\n/* harmony import */ var js_base64__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-base64 */ \"(rsc)/../../node_modules/.pnpm/js-base64@3.7.5/node_modules/js-base64/base64.mjs\");\n\nconst supportedUrlLink = \"https://github.com/libsql/libsql-client-ts#supported-urls\";\nfunction transactionModeToBegin(mode) {\n    if (mode === \"write\") {\n        return \"BEGIN IMMEDIATE\";\n    } else if (mode === \"read\") {\n        return \"BEGIN TRANSACTION READONLY\";\n    } else if (mode === \"deferred\") {\n        return \"BEGIN DEFERRED\";\n    } else {\n        throw RangeError('Unknown transaction mode, supported values are \"write\", \"read\" and \"deferred\"');\n    }\n}\nclass ResultSetImpl {\n    constructor(columns, rows, rowsAffected, lastInsertRowid){\n        this.columns = columns;\n        this.rows = rows;\n        this.rowsAffected = rowsAffected;\n        this.lastInsertRowid = lastInsertRowid;\n    }\n    toJSON() {\n        return {\n            \"columns\": this.columns,\n            \"rows\": this.rows.map(rowToJson),\n            \"rowsAffected\": this.rowsAffected,\n            \"lastInsertRowid\": this.lastInsertRowid !== undefined ? \"\" + this.lastInsertRowid : null\n        };\n    }\n}\nfunction rowToJson(row) {\n    return Array.prototype.map.call(row, valueToJson);\n}\nfunction valueToJson(value) {\n    if (typeof value === \"bigint\") {\n        return \"\" + value;\n    } else if (value instanceof ArrayBuffer) {\n        return js_base64__WEBPACK_IMPORTED_MODULE_0__.Base64.fromUint8Array(new Uint8Array(value));\n    } else {\n        return value;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL3V0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtQztBQUM1QixNQUFNQyxtQkFBbUIsNERBQTREO0FBQ3JGLFNBQVNDLHVCQUF1QkMsSUFBSTtJQUN2QyxJQUFJQSxTQUFTLFNBQVM7UUFDbEIsT0FBTztJQUNYLE9BQ0ssSUFBSUEsU0FBUyxRQUFRO1FBQ3RCLE9BQU87SUFDWCxPQUNLLElBQUlBLFNBQVMsWUFBWTtRQUMxQixPQUFPO0lBQ1gsT0FDSztRQUNELE1BQU1DLFdBQVc7SUFDckI7QUFDSjtBQUNPLE1BQU1DO0lBS1RDLFlBQVlDLE9BQU8sRUFBRUMsSUFBSSxFQUFFQyxZQUFZLEVBQUVDLGVBQWUsQ0FBRTtRQUN0RCxJQUFJLENBQUNILE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNDLElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNDLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyxlQUFlLEdBQUdBO0lBQzNCO0lBQ0FDLFNBQVM7UUFDTCxPQUFPO1lBQ0gsV0FBVyxJQUFJLENBQUNKLE9BQU87WUFDdkIsUUFBUSxJQUFJLENBQUNDLElBQUksQ0FBQ0ksR0FBRyxDQUFDQztZQUN0QixnQkFBZ0IsSUFBSSxDQUFDSixZQUFZO1lBQ2pDLG1CQUFtQixJQUFJLENBQUNDLGVBQWUsS0FBS0ksWUFBWSxLQUFLLElBQUksQ0FBQ0osZUFBZSxHQUFHO1FBQ3hGO0lBQ0o7QUFDSjtBQUNBLFNBQVNHLFVBQVVFLEdBQUc7SUFDbEIsT0FBT0MsTUFBTUMsU0FBUyxDQUFDTCxHQUFHLENBQUNNLElBQUksQ0FBQ0gsS0FBS0k7QUFDekM7QUFDQSxTQUFTQSxZQUFZQyxLQUFLO0lBQ3RCLElBQUksT0FBT0EsVUFBVSxVQUFVO1FBQzNCLE9BQU8sS0FBS0E7SUFDaEIsT0FDSyxJQUFJQSxpQkFBaUJDLGFBQWE7UUFDbkMsT0FBT3JCLDZDQUFNQSxDQUFDc0IsY0FBYyxDQUFDLElBQUlDLFdBQVdIO0lBQ2hELE9BQ0s7UUFDRCxPQUFPQTtJQUNYO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG9rZW5zdHJlYW0vd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvQGxpYnNxbC9jbGllbnQvbGliLWVzbS91dGlsLmpzP2I4MmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZTY0IH0gZnJvbSBcImpzLWJhc2U2NFwiO1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRlZFVybExpbmsgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9saWJzcWwvbGlic3FsLWNsaWVudC10cyNzdXBwb3J0ZWQtdXJsc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uTW9kZVRvQmVnaW4obW9kZSkge1xuICAgIGlmIChtb2RlID09PSBcIndyaXRlXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiQkVHSU4gSU1NRURJQVRFXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1vZGUgPT09IFwicmVhZFwiKSB7XG4gICAgICAgIHJldHVybiBcIkJFR0lOIFRSQU5TQUNUSU9OIFJFQURPTkxZXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1vZGUgPT09IFwiZGVmZXJyZWRcIikge1xuICAgICAgICByZXR1cm4gXCJCRUdJTiBERUZFUlJFRFwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignVW5rbm93biB0cmFuc2FjdGlvbiBtb2RlLCBzdXBwb3J0ZWQgdmFsdWVzIGFyZSBcIndyaXRlXCIsIFwicmVhZFwiIGFuZCBcImRlZmVycmVkXCInKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzdWx0U2V0SW1wbCB7XG4gICAgY29sdW1ucztcbiAgICByb3dzO1xuICAgIHJvd3NBZmZlY3RlZDtcbiAgICBsYXN0SW5zZXJ0Um93aWQ7XG4gICAgY29uc3RydWN0b3IoY29sdW1ucywgcm93cywgcm93c0FmZmVjdGVkLCBsYXN0SW5zZXJ0Um93aWQpIHtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5yb3dzQWZmZWN0ZWQgPSByb3dzQWZmZWN0ZWQ7XG4gICAgICAgIHRoaXMubGFzdEluc2VydFJvd2lkID0gbGFzdEluc2VydFJvd2lkO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImNvbHVtbnNcIjogdGhpcy5jb2x1bW5zLFxuICAgICAgICAgICAgXCJyb3dzXCI6IHRoaXMucm93cy5tYXAocm93VG9Kc29uKSxcbiAgICAgICAgICAgIFwicm93c0FmZmVjdGVkXCI6IHRoaXMucm93c0FmZmVjdGVkLFxuICAgICAgICAgICAgXCJsYXN0SW5zZXJ0Um93aWRcIjogdGhpcy5sYXN0SW5zZXJ0Um93aWQgIT09IHVuZGVmaW5lZCA/IFwiXCIgKyB0aGlzLmxhc3RJbnNlcnRSb3dpZCA6IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gcm93VG9Kc29uKHJvdykge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwocm93LCB2YWx1ZVRvSnNvbik7XG59XG5mdW5jdGlvbiB2YWx1ZVRvSnNvbih2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gQmFzZTY0LmZyb21VaW50OEFycmF5KG5ldyBVaW50OEFycmF5KHZhbHVlKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkJhc2U2NCIsInN1cHBvcnRlZFVybExpbmsiLCJ0cmFuc2FjdGlvbk1vZGVUb0JlZ2luIiwibW9kZSIsIlJhbmdlRXJyb3IiLCJSZXN1bHRTZXRJbXBsIiwiY29uc3RydWN0b3IiLCJjb2x1bW5zIiwicm93cyIsInJvd3NBZmZlY3RlZCIsImxhc3RJbnNlcnRSb3dpZCIsInRvSlNPTiIsIm1hcCIsInJvd1RvSnNvbiIsInVuZGVmaW5lZCIsInJvdyIsIkFycmF5IiwicHJvdG90eXBlIiwiY2FsbCIsInZhbHVlVG9Kc29uIiwidmFsdWUiLCJBcnJheUJ1ZmZlciIsImZyb21VaW50OEFycmF5IiwiVWludDhBcnJheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/util.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/ws.js":
/*!***********************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/ws.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LibsqlError: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError),\n/* harmony export */   WsClient: () => (/* binding */ WsClient),\n/* harmony export */   WsTransaction: () => (/* binding */ WsTransaction),\n/* harmony export */   _createClient: () => (/* binding */ _createClient),\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @libsql/hrana-client */ \"(rsc)/../../node_modules/.pnpm/@libsql+hrana-client@0.5.5/node_modules/@libsql/hrana-client/lib-esm/index.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/api.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/config.js\");\n/* harmony import */ var _hrana_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hrana.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/hrana.js\");\n/* harmony import */ var _sql_cache_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sql_cache.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/sql_cache.js\");\n/* harmony import */ var _uri_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./uri.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/uri.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util.js */ \"(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/util.js\");\n\n\n\n\n\n\n\n\nfunction createClient(config) {\n    return _createClient((0,_config_js__WEBPACK_IMPORTED_MODULE_2__.expandConfig)(config, false));\n}\n/** @private */ function _createClient(config) {\n    if (config.scheme !== \"wss\" && config.scheme !== \"ws\") {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError('The WebSocket client supports only \"libsql:\", \"wss:\" and \"ws:\" URLs, ' + `got ${JSON.stringify(config.scheme + \":\")}. For more information, please read ${_util_js__WEBPACK_IMPORTED_MODULE_6__.supportedUrlLink}`, \"URL_SCHEME_NOT_SUPPORTED\");\n    }\n    if (config.scheme === \"ws\" && config.tls) {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(`A \"ws:\" URL cannot opt into TLS by using ?tls=1`, \"URL_INVALID\");\n    } else if (config.scheme === \"wss\" && !config.tls) {\n        throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(`A \"wss:\" URL cannot opt out of TLS by using ?tls=0`, \"URL_INVALID\");\n    }\n    const url = (0,_uri_js__WEBPACK_IMPORTED_MODULE_5__.encodeBaseUrl)(config.scheme, config.authority, config.path);\n    let client;\n    try {\n        client = _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.openWs(url, config.authToken);\n    } catch (e) {\n        if (e instanceof _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.WebSocketUnsupportedError) {\n            const suggestedScheme = config.scheme === \"wss\" ? \"https\" : \"http\";\n            const suggestedUrl = (0,_uri_js__WEBPACK_IMPORTED_MODULE_5__.encodeBaseUrl)(suggestedScheme, config.authority, config.path);\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(\"This environment does not support WebSockets, please switch to the HTTP client by using \" + `a \"${suggestedScheme}:\" URL (${JSON.stringify(suggestedUrl)}). ` + `For more information, please read ${_util_js__WEBPACK_IMPORTED_MODULE_6__.supportedUrlLink}`, \"WEBSOCKETS_NOT_SUPPORTED\");\n        }\n        throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n    }\n    return new WsClient(client, url, config.authToken, config.intMode);\n}\nconst maxConnAgeMillis = 60 * 1000;\nconst sqlCacheCapacity = 100;\nclass WsClient {\n    #url;\n    #authToken;\n    #intMode;\n    // State of the current connection. The `hrana.WsClient` inside may be closed at any moment due to an\n    // asynchronous error.\n    #connState;\n    // If defined, this is a connection that will be used in the future, once it is ready.\n    #futureConnState;\n    /** @private */ constructor(client, url, authToken, intMode){\n        this.#url = url;\n        this.#authToken = authToken;\n        this.#intMode = intMode;\n        this.#connState = this.#openConn(client);\n        this.#futureConnState = undefined;\n        this.closed = false;\n        this.protocol = \"ws\";\n    }\n    async execute(stmt) {\n        const streamState = await this.#openStream();\n        try {\n            const hranaStmt = (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.stmtToHrana)(stmt);\n            // Schedule all operations synchronously, so they will be pipelined and executed in a single\n            // network roundtrip.\n            streamState.conn.sqlCache.apply([\n                hranaStmt\n            ]);\n            const hranaRowsPromise = streamState.stream.query(hranaStmt);\n            streamState.stream.closeGracefully();\n            return (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.resultSetFromHrana)(await hranaRowsPromise);\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        } finally{\n            this._closeStream(streamState);\n        }\n    }\n    async batch(stmts, mode = \"deferred\") {\n        const streamState = await this.#openStream();\n        try {\n            const hranaStmts = stmts.map(_hrana_js__WEBPACK_IMPORTED_MODULE_3__.stmtToHrana);\n            const version = await streamState.conn.client.getVersion();\n            // Schedule all operations synchronously, so they will be pipelined and executed in a single\n            // network roundtrip.\n            streamState.conn.sqlCache.apply(hranaStmts);\n            const batch = streamState.stream.batch(version >= 3);\n            const resultsPromise = (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.executeHranaBatch)(mode, version, batch, hranaStmts);\n            return await resultsPromise;\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        } finally{\n            this._closeStream(streamState);\n        }\n    }\n    async transaction(mode = \"write\") {\n        const streamState = await this.#openStream();\n        try {\n            const version = await streamState.conn.client.getVersion();\n            // the BEGIN statement will be batched with the first statement on the transaction to save a\n            // network roundtrip\n            return new WsTransaction(this, streamState, mode, version);\n        } catch (e) {\n            this._closeStream(streamState);\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        }\n    }\n    async executeMultiple(sql) {\n        const streamState = await this.#openStream();\n        try {\n            // Schedule all operations synchronously, so they will be pipelined and executed in a single\n            // network roundtrip.\n            const promise = streamState.stream.sequence(sql);\n            streamState.stream.closeGracefully();\n            await promise;\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        } finally{\n            this._closeStream(streamState);\n        }\n    }\n    async #openStream() {\n        if (this.closed) {\n            throw new _api_js__WEBPACK_IMPORTED_MODULE_1__.LibsqlError(\"The client is closed\", \"CLIENT_CLOSED\");\n        }\n        const now = new Date();\n        const ageMillis = now.valueOf() - this.#connState.openTime.valueOf();\n        if (ageMillis > maxConnAgeMillis && this.#futureConnState === undefined) {\n            // The existing connection is too old, let's open a new one.\n            const futureConnState = this.#openConn();\n            this.#futureConnState = futureConnState;\n            // However, if we used `futureConnState` immediately, we would introduce additional latency,\n            // because we would have to wait for the WebSocket handshake to complete, even though we may a\n            // have perfectly good existing connection in `this.#connState`!\n            //\n            // So we wait until the `hrana.Client.getVersion()` operation completes (which happens when the\n            // WebSocket hanshake completes), and only then we replace `this.#connState` with\n            // `futureConnState`, which is stored in `this.#futureConnState` in the meantime.\n            futureConnState.client.getVersion().then((_version)=>{\n                if (this.#connState !== futureConnState) {\n                    // We need to close `this.#connState` before we replace it. However, it is possible\n                    // that `this.#connState` has already been replaced: see the code below.\n                    if (this.#connState.streamStates.size === 0) {\n                        this.#connState.client.close();\n                    } else {\n                    // If there are existing streams on the connection, we must not close it, because\n                    // these streams would be broken. The last stream to be closed will also close the\n                    // connection in `_closeStream()`.\n                    }\n                }\n                this.#connState = futureConnState;\n                this.#futureConnState = undefined;\n            }, (_e)=>{\n                // If the new connection could not be established, let's just ignore the error and keep\n                // using the existing connection.\n                this.#futureConnState = undefined;\n            });\n        }\n        if (this.#connState.client.closed) {\n            // An error happened on this connection and it has been closed. Let's try to seamlessly reconnect.\n            try {\n                if (this.#futureConnState !== undefined) {\n                    // We are already in the process of opening a new connection, so let's just use it\n                    // immediately.\n                    this.#connState = this.#futureConnState;\n                } else {\n                    this.#connState = this.#openConn();\n                }\n            } catch (e) {\n                throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n            }\n        }\n        const connState = this.#connState;\n        try {\n            // Now we wait for the WebSocket handshake to complete (if it hasn't completed yet). Note that\n            // this does not increase latency, because any messages that we would send on the WebSocket before\n            // the handshake would be queued until the handshake is completed anyway.\n            if (connState.useSqlCache === undefined) {\n                connState.useSqlCache = await connState.client.getVersion() >= 2;\n                if (connState.useSqlCache) {\n                    connState.sqlCache.capacity = sqlCacheCapacity;\n                }\n            }\n            const stream = connState.client.openStream();\n            stream.intMode = this.#intMode;\n            const streamState = {\n                conn: connState,\n                stream\n            };\n            connState.streamStates.add(streamState);\n            return streamState;\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        }\n    }\n    #openConn(client) {\n        try {\n            client ??= _libsql_hrana_client__WEBPACK_IMPORTED_MODULE_0__.openWs(this.#url, this.#authToken);\n            return {\n                client,\n                useSqlCache: undefined,\n                sqlCache: new _sql_cache_js__WEBPACK_IMPORTED_MODULE_4__.SqlCache(client, 0),\n                openTime: new Date(),\n                streamStates: new Set()\n            };\n        } catch (e) {\n            throw (0,_hrana_js__WEBPACK_IMPORTED_MODULE_3__.mapHranaError)(e);\n        }\n    }\n    _closeStream(streamState) {\n        streamState.stream.close();\n        const connState = streamState.conn;\n        connState.streamStates.delete(streamState);\n        if (connState.streamStates.size === 0 && connState !== this.#connState) {\n            // We are not using this connection anymore and this is the last stream that was using it, so we\n            // must close it now.\n            connState.client.close();\n        }\n    }\n    close() {\n        this.#connState.client.close();\n        this.closed = true;\n    }\n}\nclass WsTransaction extends _hrana_js__WEBPACK_IMPORTED_MODULE_3__.HranaTransaction {\n    #client;\n    #streamState;\n    /** @private */ constructor(client, state, mode, version){\n        super(mode, version);\n        this.#client = client;\n        this.#streamState = state;\n    }\n    /** @private */ _getStream() {\n        return this.#streamState.stream;\n    }\n    /** @private */ _getSqlCache() {\n        return this.#streamState.conn.sqlCache;\n    }\n    close() {\n        this.#client._closeStream(this.#streamState);\n    }\n    get closed() {\n        return this.#streamState.stream.closed;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL3dzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE4QztBQUNQO0FBQ0k7QUFDdUU7QUFDeEU7QUFDRDtBQUNJO0FBQ3BCO0FBQ2xCLFNBQVNXLGFBQWFDLE1BQU07SUFDL0IsT0FBT0MsY0FBY1gsd0RBQVlBLENBQUNVLFFBQVE7QUFDOUM7QUFDQSxhQUFhLEdBQ04sU0FBU0MsY0FBY0QsTUFBTTtJQUNoQyxJQUFJQSxPQUFPRSxNQUFNLEtBQUssU0FBU0YsT0FBT0UsTUFBTSxLQUFLLE1BQU07UUFDbkQsTUFBTSxJQUFJYixnREFBV0EsQ0FBQywwRUFDbEIsQ0FBQyxJQUFJLEVBQUVjLEtBQUtDLFNBQVMsQ0FBQ0osT0FBT0UsTUFBTSxHQUFHLEtBQUssb0NBQW9DLEVBQUVKLHNEQUFnQkEsQ0FBQyxDQUFDLEVBQUU7SUFDN0c7SUFDQSxJQUFJRSxPQUFPRSxNQUFNLEtBQUssUUFBUUYsT0FBT0ssR0FBRyxFQUFFO1FBQ3RDLE1BQU0sSUFBSWhCLGdEQUFXQSxDQUFDLENBQUMsK0NBQStDLENBQUMsRUFBRTtJQUM3RSxPQUNLLElBQUlXLE9BQU9FLE1BQU0sS0FBSyxTQUFTLENBQUNGLE9BQU9LLEdBQUcsRUFBRTtRQUM3QyxNQUFNLElBQUloQixnREFBV0EsQ0FBQyxDQUFDLGtEQUFrRCxDQUFDLEVBQUU7SUFDaEY7SUFDQSxNQUFNaUIsTUFBTVQsc0RBQWFBLENBQUNHLE9BQU9FLE1BQU0sRUFBRUYsT0FBT08sU0FBUyxFQUFFUCxPQUFPUSxJQUFJO0lBQ3RFLElBQUlDO0lBQ0osSUFBSTtRQUNBQSxTQUFTckIsd0RBQVksQ0FBQ2tCLEtBQUtOLE9BQU9XLFNBQVM7SUFDL0MsRUFDQSxPQUFPQyxHQUFHO1FBQ04sSUFBSUEsYUFBYXhCLDJFQUErQixFQUFFO1lBQzlDLE1BQU0wQixrQkFB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USxNQUFNLENBQUN4QztRQUM5QixJQUFJVCxVQUFVeUMsWUFBWSxDQUFDQyxJQUFJLEtBQUssS0FBSzFDLGNBQWMsSUFBSSxDQUFDLENBQUNBLFNBQVMsRUFBRTtZQUNwRSxnR0FBZ0c7WUFDaEcscUJBQXFCO1lBQ3JCQSxVQUFVWCxNQUFNLENBQUNzRCxLQUFLO1FBQzFCO0lBQ0o7SUFDQUEsUUFBUTtRQUNKLElBQUksQ0FBQyxDQUFDM0MsU0FBUyxDQUFDWCxNQUFNLENBQUNzRCxLQUFLO1FBQzVCLElBQUksQ0FBQ3RDLE1BQU0sR0FBRztJQUNsQjtBQUNKO0FBQ08sTUFBTXdCLHNCQUFzQjFELHVEQUFnQkE7SUFDL0MsQ0FBQ2tCLE1BQU0sQ0FBQztJQUNSLENBQUNvQixXQUFXLENBQUM7SUFDYixhQUFhLEdBQ2JQLFlBQVliLE1BQU0sRUFBRTZELEtBQUssRUFBRTVCLElBQUksRUFBRUcsT0FBTyxDQUFFO1FBQ3RDLEtBQUssQ0FBQ0gsTUFBTUc7UUFDWixJQUFJLENBQUMsQ0FBQ3BDLE1BQU0sR0FBR0E7UUFDZixJQUFJLENBQUMsQ0FBQ29CLFdBQVcsR0FBR3lDO0lBQ3hCO0lBQ0EsYUFBYSxHQUNiQyxhQUFhO1FBQ1QsT0FBTyxJQUFJLENBQUMsQ0FBQzFDLFdBQVcsQ0FBQ08sTUFBTTtJQUNuQztJQUNBLGFBQWEsR0FDYm9DLGVBQWU7UUFDWCxPQUFPLElBQUksQ0FBQyxDQUFDM0MsV0FBVyxDQUFDRyxJQUFJLENBQUNDLFFBQVE7SUFDMUM7SUFDQThCLFFBQVE7UUFDSixJQUFJLENBQUMsQ0FBQ3RELE1BQU0sQ0FBQzhCLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQ1YsV0FBVztJQUMvQztJQUNBLElBQUlKLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQyxDQUFDSSxXQUFXLENBQUNPLE1BQU0sQ0FBQ1gsTUFBTTtJQUMxQztBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHRva2Vuc3RyZWFtL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtjbGllbnRAMC4zLjQvbm9kZV9tb2R1bGVzL0BsaWJzcWwvY2xpZW50L2xpYi1lc20vd3MuanM/NjNlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBocmFuYSBmcm9tIFwiQGxpYnNxbC9ocmFuYS1jbGllbnRcIjtcbmltcG9ydCB7IExpYnNxbEVycm9yIH0gZnJvbSBcIi4vYXBpLmpzXCI7XG5pbXBvcnQgeyBleHBhbmRDb25maWcgfSBmcm9tIFwiLi9jb25maWcuanNcIjtcbmltcG9ydCB7IEhyYW5hVHJhbnNhY3Rpb24sIGV4ZWN1dGVIcmFuYUJhdGNoLCBzdG10VG9IcmFuYSwgcmVzdWx0U2V0RnJvbUhyYW5hLCBtYXBIcmFuYUVycm9yLCB9IGZyb20gXCIuL2hyYW5hLmpzXCI7XG5pbXBvcnQgeyBTcWxDYWNoZSB9IGZyb20gXCIuL3NxbF9jYWNoZS5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlQmFzZVVybCB9IGZyb20gXCIuL3VyaS5qc1wiO1xuaW1wb3J0IHsgc3VwcG9ydGVkVXJsTGluayB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2FwaS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudChjb25maWcpIHtcbiAgICByZXR1cm4gX2NyZWF0ZUNsaWVudChleHBhbmRDb25maWcoY29uZmlnLCBmYWxzZSkpO1xufVxuLyoqIEBwcml2YXRlICovXG5leHBvcnQgZnVuY3Rpb24gX2NyZWF0ZUNsaWVudChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLnNjaGVtZSAhPT0gXCJ3c3NcIiAmJiBjb25maWcuc2NoZW1lICE9PSBcIndzXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKCdUaGUgV2ViU29ja2V0IGNsaWVudCBzdXBwb3J0cyBvbmx5IFwibGlic3FsOlwiLCBcIndzczpcIiBhbmQgXCJ3czpcIiBVUkxzLCAnICtcbiAgICAgICAgICAgIGBnb3QgJHtKU09OLnN0cmluZ2lmeShjb25maWcuc2NoZW1lICsgXCI6XCIpfS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSByZWFkICR7c3VwcG9ydGVkVXJsTGlua31gLCBcIlVSTF9TQ0hFTUVfTk9UX1NVUFBPUlRFRFwiKTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5zY2hlbWUgPT09IFwid3NcIiAmJiBjb25maWcudGxzKSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihgQSBcIndzOlwiIFVSTCBjYW5ub3Qgb3B0IGludG8gVExTIGJ5IHVzaW5nID90bHM9MWAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbmZpZy5zY2hlbWUgPT09IFwid3NzXCIgJiYgIWNvbmZpZy50bHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKGBBIFwid3NzOlwiIFVSTCBjYW5ub3Qgb3B0IG91dCBvZiBUTFMgYnkgdXNpbmcgP3Rscz0wYCwgXCJVUkxfSU5WQUxJRFwiKTtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gZW5jb2RlQmFzZVVybChjb25maWcuc2NoZW1lLCBjb25maWcuYXV0aG9yaXR5LCBjb25maWcucGF0aCk7XG4gICAgbGV0IGNsaWVudDtcbiAgICB0cnkge1xuICAgICAgICBjbGllbnQgPSBocmFuYS5vcGVuV3ModXJsLCBjb25maWcuYXV0aFRva2VuKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBocmFuYS5XZWJTb2NrZXRVbnN1cHBvcnRlZEVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBzdWdnZXN0ZWRTY2hlbWUgPSBjb25maWcuc2NoZW1lID09PSBcIndzc1wiID8gXCJodHRwc1wiIDogXCJodHRwXCI7XG4gICAgICAgICAgICBjb25zdCBzdWdnZXN0ZWRVcmwgPSBlbmNvZGVCYXNlVXJsKHN1Z2dlc3RlZFNjaGVtZSwgY29uZmlnLmF1dGhvcml0eSwgY29uZmlnLnBhdGgpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiVGhpcyBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IFdlYlNvY2tldHMsIHBsZWFzZSBzd2l0Y2ggdG8gdGhlIEhUVFAgY2xpZW50IGJ5IHVzaW5nIFwiICtcbiAgICAgICAgICAgICAgICBgYSBcIiR7c3VnZ2VzdGVkU2NoZW1lfTpcIiBVUkwgKCR7SlNPTi5zdHJpbmdpZnkoc3VnZ2VzdGVkVXJsKX0pLiBgICtcbiAgICAgICAgICAgICAgICBgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSByZWFkICR7c3VwcG9ydGVkVXJsTGlua31gLCBcIldFQlNPQ0tFVFNfTk9UX1NVUFBPUlRFRFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFdzQ2xpZW50KGNsaWVudCwgdXJsLCBjb25maWcuYXV0aFRva2VuLCBjb25maWcuaW50TW9kZSk7XG59XG5jb25zdCBtYXhDb25uQWdlTWlsbGlzID0gNjAgKiAxMDAwO1xuY29uc3Qgc3FsQ2FjaGVDYXBhY2l0eSA9IDEwMDtcbmV4cG9ydCBjbGFzcyBXc0NsaWVudCB7XG4gICAgI3VybDtcbiAgICAjYXV0aFRva2VuO1xuICAgICNpbnRNb2RlO1xuICAgIC8vIFN0YXRlIG9mIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24uIFRoZSBgaHJhbmEuV3NDbGllbnRgIGluc2lkZSBtYXkgYmUgY2xvc2VkIGF0IGFueSBtb21lbnQgZHVlIHRvIGFuXG4gICAgLy8gYXN5bmNocm9ub3VzIGVycm9yLlxuICAgICNjb25uU3RhdGU7XG4gICAgLy8gSWYgZGVmaW5lZCwgdGhpcyBpcyBhIGNvbm5lY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgaW4gdGhlIGZ1dHVyZSwgb25jZSBpdCBpcyByZWFkeS5cbiAgICAjZnV0dXJlQ29ublN0YXRlO1xuICAgIGNsb3NlZDtcbiAgICBwcm90b2NvbDtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHVybCwgYXV0aFRva2VuLCBpbnRNb2RlKSB7XG4gICAgICAgIHRoaXMuI3VybCA9IHVybDtcbiAgICAgICAgdGhpcy4jYXV0aFRva2VuID0gYXV0aFRva2VuO1xuICAgICAgICB0aGlzLiNpbnRNb2RlID0gaW50TW9kZTtcbiAgICAgICAgdGhpcy4jY29ublN0YXRlID0gdGhpcy4jb3BlbkNvbm4oY2xpZW50KTtcbiAgICAgICAgdGhpcy4jZnV0dXJlQ29ublN0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb3RvY29sID0gXCJ3c1wiO1xuICAgIH1cbiAgICBhc3luYyBleGVjdXRlKHN0bXQpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtU3RhdGUgPSBhd2FpdCB0aGlzLiNvcGVuU3RyZWFtKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBocmFuYVN0bXQgPSBzdG10VG9IcmFuYShzdG10KTtcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIGFsbCBvcGVyYXRpb25zIHN5bmNocm9ub3VzbHksIHNvIHRoZXkgd2lsbCBiZSBwaXBlbGluZWQgYW5kIGV4ZWN1dGVkIGluIGEgc2luZ2xlXG4gICAgICAgICAgICAvLyBuZXR3b3JrIHJvdW5kdHJpcC5cbiAgICAgICAgICAgIHN0cmVhbVN0YXRlLmNvbm4uc3FsQ2FjaGUuYXBwbHkoW2hyYW5hU3RtdF0pO1xuICAgICAgICAgICAgY29uc3QgaHJhbmFSb3dzUHJvbWlzZSA9IHN0cmVhbVN0YXRlLnN0cmVhbS5xdWVyeShocmFuYVN0bXQpO1xuICAgICAgICAgICAgc3RyZWFtU3RhdGUuc3RyZWFtLmNsb3NlR3JhY2VmdWxseSgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFNldEZyb21IcmFuYShhd2FpdCBocmFuYVJvd3NQcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlU3RyZWFtKHN0cmVhbVN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBiYXRjaChzdG10cywgbW9kZSA9IFwiZGVmZXJyZWRcIikge1xuICAgICAgICBjb25zdCBzdHJlYW1TdGF0ZSA9IGF3YWl0IHRoaXMuI29wZW5TdHJlYW0oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGhyYW5hU3RtdHMgPSBzdG10cy5tYXAoc3RtdFRvSHJhbmEpO1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IHN0cmVhbVN0YXRlLmNvbm4uY2xpZW50LmdldFZlcnNpb24oKTtcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIGFsbCBvcGVyYXRpb25zIHN5bmNocm9ub3VzbHksIHNvIHRoZXkgd2lsbCBiZSBwaXBlbGluZWQgYW5kIGV4ZWN1dGVkIGluIGEgc2luZ2xlXG4gICAgICAgICAgICAvLyBuZXR3b3JrIHJvdW5kdHJpcC5cbiAgICAgICAgICAgIHN0cmVhbVN0YXRlLmNvbm4uc3FsQ2FjaGUuYXBwbHkoaHJhbmFTdG10cyk7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IHN0cmVhbVN0YXRlLnN0cmVhbS5iYXRjaCh2ZXJzaW9uID49IDMpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0c1Byb21pc2UgPSBleGVjdXRlSHJhbmFCYXRjaChtb2RlLCB2ZXJzaW9uLCBiYXRjaCwgaHJhbmFTdG10cyk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgcmVzdWx0c1Byb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZVN0cmVhbShzdHJlYW1TdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgdHJhbnNhY3Rpb24obW9kZSA9IFwid3JpdGVcIikge1xuICAgICAgICBjb25zdCBzdHJlYW1TdGF0ZSA9IGF3YWl0IHRoaXMuI29wZW5TdHJlYW0oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBhd2FpdCBzdHJlYW1TdGF0ZS5jb25uLmNsaWVudC5nZXRWZXJzaW9uKCk7XG4gICAgICAgICAgICAvLyB0aGUgQkVHSU4gc3RhdGVtZW50IHdpbGwgYmUgYmF0Y2hlZCB3aXRoIHRoZSBmaXJzdCBzdGF0ZW1lbnQgb24gdGhlIHRyYW5zYWN0aW9uIHRvIHNhdmUgYVxuICAgICAgICAgICAgLy8gbmV0d29yayByb3VuZHRyaXBcbiAgICAgICAgICAgIHJldHVybiBuZXcgV3NUcmFuc2FjdGlvbih0aGlzLCBzdHJlYW1TdGF0ZSwgbW9kZSwgdmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlU3RyZWFtKHN0cmVhbVN0YXRlKTtcbiAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZXhlY3V0ZU11bHRpcGxlKHNxbCkge1xuICAgICAgICBjb25zdCBzdHJlYW1TdGF0ZSA9IGF3YWl0IHRoaXMuI29wZW5TdHJlYW0oKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIGFsbCBvcGVyYXRpb25zIHN5bmNocm9ub3VzbHksIHNvIHRoZXkgd2lsbCBiZSBwaXBlbGluZWQgYW5kIGV4ZWN1dGVkIGluIGEgc2luZ2xlXG4gICAgICAgICAgICAvLyBuZXR3b3JrIHJvdW5kdHJpcC5cbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBzdHJlYW1TdGF0ZS5zdHJlYW0uc2VxdWVuY2Uoc3FsKTtcbiAgICAgICAgICAgIHN0cmVhbVN0YXRlLnN0cmVhbS5jbG9zZUdyYWNlZnVsbHkoKTtcbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZVN0cmVhbShzdHJlYW1TdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgI29wZW5TdHJlYW0oKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiVGhlIGNsaWVudCBpcyBjbG9zZWRcIiwgXCJDTElFTlRfQ0xPU0VEXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGFnZU1pbGxpcyA9IG5vdy52YWx1ZU9mKCkgLSB0aGlzLiNjb25uU3RhdGUub3BlblRpbWUudmFsdWVPZigpO1xuICAgICAgICBpZiAoYWdlTWlsbGlzID4gbWF4Q29ubkFnZU1pbGxpcyAmJiB0aGlzLiNmdXR1cmVDb25uU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gVGhlIGV4aXN0aW5nIGNvbm5lY3Rpb24gaXMgdG9vIG9sZCwgbGV0J3Mgb3BlbiBhIG5ldyBvbmUuXG4gICAgICAgICAgICBjb25zdCBmdXR1cmVDb25uU3RhdGUgPSB0aGlzLiNvcGVuQ29ubigpO1xuICAgICAgICAgICAgdGhpcy4jZnV0dXJlQ29ublN0YXRlID0gZnV0dXJlQ29ublN0YXRlO1xuICAgICAgICAgICAgLy8gSG93ZXZlciwgaWYgd2UgdXNlZCBgZnV0dXJlQ29ublN0YXRlYCBpbW1lZGlhdGVseSwgd2Ugd291bGQgaW50cm9kdWNlIGFkZGl0aW9uYWwgbGF0ZW5jeSxcbiAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2Ugd291bGQgaGF2ZSB0byB3YWl0IGZvciB0aGUgV2ViU29ja2V0IGhhbmRzaGFrZSB0byBjb21wbGV0ZSwgZXZlbiB0aG91Z2ggd2UgbWF5IGFcbiAgICAgICAgICAgIC8vIGhhdmUgcGVyZmVjdGx5IGdvb2QgZXhpc3RpbmcgY29ubmVjdGlvbiBpbiBgdGhpcy4jY29ublN0YXRlYCFcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBTbyB3ZSB3YWl0IHVudGlsIHRoZSBgaHJhbmEuQ2xpZW50LmdldFZlcnNpb24oKWAgb3BlcmF0aW9uIGNvbXBsZXRlcyAod2hpY2ggaGFwcGVucyB3aGVuIHRoZVxuICAgICAgICAgICAgLy8gV2ViU29ja2V0IGhhbnNoYWtlIGNvbXBsZXRlcyksIGFuZCBvbmx5IHRoZW4gd2UgcmVwbGFjZSBgdGhpcy4jY29ublN0YXRlYCB3aXRoXG4gICAgICAgICAgICAvLyBgZnV0dXJlQ29ublN0YXRlYCwgd2hpY2ggaXMgc3RvcmVkIGluIGB0aGlzLiNmdXR1cmVDb25uU3RhdGVgIGluIHRoZSBtZWFudGltZS5cbiAgICAgICAgICAgIGZ1dHVyZUNvbm5TdGF0ZS5jbGllbnQuZ2V0VmVyc2lvbigpLnRoZW4oKF92ZXJzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI2Nvbm5TdGF0ZSAhPT0gZnV0dXJlQ29ublN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY2xvc2UgYHRoaXMuI2Nvbm5TdGF0ZWAgYmVmb3JlIHdlIHJlcGxhY2UgaXQuIEhvd2V2ZXIsIGl0IGlzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgYHRoaXMuI2Nvbm5TdGF0ZWAgaGFzIGFscmVhZHkgYmVlbiByZXBsYWNlZDogc2VlIHRoZSBjb2RlIGJlbG93LlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4jY29ublN0YXRlLnN0cmVhbVN0YXRlcy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNjb25uU3RhdGUuY2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgZXhpc3Rpbmcgc3RyZWFtcyBvbiB0aGUgY29ubmVjdGlvbiwgd2UgbXVzdCBub3QgY2xvc2UgaXQsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXNlIHN0cmVhbXMgd291bGQgYmUgYnJva2VuLiBUaGUgbGFzdCBzdHJlYW0gdG8gYmUgY2xvc2VkIHdpbGwgYWxzbyBjbG9zZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbm5lY3Rpb24gaW4gYF9jbG9zZVN0cmVhbSgpYC5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiNjb25uU3RhdGUgPSBmdXR1cmVDb25uU3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy4jZnV0dXJlQ29ublN0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSwgKF9lKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5ldyBjb25uZWN0aW9uIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCwgbGV0J3MganVzdCBpZ25vcmUgdGhlIGVycm9yIGFuZCBrZWVwXG4gICAgICAgICAgICAgICAgLy8gdXNpbmcgdGhlIGV4aXN0aW5nIGNvbm5lY3Rpb24uXG4gICAgICAgICAgICAgICAgdGhpcy4jZnV0dXJlQ29ublN0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI2Nvbm5TdGF0ZS5jbGllbnQuY2xvc2VkKSB7XG4gICAgICAgICAgICAvLyBBbiBlcnJvciBoYXBwZW5lZCBvbiB0aGlzIGNvbm5lY3Rpb24gYW5kIGl0IGhhcyBiZWVuIGNsb3NlZC4gTGV0J3MgdHJ5IHRvIHNlYW1sZXNzbHkgcmVjb25uZWN0LlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jZnV0dXJlQ29ublN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlIGFscmVhZHkgaW4gdGhlIHByb2Nlc3Mgb2Ygb3BlbmluZyBhIG5ldyBjb25uZWN0aW9uLCBzbyBsZXQncyBqdXN0IHVzZSBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY29ublN0YXRlID0gdGhpcy4jZnV0dXJlQ29ublN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY29ublN0YXRlID0gdGhpcy4jb3BlbkNvbm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29ublN0YXRlID0gdGhpcy4jY29ublN0YXRlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTm93IHdlIHdhaXQgZm9yIHRoZSBXZWJTb2NrZXQgaGFuZHNoYWtlIHRvIGNvbXBsZXRlIChpZiBpdCBoYXNuJ3QgY29tcGxldGVkIHlldCkuIE5vdGUgdGhhdFxuICAgICAgICAgICAgLy8gdGhpcyBkb2VzIG5vdCBpbmNyZWFzZSBsYXRlbmN5LCBiZWNhdXNlIGFueSBtZXNzYWdlcyB0aGF0IHdlIHdvdWxkIHNlbmQgb24gdGhlIFdlYlNvY2tldCBiZWZvcmVcbiAgICAgICAgICAgIC8vIHRoZSBoYW5kc2hha2Ugd291bGQgYmUgcXVldWVkIHVudGlsIHRoZSBoYW5kc2hha2UgaXMgY29tcGxldGVkIGFueXdheS5cbiAgICAgICAgICAgIGlmIChjb25uU3RhdGUudXNlU3FsQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbm5TdGF0ZS51c2VTcWxDYWNoZSA9IGF3YWl0IGNvbm5TdGF0ZS5jbGllbnQuZ2V0VmVyc2lvbigpID49IDI7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm5TdGF0ZS51c2VTcWxDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25uU3RhdGUuc3FsQ2FjaGUuY2FwYWNpdHkgPSBzcWxDYWNoZUNhcGFjaXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGNvbm5TdGF0ZS5jbGllbnQub3BlblN0cmVhbSgpO1xuICAgICAgICAgICAgc3RyZWFtLmludE1vZGUgPSB0aGlzLiNpbnRNb2RlO1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtU3RhdGUgPSB7IGNvbm46IGNvbm5TdGF0ZSwgc3RyZWFtIH07XG4gICAgICAgICAgICBjb25uU3RhdGUuc3RyZWFtU3RhdGVzLmFkZChzdHJlYW1TdGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gc3RyZWFtU3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI29wZW5Db25uKGNsaWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2xpZW50ID8/PSBocmFuYS5vcGVuV3ModGhpcy4jdXJsLCB0aGlzLiNhdXRoVG9rZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgdXNlU3FsQ2FjaGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzcWxDYWNoZTogbmV3IFNxbENhY2hlKGNsaWVudCwgMCksXG4gICAgICAgICAgICAgICAgb3BlblRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgc3RyZWFtU3RhdGVzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jbG9zZVN0cmVhbShzdHJlYW1TdGF0ZSkge1xuICAgICAgICBzdHJlYW1TdGF0ZS5zdHJlYW0uY2xvc2UoKTtcbiAgICAgICAgY29uc3QgY29ublN0YXRlID0gc3RyZWFtU3RhdGUuY29ubjtcbiAgICAgICAgY29ublN0YXRlLnN0cmVhbVN0YXRlcy5kZWxldGUoc3RyZWFtU3RhdGUpO1xuICAgICAgICBpZiAoY29ublN0YXRlLnN0cmVhbVN0YXRlcy5zaXplID09PSAwICYmIGNvbm5TdGF0ZSAhPT0gdGhpcy4jY29ublN0YXRlKSB7XG4gICAgICAgICAgICAvLyBXZSBhcmUgbm90IHVzaW5nIHRoaXMgY29ubmVjdGlvbiBhbnltb3JlIGFuZCB0aGlzIGlzIHRoZSBsYXN0IHN0cmVhbSB0aGF0IHdhcyB1c2luZyBpdCwgc28gd2VcbiAgICAgICAgICAgIC8vIG11c3QgY2xvc2UgaXQgbm93LlxuICAgICAgICAgICAgY29ublN0YXRlLmNsaWVudC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLiNjb25uU3RhdGUuY2xpZW50LmNsb3NlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgV3NUcmFuc2FjdGlvbiBleHRlbmRzIEhyYW5hVHJhbnNhY3Rpb24ge1xuICAgICNjbGllbnQ7XG4gICAgI3N0cmVhbVN0YXRlO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCwgc3RhdGUsIG1vZGUsIHZlcnNpb24pIHtcbiAgICAgICAgc3VwZXIobW9kZSwgdmVyc2lvbik7XG4gICAgICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudDtcbiAgICAgICAgdGhpcy4jc3RyZWFtU3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2dldFN0cmVhbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0cmVhbVN0YXRlLnN0cmVhbTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2dldFNxbENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RyZWFtU3RhdGUuY29ubi5zcWxDYWNoZTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuI2NsaWVudC5fY2xvc2VTdHJlYW0odGhpcy4jc3RyZWFtU3RhdGUpO1xuICAgIH1cbiAgICBnZXQgY2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RyZWFtU3RhdGUuc3RyZWFtLmNsb3NlZDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiaHJhbmEiLCJMaWJzcWxFcnJvciIsImV4cGFuZENvbmZpZyIsIkhyYW5hVHJhbnNhY3Rpb24iLCJleGVjdXRlSHJhbmFCYXRjaCIsInN0bXRUb0hyYW5hIiwicmVzdWx0U2V0RnJvbUhyYW5hIiwibWFwSHJhbmFFcnJvciIsIlNxbENhY2hlIiwiZW5jb2RlQmFzZVVybCIsInN1cHBvcnRlZFVybExpbmsiLCJjcmVhdGVDbGllbnQiLCJjb25maWciLCJfY3JlYXRlQ2xpZW50Iiwic2NoZW1lIiwiSlNPTiIsInN0cmluZ2lmeSIsInRscyIsInVybCIsImF1dGhvcml0eSIsInBhdGgiLCJjbGllbnQiLCJvcGVuV3MiLCJhdXRoVG9rZW4iLCJlIiwiV2ViU29ja2V0VW5zdXBwb3J0ZWRFcnJvciIsInN1Z2dlc3RlZFNjaGVtZSIsInN1Z2dlc3RlZFVybCIsIldzQ2xpZW50IiwiaW50TW9kZSIsIm1heENvbm5BZ2VNaWxsaXMiLCJzcWxDYWNoZUNhcGFjaXR5IiwiY29ublN0YXRlIiwiZnV0dXJlQ29ublN0YXRlIiwiY29uc3RydWN0b3IiLCJvcGVuQ29ubiIsInVuZGVmaW5lZCIsImNsb3NlZCIsInByb3RvY29sIiwiZXhlY3V0ZSIsInN0bXQiLCJzdHJlYW1TdGF0ZSIsIm9wZW5TdHJlYW0iLCJocmFuYVN0bXQiLCJjb25uIiwic3FsQ2FjaGUiLCJhcHBseSIsImhyYW5hUm93c1Byb21pc2UiLCJzdHJlYW0iLCJxdWVyeSIsImNsb3NlR3JhY2VmdWxseSIsIl9jbG9zZVN0cmVhbSIsImJhdGNoIiwic3RtdHMiLCJtb2RlIiwiaHJhbmFTdG10cyIsIm1hcCIsInZlcnNpb24iLCJnZXRWZXJzaW9uIiwicmVzdWx0c1Byb21pc2UiLCJ0cmFuc2FjdGlvbiIsIldzVHJhbnNhY3Rpb24iLCJleGVjdXRlTXVsdGlwbGUiLCJzcWwiLCJwcm9taXNlIiwic2VxdWVuY2UiLCJub3ciLCJEYXRlIiwiYWdlTWlsbGlzIiwidmFsdWVPZiIsIm9wZW5UaW1lIiwidGhlbiIsIl92ZXJzaW9uIiwic3RyZWFtU3RhdGVzIiwic2l6ZSIsImNsb3NlIiwiX2UiLCJ1c2VTcWxDYWNoZSIsImNhcGFjaXR5IiwiYWRkIiwiU2V0IiwiZGVsZXRlIiwic3RhdGUiLCJfZ2V0U3RyZWFtIiwiX2dldFNxbENhY2hlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@libsql+client@0.3.4/node_modules/@libsql/client/lib-esm/ws.js\n");

/***/ })

};
;