"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/drizzle-orm@0.27.2_@libsql+client@0.3.4";
exports.ids = ["vendor-chunks/drizzle-orm@0.27.2_@libsql+client@0.3.4"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/alias-3e926a50.mjs":
/*!********************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/alias-3e926a50.mjs ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ check),\n/* harmony export */   A: () => (/* binding */ mapColumnsInSQLToAlias),\n/* harmony export */   B: () => (/* binding */ orderByOperators),\n/* harmony export */   C: () => (/* binding */ Column),\n/* harmony export */   D: () => (/* binding */ normalizeRelation),\n/* harmony export */   E: () => (/* binding */ and),\n/* harmony export */   F: () => (/* binding */ or),\n/* harmony export */   G: () => (/* binding */ aliasedTable),\n/* harmony export */   H: () => (/* binding */ eq),\n/* harmony export */   I: () => (/* binding */ TypedQueryBuilder),\n/* harmony export */   J: () => (/* binding */ getTableLikeName),\n/* harmony export */   K: () => (/* binding */ applyMixins),\n/* harmony export */   L: () => (/* binding */ ColumnBuilder),\n/* harmony export */   M: () => (/* binding */ TableAliasProxyHandler),\n/* harmony export */   N: () => (/* binding */ PgColumnBuilder),\n/* harmony export */   O: () => (/* binding */ PgColumn),\n/* harmony export */   P: () => (/* binding */ PgDialect),\n/* harmony export */   Q: () => (/* binding */ QueryPromise),\n/* harmony export */   R: () => (/* binding */ Relation),\n/* harmony export */   S: () => (/* binding */ SQL),\n/* harmony export */   T: () => (/* binding */ Table),\n/* harmony export */   U: () => (/* binding */ pgTableWithSchema),\n/* harmony export */   V: () => (/* binding */ View),\n/* harmony export */   W: () => (/* binding */ WithSubquery),\n/* harmony export */   X: () => (/* binding */ pgViewWithSchema),\n/* harmony export */   Y: () => (/* binding */ pgMaterializedViewWithSchema),\n/* harmony export */   Z: () => (/* binding */ CheckBuilder),\n/* harmony export */   _: () => (/* binding */ Check),\n/* harmony export */   a: () => (/* binding */ extractTablesRelationalConfig),\n/* harmony export */   a$: () => (/* binding */ PgViewConfig),\n/* harmony export */   a0: () => (/* binding */ PgArrayBuilder),\n/* harmony export */   a1: () => (/* binding */ PgArray),\n/* harmony export */   a2: () => (/* binding */ PgDateBuilder),\n/* harmony export */   a3: () => (/* binding */ PgDate),\n/* harmony export */   a4: () => (/* binding */ PgDateStringBuilder),\n/* harmony export */   a5: () => (/* binding */ PgDateString),\n/* harmony export */   a6: () => (/* binding */ date),\n/* harmony export */   a7: () => (/* binding */ PgJsonBuilder),\n/* harmony export */   a8: () => (/* binding */ PgJson),\n/* harmony export */   a9: () => (/* binding */ json),\n/* harmony export */   aA: () => (/* binding */ primaryKey),\n/* harmony export */   aB: () => (/* binding */ PrimaryKeyBuilder),\n/* harmony export */   aC: () => (/* binding */ PrimaryKey),\n/* harmony export */   aD: () => (/* binding */ unique),\n/* harmony export */   aE: () => (/* binding */ uniqueKeyName),\n/* harmony export */   aF: () => (/* binding */ UniqueConstraintBuilder),\n/* harmony export */   aG: () => (/* binding */ UniqueOnConstraintBuilder),\n/* harmony export */   aH: () => (/* binding */ UniqueConstraint),\n/* harmony export */   aI: () => (/* binding */ PgSelectQueryBuilder),\n/* harmony export */   aJ: () => (/* binding */ PgSelect),\n/* harmony export */   aK: () => (/* binding */ InlineForeignKeys),\n/* harmony export */   aL: () => (/* binding */ PgTable),\n/* harmony export */   aM: () => (/* binding */ pgTable),\n/* harmony export */   aN: () => (/* binding */ pgTableCreator),\n/* harmony export */   aO: () => (/* binding */ getTableConfig),\n/* harmony export */   aP: () => (/* binding */ getViewConfig),\n/* harmony export */   aQ: () => (/* binding */ getMaterializedViewConfig),\n/* harmony export */   aR: () => (/* binding */ parsePgNestedArray),\n/* harmony export */   aS: () => (/* binding */ parsePgArray),\n/* harmony export */   aT: () => (/* binding */ makePgArray),\n/* harmony export */   aU: () => (/* binding */ DefaultViewBuilderCore),\n/* harmony export */   aV: () => (/* binding */ ViewBuilder),\n/* harmony export */   aW: () => (/* binding */ ManualViewBuilder),\n/* harmony export */   aX: () => (/* binding */ MaterializedViewBuilderCore),\n/* harmony export */   aY: () => (/* binding */ MaterializedViewBuilder),\n/* harmony export */   aZ: () => (/* binding */ ManualMaterializedViewBuilder),\n/* harmony export */   a_: () => (/* binding */ PgViewBase),\n/* harmony export */   aa: () => (/* binding */ PgJsonbBuilder),\n/* harmony export */   ab: () => (/* binding */ PgJsonb),\n/* harmony export */   ac: () => (/* binding */ jsonb),\n/* harmony export */   ad: () => (/* binding */ PgNumericBuilder),\n/* harmony export */   ae: () => (/* binding */ PgNumeric),\n/* harmony export */   af: () => (/* binding */ numeric),\n/* harmony export */   ag: () => (/* binding */ decimal),\n/* harmony export */   ah: () => (/* binding */ PgTimeBuilder),\n/* harmony export */   ai: () => (/* binding */ PgTime),\n/* harmony export */   aj: () => (/* binding */ time),\n/* harmony export */   ak: () => (/* binding */ PgTimestampBuilder),\n/* harmony export */   al: () => (/* binding */ PgTimestamp),\n/* harmony export */   am: () => (/* binding */ PgTimestampStringBuilder),\n/* harmony export */   an: () => (/* binding */ PgTimestampString),\n/* harmony export */   ao: () => (/* binding */ timestamp),\n/* harmony export */   ap: () => (/* binding */ PgUUIDBuilder),\n/* harmony export */   aq: () => (/* binding */ PgUUID),\n/* harmony export */   ar: () => (/* binding */ uuid),\n/* harmony export */   as: () => (/* binding */ ForeignKeyBuilder),\n/* harmony export */   at: () => (/* binding */ ForeignKey),\n/* harmony export */   au: () => (/* binding */ foreignKey),\n/* harmony export */   av: () => (/* binding */ IndexBuilderOn),\n/* harmony export */   aw: () => (/* binding */ IndexBuilder),\n/* harmony export */   ax: () => (/* binding */ Index),\n/* harmony export */   ay: () => (/* binding */ index),\n/* harmony export */   az: () => (/* binding */ uniqueIndex),\n/* harmony export */   b: () => (/* binding */ Param),\n/* harmony export */   b0: () => (/* binding */ PgView),\n/* harmony export */   b1: () => (/* binding */ PgMaterializedViewConfig),\n/* harmony export */   b2: () => (/* binding */ PgMaterializedView),\n/* harmony export */   b3: () => (/* binding */ pgView),\n/* harmony export */   b4: () => (/* binding */ pgMaterializedView),\n/* harmony export */   b5: () => (/* binding */ ColumnAliasProxyHandler),\n/* harmony export */   b6: () => (/* binding */ RelationTableAliasProxyHandler),\n/* harmony export */   b7: () => (/* binding */ hasOwnEntityKind),\n/* harmony export */   b8: () => (/* binding */ bindIfParam),\n/* harmony export */   b9: () => (/* binding */ ne),\n/* harmony export */   bA: () => (/* binding */ isSQLWrapper),\n/* harmony export */   bB: () => (/* binding */ StringChunk),\n/* harmony export */   bC: () => (/* binding */ Name),\n/* harmony export */   bD: () => (/* binding */ isDriverValueEncoder),\n/* harmony export */   bE: () => (/* binding */ noopDecoder),\n/* harmony export */   bF: () => (/* binding */ noopEncoder),\n/* harmony export */   bG: () => (/* binding */ noopMapper),\n/* harmony export */   bH: () => (/* binding */ Placeholder),\n/* harmony export */   bI: () => (/* binding */ placeholder),\n/* harmony export */   bJ: () => (/* binding */ TableName),\n/* harmony export */   bK: () => (/* binding */ Schema),\n/* harmony export */   bL: () => (/* binding */ Columns),\n/* harmony export */   bM: () => (/* binding */ OriginalName),\n/* harmony export */   bN: () => (/* binding */ BaseName),\n/* harmony export */   bO: () => (/* binding */ IsAlias),\n/* harmony export */   bP: () => (/* binding */ ExtraConfigBuilder),\n/* harmony export */   bQ: () => (/* binding */ isTable),\n/* harmony export */   bR: () => (/* binding */ iife),\n/* harmony export */   ba: () => (/* binding */ not),\n/* harmony export */   bb: () => (/* binding */ gt),\n/* harmony export */   bc: () => (/* binding */ gte),\n/* harmony export */   bd: () => (/* binding */ lt),\n/* harmony export */   be: () => (/* binding */ lte),\n/* harmony export */   bf: () => (/* binding */ inArray),\n/* harmony export */   bg: () => (/* binding */ notInArray),\n/* harmony export */   bh: () => (/* binding */ isNull),\n/* harmony export */   bi: () => (/* binding */ isNotNull),\n/* harmony export */   bj: () => (/* binding */ exists),\n/* harmony export */   bk: () => (/* binding */ notExists),\n/* harmony export */   bl: () => (/* binding */ between),\n/* harmony export */   bm: () => (/* binding */ notBetween),\n/* harmony export */   bn: () => (/* binding */ like),\n/* harmony export */   bo: () => (/* binding */ notLike),\n/* harmony export */   bp: () => (/* binding */ ilike),\n/* harmony export */   bq: () => (/* binding */ notIlike),\n/* harmony export */   br: () => (/* binding */ asc),\n/* harmony export */   bs: () => (/* binding */ desc),\n/* harmony export */   bt: () => (/* binding */ Relations),\n/* harmony export */   bu: () => (/* binding */ One),\n/* harmony export */   bv: () => (/* binding */ Many),\n/* harmony export */   bw: () => (/* binding */ relations),\n/* harmony export */   bx: () => (/* binding */ createOne),\n/* harmony export */   by: () => (/* binding */ createMany),\n/* harmony export */   bz: () => (/* binding */ FakePrimitiveParam),\n/* harmony export */   c: () => (/* binding */ createTableRelationsHelpers),\n/* harmony export */   d: () => (/* binding */ mapUpdateSet),\n/* harmony export */   e: () => (/* binding */ entityKind),\n/* harmony export */   f: () => (/* binding */ fillPlaceholders),\n/* harmony export */   g: () => (/* binding */ mapRelationalRow),\n/* harmony export */   h: () => (/* binding */ QueryBuilder),\n/* harmony export */   i: () => (/* binding */ is),\n/* harmony export */   j: () => (/* binding */ SelectionProxyHandler),\n/* harmony export */   k: () => (/* binding */ PgSelectBuilder),\n/* harmony export */   l: () => (/* binding */ getTableColumns),\n/* harmony export */   m: () => (/* binding */ mapResultRow),\n/* harmony export */   n: () => (/* binding */ name),\n/* harmony export */   o: () => (/* binding */ orderSelectedFields),\n/* harmony export */   p: () => (/* binding */ getTableName),\n/* harmony export */   q: () => (/* binding */ Subquery),\n/* harmony export */   r: () => (/* binding */ SubqueryConfig),\n/* harmony export */   s: () => (/* binding */ sql),\n/* harmony export */   t: () => (/* binding */ tracer),\n/* harmony export */   u: () => (/* binding */ ViewBaseConfig),\n/* harmony export */   v: () => (/* binding */ param),\n/* harmony export */   w: () => (/* binding */ aliasedTableColumn),\n/* harmony export */   x: () => (/* binding */ aliasedRelation),\n/* harmony export */   y: () => (/* binding */ mapColumnsInAliasedSQLToAlias),\n/* harmony export */   z: () => (/* binding */ operators)\n/* harmony export */ });\nconst entityKind = Symbol.for(\"drizzle:entityKind\");\nconst hasOwnEntityKind = Symbol.for(\"drizzle:hasOwnEntityKind\");\nfunction is(value, type) {\n    if (!value || typeof value !== \"object\") {\n        return false;\n    }\n    if (value instanceof type) {\n        return true;\n    }\n    if (!Object.prototype.hasOwnProperty.call(type, entityKind)) {\n        throw new Error(`Class \"${type.name ?? \"<unknown>\"}\" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);\n    }\n    let cls = value.constructor;\n    if (cls) {\n        // Traverse the prototype chain to find the entityKind\n        while(cls){\n            if (entityKind in cls && cls[entityKind] === type[entityKind]) {\n                return true;\n            }\n            cls = Object.getPrototypeOf(cls);\n        }\n    }\n    return false;\n}\n/*\n    `Column` only accepts a full `ColumnConfig` as its generic.\n    To infer parts of the config, use `AnyColumn` that accepts a partial config.\n    See `GetColumnData` for example usage of inferring.\n*/ class Column {\n    static{\n        this[entityKind] = \"Column\";\n    }\n    constructor(table, config){\n        this.table = table;\n        this.config = config;\n        this.name = config.name;\n        this.notNull = config.notNull;\n        this.default = config.default;\n        this.hasDefault = config.hasDefault;\n        this.primary = config.primaryKey;\n        this.isUnique = config.isUnique;\n        this.uniqueName = config.uniqueName;\n        this.uniqueType = config.uniqueType;\n    }\n    mapFromDriverValue(value) {\n        return value;\n    }\n    mapToDriverValue(value) {\n        return value;\n    }\n}\n/** @internal */ const TableName = Symbol.for(\"drizzle:Name\");\n/** @internal */ const Schema = Symbol.for(\"drizzle:Schema\");\n/** @internal */ const Columns = Symbol.for(\"drizzle:Columns\");\n/** @internal */ const OriginalName = Symbol.for(\"drizzle:OriginalName\");\n/** @internal */ const BaseName = Symbol.for(\"drizzle:BaseName\");\n/** @internal */ const IsAlias = Symbol.for(\"drizzle:IsAlias\");\n/** @internal */ const ExtraConfigBuilder = Symbol.for(\"drizzle:ExtraConfigBuilder\");\nconst IsDrizzleTable = Symbol.for(\"drizzle:IsDrizzleTable\");\nclass Table {\n    static{\n        this[entityKind] = \"Table\";\n    }\n    static{\n        /** @internal */ this.Symbol = {\n            Name: TableName,\n            Schema: Schema,\n            OriginalName: OriginalName,\n            Columns: Columns,\n            BaseName: BaseName,\n            IsAlias: IsAlias,\n            ExtraConfigBuilder: ExtraConfigBuilder\n        };\n    }\n    constructor(name, schema, baseName){\n        /** @internal */ this[IsAlias] = false;\n        /** @internal */ this[ExtraConfigBuilder] = undefined;\n        this[IsDrizzleTable] = true;\n        this[TableName] = this[OriginalName] = name;\n        this[Schema] = schema;\n        this[BaseName] = baseName;\n    }\n}\nfunction isTable(table) {\n    return typeof table === \"object\" && table !== null && IsDrizzleTable in table;\n}\nfunction getTableName(table) {\n    return table[TableName];\n}\nclass CheckBuilder {\n    static{\n        this[entityKind] = \"PgCheckBuilder\";\n    }\n    constructor(name, value){\n        this.name = name;\n        this.value = value;\n    }\n    /** @internal */ build(table) {\n        return new Check(table, this);\n    }\n}\nclass Check {\n    static{\n        this[entityKind] = \"PgCheck\";\n    }\n    constructor(table, builder){\n        this.table = table;\n        this.name = builder.name;\n        this.value = builder.value;\n    }\n}\nfunction check(name, value) {\n    return new CheckBuilder(name, value);\n}\n/** @internal */ const InlineForeignKeys = Symbol.for(\"drizzle:PgInlineForeignKeys\");\nlet prop;\nclass PgTable extends Table {\n    static{\n        prop = Table.Symbol.ExtraConfigBuilder;\n    }\n    static{\n        this[entityKind] = \"PgTable\";\n    }\n    static{\n        /** @internal */ this.Symbol = Object.assign({}, Table.Symbol, {\n            InlineForeignKeys: InlineForeignKeys\n        });\n    }\n    constructor(...args){\n        super(...args);\n        /**@internal */ this[InlineForeignKeys] = [];\n        /** @internal */ this[prop] = undefined;\n    }\n}\n/** @internal */ function pgTableWithSchema(name, columns, extraConfig, schema, baseName = name) {\n    const rawTable = new PgTable(name, schema, baseName);\n    const builtColumns = Object.fromEntries(Object.entries(columns).map(([name, colBuilder])=>{\n        const column = colBuilder.build(rawTable);\n        rawTable[InlineForeignKeys].push(...colBuilder.buildForeignKeys(column, rawTable));\n        return [\n            name,\n            column\n        ];\n    }));\n    const table = Object.assign(rawTable, builtColumns);\n    table[Table.Symbol.Columns] = builtColumns;\n    if (extraConfig) {\n        table[PgTable.Symbol.ExtraConfigBuilder] = extraConfig;\n    }\n    return table;\n}\nconst pgTable = (name, columns, extraConfig)=>{\n    return pgTableWithSchema(name, columns, extraConfig, undefined);\n};\nfunction pgTableCreator(customizeTableName) {\n    return (name, columns, extraConfig)=>{\n        return pgTableWithSchema(customizeTableName(name), columns, extraConfig, undefined, name);\n    };\n}\nconst ViewBaseConfig = Symbol.for(\"drizzle:ViewBaseConfig\");\nclass View {\n    static{\n        this[entityKind] = \"View\";\n    }\n    constructor({ name, schema, selectedFields, query }){\n        this[ViewBaseConfig] = {\n            name,\n            originalName: name,\n            schema,\n            selectedFields,\n            query: query,\n            isExisting: !query,\n            isAlias: false\n        };\n    }\n}\nclass ForeignKeyBuilder {\n    static{\n        this[entityKind] = \"PgForeignKeyBuilder\";\n    }\n    constructor(config, actions){\n        /** @internal */ this._onUpdate = \"no action\";\n        /** @internal */ this._onDelete = \"no action\";\n        this.reference = ()=>{\n            const { columns, foreignColumns } = config();\n            return {\n                columns,\n                foreignTable: foreignColumns[0].table,\n                foreignColumns\n            };\n        };\n        if (actions) {\n            this._onUpdate = actions.onUpdate;\n            this._onDelete = actions.onDelete;\n        }\n    }\n    onUpdate(action) {\n        this._onUpdate = action === undefined ? \"no action\" : action;\n        return this;\n    }\n    onDelete(action) {\n        this._onDelete = action === undefined ? \"no action\" : action;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new ForeignKey(table, this);\n    }\n}\nclass ForeignKey {\n    static{\n        this[entityKind] = \"PgForeignKey\";\n    }\n    constructor(table, builder){\n        this.table = table;\n        this.reference = builder.reference;\n        this.onUpdate = builder._onUpdate;\n        this.onDelete = builder._onDelete;\n    }\n    getName() {\n        const { columns, foreignColumns } = this.reference();\n        const columnNames = columns.map((column)=>column.name);\n        const foreignColumnNames = foreignColumns.map((column)=>column.name);\n        const chunks = [\n            this.table[PgTable.Symbol.Name],\n            ...columnNames,\n            foreignColumns[0].table[PgTable.Symbol.Name],\n            ...foreignColumnNames\n        ];\n        return `${chunks.join(\"_\")}_fk`;\n    }\n}\nfunction foreignKey(config) {\n    function mappedConfig() {\n        const { columns, foreignColumns } = config;\n        return {\n            columns,\n            foreignColumns\n        };\n    }\n    return new ForeignKeyBuilder(mappedConfig);\n}\nclass IndexBuilderOn {\n    static{\n        this[entityKind] = \"PgIndexBuilderOn\";\n    }\n    constructor(unique, name){\n        this.unique = unique;\n        this.name = name;\n    }\n    on(...columns) {\n        return new IndexBuilder(columns, this.unique, false, this.name);\n    }\n    onOnly(...columns) {\n        return new IndexBuilder(columns, this.unique, true, this.name);\n    }\n}\nclass IndexBuilder {\n    static{\n        this[entityKind] = \"PgIndexBuilder\";\n    }\n    constructor(columns, unique, only, name){\n        this.config = {\n            name,\n            columns,\n            unique,\n            only\n        };\n    }\n    concurrently() {\n        this.config.concurrently = true;\n        return this;\n    }\n    using(method) {\n        this.config.using = method;\n        return this;\n    }\n    asc() {\n        this.config.order = \"asc\";\n        return this;\n    }\n    desc() {\n        this.config.order = \"desc\";\n        return this;\n    }\n    nullsFirst() {\n        this.config.nulls = \"first\";\n        return this;\n    }\n    nullsLast() {\n        this.config.nulls = \"last\";\n        return this;\n    }\n    where(condition) {\n        this.config.where = condition;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new Index(this.config, table);\n    }\n}\nclass Index {\n    static{\n        this[entityKind] = \"PgIndex\";\n    }\n    constructor(config, table){\n        this.config = {\n            ...config,\n            table\n        };\n    }\n}\nfunction index(name) {\n    return new IndexBuilderOn(false, name);\n}\nfunction uniqueIndex(name) {\n    return new IndexBuilderOn(true, name);\n}\nfunction primaryKey(...columns) {\n    return new PrimaryKeyBuilder(columns);\n}\nclass PrimaryKeyBuilder {\n    static{\n        this[entityKind] = \"PgPrimaryKeyBuilder\";\n    }\n    constructor(columns){\n        this.columns = columns;\n    }\n    /** @internal */ build(table) {\n        return new PrimaryKey(table, this.columns);\n    }\n}\nclass PrimaryKey {\n    static{\n        this[entityKind] = \"PgPrimaryKey\";\n    }\n    constructor(table, columns){\n        this.table = table;\n        this.columns = columns;\n    }\n    getName() {\n        return `${this.table[PgTable.Symbol.Name]}_${this.columns.map((column)=>column.name).join(\"_\")}_pk`;\n    }\n}\nfunction unique(name) {\n    return new UniqueOnConstraintBuilder(name);\n}\nfunction uniqueKeyName(table, columns) {\n    return `${table[PgTable.Symbol.Name]}_${columns.join(\"_\")}_unique`;\n}\nclass UniqueConstraintBuilder {\n    static{\n        this[entityKind] = \"PgUniqueConstraintBuilder\";\n    }\n    constructor(columns, name){\n        /** @internal */ this.nullsNotDistinctConfig = false;\n        this.name = name;\n        this.columns = columns;\n    }\n    nullsNotDistinct() {\n        this.nullsNotDistinctConfig = true;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new UniqueConstraint(table, this.columns, this.nullsNotDistinctConfig, this.name);\n    }\n}\nclass UniqueOnConstraintBuilder {\n    static{\n        this[entityKind] = \"PgUniqueOnConstraintBuilder\";\n    }\n    constructor(name){\n        this.name = name;\n    }\n    on(...columns) {\n        return new UniqueConstraintBuilder(columns, this.name);\n    }\n}\nclass UniqueConstraint {\n    static{\n        this[entityKind] = \"PgUniqueConstraint\";\n    }\n    constructor(table, columns, nullsNotDistinct, name){\n        this.nullsNotDistinct = false;\n        this.table = table;\n        this.columns = columns;\n        this.name = name ?? uniqueKeyName(this.table, this.columns.map((column)=>column.name));\n        this.nullsNotDistinct = nullsNotDistinct;\n    }\n    getName() {\n        return this.name;\n    }\n}\nconst SubqueryConfig = Symbol.for(\"drizzle:SubqueryConfig\");\nclass Subquery {\n    static{\n        this[entityKind] = \"Subquery\";\n    }\n    constructor(sql, selection, alias, isWith = false){\n        this[SubqueryConfig] = {\n            sql,\n            selection,\n            alias,\n            isWith\n        };\n    }\n}\nclass WithSubquery extends Subquery {\n    static{\n        this[entityKind] = \"WithSubquery\";\n    }\n}\nclass SelectionProxyHandler {\n    static{\n        this[entityKind] = \"SelectionProxyHandler\";\n    }\n    constructor(config){\n        this.config = {\n            ...config\n        };\n    }\n    get(subquery, prop) {\n        if (prop === SubqueryConfig) {\n            return {\n                ...subquery[SubqueryConfig],\n                selection: new Proxy(subquery[SubqueryConfig].selection, this)\n            };\n        }\n        if (prop === ViewBaseConfig) {\n            return {\n                ...subquery[ViewBaseConfig],\n                selectedFields: new Proxy(subquery[ViewBaseConfig].selectedFields, this)\n            };\n        }\n        if (typeof prop === \"symbol\") {\n            return subquery[prop];\n        }\n        const columns = is(subquery, Subquery) ? subquery[SubqueryConfig].selection : is(subquery, View) ? subquery[ViewBaseConfig].selectedFields : subquery;\n        const value = columns[prop];\n        if (is(value, SQL.Aliased)) {\n            // Never return the underlying SQL expression for a field previously selected in a subquery\n            if (this.config.sqlAliasedBehavior === \"sql\" && !value.isSelectionField) {\n                return value.sql;\n            }\n            const newValue = value.clone();\n            newValue.isSelectionField = true;\n            return newValue;\n        }\n        if (is(value, SQL)) {\n            if (this.config.sqlBehavior === \"sql\") {\n                return value;\n            }\n            throw new Error(`You tried to reference \"${prop}\" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using \".as('alias')\" method.`);\n        }\n        if (is(value, Column)) {\n            if (this.config.alias) {\n                return new Proxy(value, new ColumnAliasProxyHandler(new Proxy(value.table, new TableAliasProxyHandler(this.config.alias, this.config.replaceOriginalName ?? false))));\n            }\n            return value;\n        }\n        if (typeof value !== \"object\" || value === null) {\n            return value;\n        }\n        return new Proxy(value, new SelectionProxyHandler(this.config));\n    }\n}\n/** @internal */ function mapResultRow(columns, row, joinsNotNullableMap) {\n    // Key -> nested object key, value -> table name if all fields in the nested object are from the same table, false otherwise\n    const nullifyMap = {};\n    const result = columns.reduce((result, { path, field }, columnIndex)=>{\n        let decoder;\n        if (is(field, Column)) {\n            decoder = field;\n        } else if (is(field, SQL)) {\n            decoder = field.decoder;\n        } else {\n            decoder = field.sql.decoder;\n        }\n        let node = result;\n        for (const [pathChunkIndex, pathChunk] of path.entries()){\n            if (pathChunkIndex < path.length - 1) {\n                if (!(pathChunk in node)) {\n                    node[pathChunk] = {};\n                }\n                node = node[pathChunk];\n            } else {\n                const rawValue = row[columnIndex];\n                const value = node[pathChunk] = rawValue === null ? null : decoder.mapFromDriverValue(rawValue);\n                if (joinsNotNullableMap && is(field, Column) && path.length === 2) {\n                    const objectName = path[0];\n                    if (!(objectName in nullifyMap)) {\n                        nullifyMap[objectName] = value === null ? getTableName(field.table) : false;\n                    } else if (typeof nullifyMap[objectName] === \"string\" && nullifyMap[objectName] !== getTableName(field.table)) {\n                        nullifyMap[objectName] = false;\n                    }\n                }\n            }\n        }\n        return result;\n    }, {});\n    // Nullify all nested objects from nullifyMap that are nullable\n    if (joinsNotNullableMap && Object.keys(nullifyMap).length > 0) {\n        for (const [objectName, tableName] of Object.entries(nullifyMap)){\n            if (typeof tableName === \"string\" && !joinsNotNullableMap[tableName]) {\n                result[objectName] = null;\n            }\n        }\n    }\n    return result;\n}\n/** @internal */ function orderSelectedFields(fields, pathPrefix) {\n    return Object.entries(fields).reduce((result, [name, field])=>{\n        if (typeof name !== \"string\") {\n            return result;\n        }\n        const newPath = pathPrefix ? [\n            ...pathPrefix,\n            name\n        ] : [\n            name\n        ];\n        if (is(field, Column) || is(field, SQL) || is(field, SQL.Aliased)) {\n            result.push({\n                path: newPath,\n                field\n            });\n        } else if (is(field, Table)) {\n            result.push(...orderSelectedFields(field[Table.Symbol.Columns], newPath));\n        } else {\n            result.push(...orderSelectedFields(field, newPath));\n        }\n        return result;\n    }, []);\n}\n/** @internal */ function mapUpdateSet(table, values) {\n    const entries = Object.entries(values).filter(([, value])=>value !== undefined).map(([key, value])=>{\n        // eslint-disable-next-line unicorn/prefer-ternary\n        if (is(value, SQL)) {\n            return [\n                key,\n                value\n            ];\n        } else {\n            return [\n                key,\n                new Param(value, table[Table.Symbol.Columns][key])\n            ];\n        }\n    });\n    if (entries.length === 0) {\n        throw new Error(\"No values to set\");\n    }\n    return Object.fromEntries(entries);\n}\n/** @internal */ function applyMixins(baseClass, extendedClasses) {\n    for (const extendedClass of extendedClasses){\n        for (const name of Object.getOwnPropertyNames(extendedClass.prototype)){\n            Object.defineProperty(baseClass.prototype, name, Object.getOwnPropertyDescriptor(extendedClass.prototype, name) || Object.create(null));\n        }\n    }\n}\nfunction getTableColumns(table) {\n    return table[Table.Symbol.Columns];\n}\n/** @internal */ function getTableLikeName(table) {\n    return is(table, Subquery) ? table[SubqueryConfig].alias : is(table, View) ? table[ViewBaseConfig].name : is(table, SQL) ? undefined : table[Table.Symbol.IsAlias] ? table[Table.Symbol.Name] : table[Table.Symbol.BaseName];\n}\nfunction iife(fn, ...args) {\n    return fn(...args);\n}\nlet prop1;\nclass QueryPromise {\n    static{\n        prop1 = Symbol.toStringTag;\n    }\n    static{\n        this[entityKind] = \"QueryPromise\";\n    }\n    catch(onRejected) {\n        return this.then(undefined, onRejected);\n    }\n    finally(onFinally) {\n        return this.then((value)=>{\n            onFinally?.();\n            return value;\n        }, (reason)=>{\n            onFinally?.();\n            throw reason;\n        });\n    }\n    then(onFulfilled, onRejected) {\n        return this.execute().then(onFulfilled, onRejected);\n    }\n    constructor(){\n        this[prop1] = \"QueryPromise\";\n    }\n}\n/** @internal */ const tracer = {\n    startActiveSpan (name, fn) {\n        {\n            return fn();\n        }\n    }\n};\nclass PgDialect {\n    static{\n        this[entityKind] = \"PgDialect\";\n    }\n    async migrate(migrations, session) {\n        const migrationTableCreate = sql`\n\t\t\tCREATE TABLE IF NOT EXISTS \"drizzle\".\"__drizzle_migrations\" (\n\t\t\t\tid SERIAL PRIMARY KEY,\n\t\t\t\thash text NOT NULL,\n\t\t\t\tcreated_at bigint\n\t\t\t)\n\t\t`;\n        await session.execute(sql`CREATE SCHEMA IF NOT EXISTS \"drizzle\"`);\n        await session.execute(migrationTableCreate);\n        const dbMigrations = await session.all(sql`select id, hash, created_at from \"drizzle\".\"__drizzle_migrations\" order by created_at desc limit 1`);\n        const lastDbMigration = dbMigrations[0];\n        await session.transaction(async (tx)=>{\n            for await (const migration of migrations){\n                if (!lastDbMigration || Number(lastDbMigration.created_at) < migration.folderMillis) {\n                    for (const stmt of migration.sql){\n                        await tx.execute(sql.raw(stmt));\n                    }\n                    await tx.execute(sql`insert into \"drizzle\".\"__drizzle_migrations\" (\"hash\", \"created_at\") values(${migration.hash}, ${migration.folderMillis})`);\n                }\n            }\n        });\n    }\n    escapeName(name) {\n        return `\"${name}\"`;\n    }\n    escapeParam(num) {\n        return `$${num + 1}`;\n    }\n    escapeString(str) {\n        return `'${str.replace(/'/g, \"''\")}'`;\n    }\n    buildDeleteQuery({ table, where, returning }) {\n        const returningSql = returning ? sql` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const whereSql = where ? sql` where ${where}` : undefined;\n        return sql`delete from ${table}${whereSql}${returningSql}`;\n    }\n    buildUpdateSet(table, set) {\n        const setEntries = Object.entries(set);\n        const setSize = setEntries.length;\n        return sql.fromList(setEntries.flatMap(([colName, value], i)=>{\n            const col = table[Table.Symbol.Columns][colName];\n            const res = sql`${name(col.name)} = ${value}`;\n            if (i < setSize - 1) {\n                return [\n                    res,\n                    sql.raw(\", \")\n                ];\n            }\n            return [\n                res\n            ];\n        }));\n    }\n    buildUpdateQuery({ table, set, where, returning }) {\n        const setSql = this.buildUpdateSet(table, set);\n        const returningSql = returning ? sql` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const whereSql = where ? sql` where ${where}` : undefined;\n        return sql`update ${table} set ${setSql}${whereSql}${returningSql}`;\n    }\n    /**\n     * Builds selection SQL with provided fields/expressions\n     *\n     * Examples:\n     *\n     * `select <selection> from`\n     *\n     * `insert ... returning <selection>`\n     *\n     * If `isSingleTable` is true, then columns won't be prefixed with table name\n     */ buildSelection(fields, { isSingleTable = false } = {}) {\n        const columnsLen = fields.length;\n        const chunks = fields.flatMap(({ field }, i)=>{\n            const chunk = [];\n            if (is(field, SQL.Aliased) && field.isSelectionField) {\n                chunk.push(sql.identifier(field.fieldAlias));\n            } else if (is(field, SQL.Aliased) || is(field, SQL)) {\n                const query = is(field, SQL.Aliased) ? field.sql : field;\n                if (isSingleTable) {\n                    chunk.push(new SQL(query.queryChunks.map((c)=>{\n                        if (is(c, PgColumn)) {\n                            return name(c.name);\n                        }\n                        return c;\n                    })));\n                } else {\n                    chunk.push(query);\n                }\n                if (is(field, SQL.Aliased)) {\n                    chunk.push(sql` as ${sql.identifier(field.fieldAlias)}`);\n                }\n            } else if (is(field, Column)) {\n                if (isSingleTable) {\n                    chunk.push(sql.identifier(field.name));\n                } else {\n                    chunk.push(field);\n                }\n            }\n            if (i < columnsLen - 1) {\n                chunk.push(sql`, `);\n            }\n            return chunk;\n        });\n        return sql.fromList(chunks);\n    }\n    buildSelectQuery({ withList, fields, fieldsFlat, where, having, table, joins, orderBy, groupBy, limit, offset, lockingClauses, distinct }) {\n        const fieldsList = fieldsFlat ?? orderSelectedFields(fields);\n        for (const f of fieldsList){\n            if (is(f.field, Column) && getTableName(f.field.table) !== (is(table, Subquery) ? table[SubqueryConfig].alias : is(table, PgViewBase) ? table[ViewBaseConfig].name : is(table, SQL) ? undefined : getTableName(table)) && !((table)=>joins.some(({ alias })=>alias === (table[Table.Symbol.IsAlias] ? getTableName(table) : table[Table.Symbol.BaseName])))(f.field.table)) {\n                const tableName = getTableName(f.field.table);\n                throw new Error(`Your \"${f.path.join(\"->\")}\" field references a column \"${tableName}\".\"${f.field.name}\", but the table \"${tableName}\" is not part of the query! Did you forget to join it?`);\n            }\n        }\n        const isSingleTable = joins.length === 0;\n        let withSql;\n        if (withList?.length) {\n            const withSqlChunks = [\n                sql`with `\n            ];\n            for (const [i, w] of withList.entries()){\n                withSqlChunks.push(sql`${name(w[SubqueryConfig].alias)} as (${w[SubqueryConfig].sql})`);\n                if (i < withList.length - 1) {\n                    withSqlChunks.push(sql`, `);\n                }\n            }\n            withSqlChunks.push(sql` `);\n            withSql = sql.fromList(withSqlChunks);\n        }\n        let distinctSql;\n        if (distinct) {\n            distinctSql = distinct === true ? sql` distinct` : sql` distinct on (${sql.join(distinct.on, \", \")})`;\n        }\n        const selection = this.buildSelection(fieldsList, {\n            isSingleTable\n        });\n        const tableSql = (()=>{\n            if (is(table, Table) && table[Table.Symbol.OriginalName] !== table[Table.Symbol.Name]) {\n                let fullName = sql`${sql.identifier(table[Table.Symbol.OriginalName])}`;\n                if (table[Table.Symbol.Schema]) {\n                    fullName = sql`${sql.identifier(table[Table.Symbol.Schema])}.${fullName}`;\n                }\n                return sql`${fullName} ${sql.identifier(table[Table.Symbol.Name])}`;\n            }\n            return table;\n        })();\n        const joinsArray = [];\n        for (const [index, joinMeta] of joins.entries()){\n            if (index === 0) {\n                joinsArray.push(sql` `);\n            }\n            const table = joinMeta.table;\n            if (is(table, PgTable)) {\n                const tableName = table[PgTable.Symbol.Name];\n                const tableSchema = table[PgTable.Symbol.Schema];\n                const origTableName = table[PgTable.Symbol.OriginalName];\n                const alias = tableName === origTableName ? undefined : joinMeta.alias;\n                joinsArray.push(sql`${sql.raw(joinMeta.joinType)} join ${tableSchema ? sql`${name(tableSchema)}.` : undefined}${sql.identifier(origTableName)}${alias && sql` ${name(alias)}`} on ${joinMeta.on}`);\n            } else {\n                joinsArray.push(sql`${sql.raw(joinMeta.joinType)} join ${table} on ${joinMeta.on}`);\n            }\n            if (index < joins.length - 1) {\n                joinsArray.push(sql` `);\n            }\n        }\n        const joinsSql = sql.fromList(joinsArray);\n        const whereSql = where ? sql` where ${where}` : undefined;\n        const havingSql = having ? sql` having ${having}` : undefined;\n        const orderByList = [];\n        for (const [index, orderByValue] of orderBy.entries()){\n            orderByList.push(orderByValue);\n            if (index < orderBy.length - 1) {\n                orderByList.push(sql`, `);\n            }\n        }\n        const orderBySql = orderByList.length > 0 ? sql` order by ${sql.fromList(orderByList)}` : undefined;\n        const groupByList = [];\n        for (const [index, groupByValue] of groupBy.entries()){\n            groupByList.push(groupByValue);\n            if (index < groupBy.length - 1) {\n                groupByList.push(sql`, `);\n            }\n        }\n        const groupBySql = groupByList.length > 0 ? sql` group by ${sql.fromList(groupByList)}` : undefined;\n        const limitSql = limit ? sql` limit ${limit}` : undefined;\n        const offsetSql = offset ? sql` offset ${offset}` : undefined;\n        const lockingClausesSql = sql.empty();\n        for (const { strength, config } of lockingClauses){\n            const clauseSql = sql` for ${sql.raw(strength)}`;\n            if (config.of) {\n                clauseSql.append(sql` of ${config.of}`);\n            }\n            if (config.noWait) {\n                clauseSql.append(sql` no wait`);\n            } else if (config.skipLocked) {\n                clauseSql.append(sql` skip locked`);\n            }\n            lockingClausesSql.append(clauseSql);\n        }\n        return sql`${withSql}select${distinctSql} ${selection} from ${tableSql}${joinsSql}${whereSql}${groupBySql}${havingSql}${orderBySql}${limitSql}${offsetSql}${lockingClausesSql}`;\n    }\n    buildInsertQuery({ table, values, onConflict, returning }) {\n        const isSingleValue = values.length === 1;\n        const valuesSqlList = [];\n        const columns = table[Table.Symbol.Columns];\n        const colEntries = isSingleValue ? Object.keys(values[0]).map((fieldName)=>[\n                fieldName,\n                columns[fieldName]\n            ]) : Object.entries(columns);\n        const insertOrder = colEntries.map(([, column])=>name(column.name));\n        for (const [valueIndex, value] of values.entries()){\n            const valueList = [];\n            for (const [fieldName] of colEntries){\n                const colValue = value[fieldName];\n                if (colValue === undefined || is(colValue, Param) && colValue.value === undefined) {\n                    valueList.push(sql`default`);\n                } else {\n                    valueList.push(colValue);\n                }\n            }\n            valuesSqlList.push(valueList);\n            if (valueIndex < values.length - 1) {\n                valuesSqlList.push(sql`, `);\n            }\n        }\n        const valuesSql = sql.fromList(valuesSqlList);\n        const returningSql = returning ? sql` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const onConflictSql = onConflict ? sql` on conflict ${onConflict}` : undefined;\n        return sql`insert into ${table} ${insertOrder} values ${valuesSql}${onConflictSql}${returningSql}`;\n    }\n    buildRefreshMaterializedViewQuery({ view, concurrently, withNoData }) {\n        const concurrentlySql = concurrently ? sql` concurrently` : undefined;\n        const withNoDataSql = withNoData ? sql` with no data` : undefined;\n        return sql`refresh materialized view${concurrentlySql} ${view}${withNoDataSql}`;\n    }\n    prepareTyping(encoder) {\n        if (is(encoder, PgJsonb) || is(encoder, PgJson)) {\n            return \"json\";\n        } else if (is(encoder, PgNumeric)) {\n            return \"decimal\";\n        } else if (is(encoder, PgTime)) {\n            return \"time\";\n        } else if (is(encoder, PgTimestamp)) {\n            return \"timestamp\";\n        } else if (is(encoder, PgDate)) {\n            return \"date\";\n        } else if (is(encoder, PgUUID)) {\n            return \"uuid\";\n        } else {\n            return \"none\";\n        }\n    }\n    sqlToQuery(sql) {\n        return sql.toQuery({\n            escapeName: this.escapeName,\n            escapeParam: this.escapeParam,\n            escapeString: this.escapeString,\n            prepareTyping: this.prepareTyping\n        });\n    }\n    buildRelationalQuery(fullSchema, schema, tableNamesMap, table, tableConfig, config, tableAlias, relationColumns, isRoot = false) {\n        if (config === true) {\n            const selectionEntries = Object.entries(tableConfig.columns);\n            const selection = selectionEntries.map(([key, value])=>({\n                    dbKey: value.name,\n                    tsKey: key,\n                    field: value,\n                    tableTsKey: undefined,\n                    isJson: false,\n                    selection: []\n                }));\n            return {\n                tableTsKey: tableConfig.tsName,\n                sql: table,\n                selection\n            };\n        }\n        const aliasedColumns = Object.fromEntries(Object.entries(tableConfig.columns).map(([key, value])=>[\n                key,\n                aliasedTableColumn(value, tableAlias)\n            ]));\n        const aliasedRelations = Object.fromEntries(Object.entries(tableConfig.relations).map(([key, value])=>[\n                key,\n                aliasedRelation(value, tableAlias)\n            ]));\n        const aliasedFields = Object.assign({}, aliasedColumns, aliasedRelations);\n        const fieldsSelection = {};\n        let selectedColumns = [];\n        let selectedExtras = [];\n        let selectedRelations = [];\n        if (config.columns) {\n            let isIncludeMode = false;\n            for (const [field, value] of Object.entries(config.columns)){\n                if (value === undefined) {\n                    continue;\n                }\n                if (field in tableConfig.columns) {\n                    if (!isIncludeMode && value === true) {\n                        isIncludeMode = true;\n                    }\n                    selectedColumns.push(field);\n                }\n            }\n            if (selectedColumns.length > 0) {\n                selectedColumns = isIncludeMode ? selectedColumns.filter((c)=>config.columns?.[c] === true) : Object.keys(tableConfig.columns).filter((key)=>!selectedColumns.includes(key));\n            }\n        }\n        if (config.with) {\n            selectedRelations = Object.entries(config.with).filter((entry)=>!!entry[1]).map(([key, value])=>({\n                    key,\n                    value\n                }));\n        }\n        if (!config.columns) {\n            selectedColumns = Object.keys(tableConfig.columns);\n        }\n        if (config.extras) {\n            const extrasOrig = typeof config.extras === \"function\" ? config.extras(aliasedFields, {\n                sql\n            }) : config.extras;\n            selectedExtras = Object.entries(extrasOrig).map(([key, value])=>({\n                    key,\n                    value: mapColumnsInAliasedSQLToAlias(value, tableAlias)\n                }));\n        }\n        for (const field of selectedColumns){\n            const column = tableConfig.columns[field];\n            fieldsSelection[field] = column;\n        }\n        for (const { key, value } of selectedExtras){\n            fieldsSelection[key] = value;\n        }\n        let where;\n        if (config.where) {\n            const whereSql = typeof config.where === \"function\" ? config.where(aliasedFields, operators) : config.where;\n            where = whereSql && mapColumnsInSQLToAlias(whereSql, tableAlias);\n        }\n        const groupBy = (tableConfig.primaryKey.length > 0 && selectedRelations.length < 2 ? tableConfig.primaryKey : Object.values(tableConfig.columns)).map((c)=>aliasedTableColumn(c, tableAlias));\n        let orderByOrig = typeof config.orderBy === \"function\" ? config.orderBy(aliasedFields, orderByOperators) : config.orderBy ?? [];\n        if (!Array.isArray(orderByOrig)) {\n            orderByOrig = [\n                orderByOrig\n            ];\n        }\n        const orderBy = orderByOrig.map((orderByValue)=>{\n            if (is(orderByValue, Column)) {\n                return aliasedTableColumn(orderByValue, tableAlias);\n            }\n            return mapColumnsInSQLToAlias(orderByValue, tableAlias);\n        });\n        const builtRelations = [];\n        const builtRelationFields = [];\n        let result;\n        let selectedRelationIndex = 0;\n        for (const { key: selectedRelationKey, value: selectedRelationValue } of selectedRelations){\n            let relation;\n            for (const [relationKey, relationValue] of Object.entries(tableConfig.relations)){\n                if (is(relationValue, Relation) && relationKey === selectedRelationKey) {\n                    relation = relationValue;\n                    break;\n                }\n            }\n            if (!relation) {\n                throw new Error(`Relation ${selectedRelationKey} not found`);\n            }\n            const normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n            const relationAlias = `${tableAlias}_${selectedRelationKey}`;\n            const relationConfig = schema[tableNamesMap[relation.referencedTable[Table.Symbol.Name]]];\n            const builtRelation = this.buildRelationalQuery(fullSchema, schema, tableNamesMap, fullSchema[tableNamesMap[relation.referencedTable[Table.Symbol.Name]]], schema[tableNamesMap[relation.referencedTable[Table.Symbol.Name]]], selectedRelationValue, relationAlias, normalizedRelation.references);\n            builtRelations.push({\n                key: selectedRelationKey,\n                value: builtRelation\n            });\n            let relationWhere;\n            if (typeof selectedRelationValue === \"object\" && selectedRelationValue.limit) {\n                const field = sql`${sql.identifier(relationAlias)}.${sql.identifier(\"__drizzle_row_number\")}`;\n                relationWhere = and(relationWhere, or(and(sql`${field} <= ${selectedRelationValue.limit}`), sql`(${field} is null)`));\n            }\n            const join = {\n                table: is(builtRelation.sql, Table) ? aliasedTable(builtRelation.sql, relationAlias) : new Subquery(builtRelation.sql, {}, relationAlias),\n                alias: relationAlias,\n                on: and(...normalizedRelation.fields.map((field, i)=>eq(aliasedTableColumn(field, tableAlias), aliasedTableColumn(normalizedRelation.references[i], relationAlias)))),\n                joinType: \"left\"\n            };\n            const relationAliasedColumns = Object.fromEntries(Object.entries(relationConfig.columns).map(([key, value])=>[\n                    key,\n                    aliasedTableColumn(value, tableAlias)\n                ]));\n            const relationAliasedRelations = Object.fromEntries(Object.entries(relationConfig.relations).map(([key, value])=>[\n                    key,\n                    aliasedRelation(value, tableAlias)\n                ]));\n            const relationAliasedFields = Object.assign({}, relationAliasedColumns, relationAliasedRelations);\n            let relationOrderBy;\n            if (typeof selectedRelationValue === \"object\") {\n                let orderByOrig = typeof selectedRelationValue.orderBy === \"function\" ? selectedRelationValue.orderBy(relationAliasedFields, orderByOperators) : selectedRelationValue.orderBy ?? [];\n                if (!Array.isArray(orderByOrig)) {\n                    orderByOrig = [\n                        orderByOrig\n                    ];\n                }\n                relationOrderBy = orderByOrig.map((orderByValue)=>{\n                    if (is(orderByValue, Column)) {\n                        return aliasedTableColumn(orderByValue, relationAlias);\n                    }\n                    return mapColumnsInSQLToAlias(orderByValue, relationAlias);\n                });\n            }\n            const relationOrderBySql = relationOrderBy?.length ? sql` order by ${sql.join(relationOrderBy, sql`, `)}` : undefined;\n            const elseField = sql`json_agg(json_build_array(${sql.join(builtRelation.selection.map(({ dbKey: key, isJson })=>{\n                let field = sql`${sql.identifier(relationAlias)}.${sql.identifier(key)}`;\n                if (isJson) {\n                    field = sql`${field}::json`;\n                }\n                return field;\n            }), sql`, `)})${relationOrderBySql})`;\n            if (selectedRelations.length > 1) {\n                elseField.append(sql.raw(\"::text\"));\n            }\n            const countSql = normalizedRelation.references.length === 1 ? aliasedTableColumn(normalizedRelation.references[0], relationAlias) : sql.fromList([\n                sql`coalesce(`,\n                sql.join(normalizedRelation.references.map((c)=>aliasedTableColumn(c, relationAlias)), sql.raw(\", \")),\n                sql.raw(\")\")\n            ]);\n            const field = sql`case when count(${countSql}) = 0 then '[]' else ${elseField} end`.as(selectedRelationKey);\n            const builtRelationField = {\n                path: [\n                    selectedRelationKey\n                ],\n                field\n            };\n            result = this.buildSelectQuery({\n                table: result ? new Subquery(result, {}, tableAlias) : aliasedTable(table, tableAlias),\n                fields: {},\n                fieldsFlat: [\n                    {\n                        path: [],\n                        field: sql`${sql.identifier(tableAlias)}.*`\n                    },\n                    ...selectedRelationIndex === selectedRelations.length - 1 ? selectedExtras.map(({ key, value })=>({\n                            path: [\n                                key\n                            ],\n                            field: value\n                        })) : [],\n                    builtRelationField\n                ],\n                where: relationWhere,\n                groupBy: [\n                    ...groupBy,\n                    ...builtRelationFields.map(({ field })=>sql`${sql.identifier(tableAlias)}.${sql.identifier(field.fieldAlias)}`)\n                ],\n                orderBy: selectedRelationIndex === selectedRelations.length - 1 ? orderBy : [],\n                joins: [\n                    join\n                ],\n                lockingClauses: []\n            });\n            builtRelationFields.push(builtRelationField);\n            selectedRelationIndex++;\n        }\n        const finalFieldsSelection = Object.entries(fieldsSelection).map(([key, value])=>{\n            return {\n                path: [\n                    key\n                ],\n                field: is(value, Column) ? aliasedTableColumn(value, tableAlias) : value\n            };\n        });\n        const finalFieldsFlat = isRoot ? [\n            ...finalFieldsSelection.map(({ path, field })=>({\n                    path,\n                    field: is(field, SQL.Aliased) ? sql`${sql.identifier(field.fieldAlias)}` : field\n                })),\n            ...builtRelationFields.map(({ path, field })=>({\n                    path,\n                    field: sql`${sql.identifier(field.fieldAlias)}${selectedRelations.length > 1 ? sql.raw(\"::json\") : undefined}`\n                }))\n        ] : [\n            {\n                path: [],\n                field: sql`${sql.identifier(tableAlias)}.*`\n            },\n            ...builtRelationFields.length === 0 ? selectedExtras.map(({ key, value })=>({\n                    path: [\n                        key\n                    ],\n                    field: value\n                })) : []\n        ];\n        let limit, offset;\n        if (config.limit !== undefined || config.offset !== undefined) {\n            if (isRoot) {\n                limit = config.limit;\n                offset = config.offset;\n            } else {\n                finalFieldsFlat.push({\n                    path: [\n                        \"__drizzle_row_number\"\n                    ],\n                    field: sql`row_number() over(partition by ${relationColumns.map((c)=>aliasedTableColumn(c, tableAlias))}${orderBy.length ? sql` order by ${sql.join(orderBy, sql`, `)}` : undefined})`.as(\"__drizzle_row_number\")\n                });\n            }\n        }\n        result = this.buildSelectQuery({\n            table: result ? new Subquery(result, {}, tableAlias) : aliasedTable(table, tableAlias),\n            fields: {},\n            fieldsFlat: finalFieldsFlat,\n            where,\n            groupBy: [],\n            orderBy: orderBy ?? [],\n            joins: [],\n            lockingClauses: [],\n            limit,\n            offset: offset\n        });\n        return {\n            tableTsKey: tableConfig.tsName,\n            sql: result,\n            selection: [\n                ...finalFieldsSelection.map(({ path, field })=>({\n                        dbKey: is(field, SQL.Aliased) ? field.fieldAlias : tableConfig.columns[path[0]].name,\n                        tsKey: path[0],\n                        field,\n                        tableTsKey: undefined,\n                        isJson: false,\n                        selection: []\n                    })),\n                ...builtRelations.map(({ key, value })=>({\n                        dbKey: key,\n                        tsKey: key,\n                        field: undefined,\n                        tableTsKey: value.tableTsKey,\n                        isJson: true,\n                        selection: value.selection\n                    }))\n            ]\n        };\n    }\n}\nclass TypedQueryBuilder {\n    static{\n        this[entityKind] = \"TypedQueryBuilder\";\n    }\n    /** @internal */ getSelectedFields() {\n        return this._.selectedFields;\n    }\n}\nclass PgSelectBuilder {\n    static{\n        this[entityKind] = \"PgSelectBuilder\";\n    }\n    constructor(config){\n        this.withList = [];\n        this.fields = config.fields;\n        this.session = config.session;\n        this.dialect = config.dialect;\n        if (config.withList) {\n            this.withList = config.withList;\n        }\n        this.distinct = config.distinct;\n    }\n    /**\n     * Specify the table, subquery, or other target that you're\n     * building a select query against.\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-FROM|Postgres from documentation}\n     */ from(source) {\n        const isPartialSelect = !!this.fields;\n        let fields;\n        if (this.fields) {\n            fields = this.fields;\n        } else if (is(source, Subquery)) {\n            // This is required to use the proxy handler to get the correct field values from the subquery\n            fields = Object.fromEntries(Object.keys(source[SubqueryConfig].selection).map((key)=>[\n                    key,\n                    source[key]\n                ]));\n        } else if (is(source, PgViewBase)) {\n            fields = source[ViewBaseConfig].selectedFields;\n        } else if (is(source, SQL)) {\n            fields = {};\n        } else {\n            fields = getTableColumns(source);\n        }\n        return new PgSelect({\n            table: source,\n            fields,\n            isPartialSelect,\n            session: this.session,\n            dialect: this.dialect,\n            withList: this.withList,\n            distinct: this.distinct\n        });\n    }\n}\nclass PgSelectQueryBuilder extends TypedQueryBuilder {\n    static{\n        this[entityKind] = \"PgSelectQueryBuilder\";\n    }\n    constructor({ table, fields, isPartialSelect, session, dialect, withList, distinct }){\n        super();\n        /**\n     * For each row of the table, include\n     * values from a matching row of the joined\n     * table, if there is a matching row. If not,\n     * all of the columns of the joined table\n     * will be set to null.\n     */ this.leftJoin = this.createJoin(\"left\");\n        /**\n     * Includes all of the rows of the joined table.\n     * If there is no matching row in the main table,\n     * all the columns of the main table will be\n     * set to null.\n     */ this.rightJoin = this.createJoin(\"right\");\n        /**\n     * This is the default type of join.\n     *\n     * For each row of the table, the joined table\n     * needs to have a matching row, or it will\n     * be excluded from results.\n     */ this.innerJoin = this.createJoin(\"inner\");\n        /**\n     * Rows from both the main & joined are included,\n     * regardless of whether or not they have matching\n     * rows in the other table.\n     */ this.fullJoin = this.createJoin(\"full\");\n        this.config = {\n            withList,\n            table,\n            fields: {\n                ...fields\n            },\n            joins: [],\n            orderBy: [],\n            groupBy: [],\n            lockingClauses: [],\n            distinct\n        };\n        this.isPartialSelect = isPartialSelect;\n        this.session = session;\n        this.dialect = dialect;\n        this._ = {\n            selectedFields: fields\n        };\n        this.tableName = getTableLikeName(table);\n        this.joinsNotNullableMap = typeof this.tableName === \"string\" ? {\n            [this.tableName]: true\n        } : {};\n    }\n    createJoin(joinType) {\n        return (table, on)=>{\n            const baseTableName = this.tableName;\n            const tableName = getTableLikeName(table);\n            if (typeof tableName === \"string\" && this.config.joins.some((join)=>join.alias === tableName)) {\n                throw new Error(`Alias \"${tableName}\" is already used in this query`);\n            }\n            if (!this.isPartialSelect) {\n                // If this is the first join and this is not a partial select and we're not selecting from raw SQL, \"move\" the fields from the main table to the nested object\n                if (Object.keys(this.joinsNotNullableMap).length === 1 && typeof baseTableName === \"string\") {\n                    this.config.fields = {\n                        [baseTableName]: this.config.fields\n                    };\n                }\n                if (typeof tableName === \"string\" && !is(table, SQL)) {\n                    const selection = is(table, Subquery) ? table[SubqueryConfig].selection : is(table, View) ? table[ViewBaseConfig].selectedFields : table[Table.Symbol.Columns];\n                    this.config.fields[tableName] = selection;\n                }\n            }\n            if (typeof on === \"function\") {\n                on = on(new Proxy(this.config.fields, new SelectionProxyHandler({\n                    sqlAliasedBehavior: \"sql\",\n                    sqlBehavior: \"sql\"\n                })));\n            }\n            this.config.joins.push({\n                on,\n                table,\n                joinType,\n                alias: tableName\n            });\n            if (typeof tableName === \"string\") {\n                switch(joinType){\n                    case \"left\":\n                        {\n                            this.joinsNotNullableMap[tableName] = false;\n                            break;\n                        }\n                    case \"right\":\n                        {\n                            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key])=>[\n                                    key,\n                                    false\n                                ]));\n                            this.joinsNotNullableMap[tableName] = true;\n                            break;\n                        }\n                    case \"inner\":\n                        {\n                            this.joinsNotNullableMap[tableName] = true;\n                            break;\n                        }\n                    case \"full\":\n                        {\n                            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key])=>[\n                                    key,\n                                    false\n                                ]));\n                            this.joinsNotNullableMap[tableName] = false;\n                            break;\n                        }\n                }\n            }\n            return this;\n        };\n    }\n    /**\n     * Specify a condition to narrow the result set. Multiple\n     * conditions can be combined with the `and` and `or`\n     * functions.\n     *\n     * ## Examples\n     *\n     * ```ts\n     * // Find cars made in the year 2000\n     * db.select().from(cars).where(eq(cars.year, 2000));\n     * ```\n     */ where(where) {\n        if (typeof where === \"function\") {\n            where = where(new Proxy(this.config.fields, new SelectionProxyHandler({\n                sqlAliasedBehavior: \"sql\",\n                sqlBehavior: \"sql\"\n            })));\n        }\n        this.config.where = where;\n        return this;\n    }\n    /**\n     * Sets the HAVING clause of this query, which often\n     * used with GROUP BY and filters rows after they've been\n     * grouped together and combined.\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-HAVING|Postgres having clause documentation}\n     */ having(having) {\n        if (typeof having === \"function\") {\n            having = having(new Proxy(this.config.fields, new SelectionProxyHandler({\n                sqlAliasedBehavior: \"sql\",\n                sqlBehavior: \"sql\"\n            })));\n        }\n        this.config.having = having;\n        return this;\n    }\n    groupBy(...columns) {\n        if (typeof columns[0] === \"function\") {\n            const groupBy = columns[0](new Proxy(this.config.fields, new SelectionProxyHandler({\n                sqlAliasedBehavior: \"alias\",\n                sqlBehavior: \"sql\"\n            })));\n            this.config.groupBy = Array.isArray(groupBy) ? groupBy : [\n                groupBy\n            ];\n        } else {\n            this.config.groupBy = columns;\n        }\n        return this;\n    }\n    orderBy(...columns) {\n        if (typeof columns[0] === \"function\") {\n            const orderBy = columns[0](new Proxy(this.config.fields, new SelectionProxyHandler({\n                sqlAliasedBehavior: \"alias\",\n                sqlBehavior: \"sql\"\n            })));\n            this.config.orderBy = Array.isArray(orderBy) ? orderBy : [\n                orderBy\n            ];\n        } else {\n            this.config.orderBy = columns;\n        }\n        return this;\n    }\n    /**\n     * Set the maximum number of rows that will be\n     * returned by this query.\n     *\n     * ## Examples\n     *\n     * ```ts\n     * // Get the first 10 people from this query.\n     * db.select().from(people).limit(10);\n     * ```\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-LIMIT|Postgres LIMIT documentation}\n     */ limit(limit) {\n        this.config.limit = limit;\n        return this;\n    }\n    /**\n     * Skip a number of rows when returning results\n     * from this query.\n     *\n     * ## Examples\n     *\n     * ```ts\n     * // Get the 10th-20th people from this query.\n     * db.select().from(people).offset(10).limit(10);\n     * ```\n     */ offset(offset) {\n        this.config.offset = offset;\n        return this;\n    }\n    /**\n     * The FOR clause specifies a lock strength for this query\n     * that controls how strictly it acquires exclusive access to\n     * the rows being queried.\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-FOR-UPDATE-SHARE|Postgres locking clause documentation}\n     */ for(strength, config = {}) {\n        this.config.lockingClauses.push({\n            strength,\n            config\n        });\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildSelectQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    as(alias) {\n        return new Proxy(new Subquery(this.getSQL(), this.config.fields, alias), new SelectionProxyHandler({\n            alias,\n            sqlAliasedBehavior: \"alias\",\n            sqlBehavior: \"error\"\n        }));\n    }\n}\nclass PgSelect extends PgSelectQueryBuilder {\n    static{\n        this[entityKind] = \"PgSelect\";\n    }\n    _prepare(name) {\n        const { session, config, dialect, joinsNotNullableMap } = this;\n        if (!session) {\n            throw new Error(\"Cannot execute a query on a query builder. Please use a database instance instead.\");\n        }\n        return tracer.startActiveSpan(\"drizzle.prepareQuery\", ()=>{\n            const fieldsList = orderSelectedFields(config.fields);\n            const query = session.prepareQuery(dialect.sqlToQuery(this.getSQL()), fieldsList, name);\n            query.joinsNotNullableMap = joinsNotNullableMap;\n            return query;\n        });\n    }\n    /**\n     * Create a prepared statement for this query. This allows\n     * the database to remember this query for the given session\n     * and call it by name, rather than specifying the full query.\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-prepare.html|Postgres prepare documentation}\n     */ prepare(name) {\n        return this._prepare(name);\n    }\n    constructor(...args){\n        super(...args);\n        this.execute = (placeholderValues)=>{\n            return tracer.startActiveSpan(\"drizzle.operation\", ()=>{\n                return this._prepare().execute(placeholderValues);\n            });\n        };\n    }\n}\napplyMixins(PgSelect, [\n    QueryPromise\n]);\nclass QueryBuilder {\n    static{\n        this[entityKind] = \"PgQueryBuilder\";\n    }\n    $with(alias) {\n        const queryBuilder = this;\n        return {\n            as (qb) {\n                if (typeof qb === \"function\") {\n                    qb = qb(queryBuilder);\n                }\n                return new Proxy(new WithSubquery(qb.getSQL(), qb.getSelectedFields(), alias, true), new SelectionProxyHandler({\n                    alias,\n                    sqlAliasedBehavior: \"alias\",\n                    sqlBehavior: \"error\"\n                }));\n            }\n        };\n    }\n    with(...queries) {\n        const self = this;\n        function select(fields) {\n            return new PgSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                withList: queries\n            });\n        }\n        function selectDistinct(fields) {\n            return new PgSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                distinct: true\n            });\n        }\n        function selectDistinctOn(on, fields) {\n            return new PgSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                distinct: {\n                    on\n                }\n            });\n        }\n        return {\n            select,\n            selectDistinct,\n            selectDistinctOn\n        };\n    }\n    select(fields) {\n        return new PgSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect()\n        });\n    }\n    selectDistinct(fields) {\n        return new PgSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect(),\n            distinct: true\n        });\n    }\n    selectDistinctOn(on, fields) {\n        return new PgSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect(),\n            distinct: {\n                on\n            }\n        });\n    }\n    // Lazy load dialect to avoid circular dependency\n    getDialect() {\n        if (!this.dialect) {\n            this.dialect = new PgDialect();\n        }\n        return this.dialect;\n    }\n}\nclass DefaultViewBuilderCore {\n    static{\n        this[entityKind] = \"PgDefaultViewBuilderCore\";\n    }\n    constructor(name, schema){\n        this.config = {};\n        this.name = name;\n        this.schema = schema;\n    }\n    with(config) {\n        this.config.with = config;\n        return this;\n    }\n}\nclass ViewBuilder extends DefaultViewBuilderCore {\n    static{\n        this[entityKind] = \"PgViewBuilder\";\n    }\n    as(qb) {\n        if (typeof qb === \"function\") {\n            qb = qb(new QueryBuilder());\n        }\n        const selectionProxy = new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        });\n        const aliasedSelection = new Proxy(qb.getSelectedFields(), selectionProxy);\n        return new Proxy(new PgView({\n            pgConfig: this.config,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: aliasedSelection,\n                query: qb.getSQL().inlineParams()\n            }\n        }), selectionProxy);\n    }\n}\nclass ManualViewBuilder extends DefaultViewBuilderCore {\n    static{\n        this[entityKind] = \"PgManualViewBuilder\";\n    }\n    constructor(name, columns, schema){\n        super(name, schema);\n        this.columns = getTableColumns(pgTable(name, columns));\n    }\n    existing() {\n        return new Proxy(new PgView({\n            pgConfig: undefined,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: undefined\n            }\n        }), new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n    as(query) {\n        return new Proxy(new PgView({\n            pgConfig: this.config,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: query.inlineParams()\n            }\n        }), new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n}\nclass MaterializedViewBuilderCore {\n    static{\n        this[entityKind] = \"PgMaterializedViewBuilderCore\";\n    }\n    constructor(name, schema){\n        this.config = {};\n        this.name = name;\n        this.schema = schema;\n    }\n    using(using) {\n        this.config.using = using;\n        return this;\n    }\n    with(config) {\n        this.config.with = config;\n        return this;\n    }\n    tablespace(tablespace) {\n        this.config.tablespace = tablespace;\n        return this;\n    }\n    withNoData() {\n        this.config.withNoData = true;\n        return this;\n    }\n}\nclass MaterializedViewBuilder extends MaterializedViewBuilderCore {\n    static{\n        this[entityKind] = \"PgMaterializedViewBuilder\";\n    }\n    as(qb) {\n        if (typeof qb === \"function\") {\n            qb = qb(new QueryBuilder());\n        }\n        const selectionProxy = new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        });\n        const aliasedSelection = new Proxy(qb.getSelectedFields(), selectionProxy);\n        return new Proxy(new PgMaterializedView({\n            pgConfig: {\n                with: this.config.with,\n                using: this.config.using,\n                tablespace: this.config.tablespace,\n                withNoData: this.config.withNoData\n            },\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: aliasedSelection,\n                query: qb.getSQL().inlineParams()\n            }\n        }), selectionProxy);\n    }\n}\nclass ManualMaterializedViewBuilder extends MaterializedViewBuilderCore {\n    static{\n        this[entityKind] = \"PgManualMaterializedViewBuilder\";\n    }\n    constructor(name, columns, schema){\n        super(name, schema);\n        this.columns = getTableColumns(pgTable(name, columns));\n    }\n    existing() {\n        return new Proxy(new PgMaterializedView({\n            pgConfig: undefined,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: undefined\n            }\n        }), new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n    as(query) {\n        return new Proxy(new PgMaterializedView({\n            pgConfig: undefined,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: query.inlineParams()\n            }\n        }), new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n}\nclass PgViewBase extends View {\n    static{\n        this[entityKind] = \"PgViewBase\";\n    }\n}\nconst PgViewConfig = Symbol.for(\"drizzle:PgViewConfig\");\nclass PgView extends PgViewBase {\n    static{\n        this[entityKind] = \"PgView\";\n    }\n    constructor({ pgConfig, config }){\n        super(config);\n        if (pgConfig) {\n            this[PgViewConfig] = {\n                with: pgConfig.with\n            };\n        }\n    }\n}\nconst PgMaterializedViewConfig = Symbol.for(\"drizzle:PgMaterializedViewConfig\");\nclass PgMaterializedView extends PgViewBase {\n    static{\n        this[entityKind] = \"PgMaterializedView\";\n    }\n    constructor({ pgConfig, config }){\n        super(config);\n        this[PgMaterializedViewConfig] = {\n            with: pgConfig?.with,\n            using: pgConfig?.using,\n            tablespace: pgConfig?.tablespace,\n            withNoData: pgConfig?.withNoData\n        };\n    }\n}\n/** @internal */ function pgViewWithSchema(name, selection, schema) {\n    if (selection) {\n        return new ManualViewBuilder(name, selection, schema);\n    }\n    return new ViewBuilder(name, schema);\n}\n/** @internal */ function pgMaterializedViewWithSchema(name, selection, schema) {\n    if (selection) {\n        return new ManualMaterializedViewBuilder(name, selection, schema);\n    }\n    return new MaterializedViewBuilder(name, schema);\n}\nfunction pgView(name, columns) {\n    return pgViewWithSchema(name, columns, undefined);\n}\nfunction pgMaterializedView(name, columns) {\n    return pgMaterializedViewWithSchema(name, columns, undefined);\n}\nfunction getTableConfig(table) {\n    const columns = Object.values(table[Table.Symbol.Columns]);\n    const indexes = [];\n    const checks = [];\n    const primaryKeys = [];\n    const foreignKeys = Object.values(table[PgTable.Symbol.InlineForeignKeys]);\n    const uniqueConstraints = [];\n    const name = table[Table.Symbol.Name];\n    const schema = table[Table.Symbol.Schema];\n    const extraConfigBuilder = table[PgTable.Symbol.ExtraConfigBuilder];\n    if (extraConfigBuilder !== undefined) {\n        const extraConfig = extraConfigBuilder(table[Table.Symbol.Columns]);\n        for (const builder of Object.values(extraConfig)){\n            if (is(builder, IndexBuilder)) {\n                indexes.push(builder.build(table));\n            } else if (is(builder, CheckBuilder)) {\n                checks.push(builder.build(table));\n            } else if (is(builder, UniqueConstraintBuilder)) {\n                uniqueConstraints.push(builder.build(table));\n            } else if (is(builder, PrimaryKeyBuilder)) {\n                primaryKeys.push(builder.build(table));\n            } else if (is(builder, ForeignKeyBuilder)) {\n                foreignKeys.push(builder.build(table));\n            }\n        }\n    }\n    return {\n        columns,\n        indexes,\n        foreignKeys,\n        checks,\n        primaryKeys,\n        uniqueConstraints,\n        name,\n        schema\n    };\n}\nfunction getViewConfig(view) {\n    return {\n        ...view[ViewBaseConfig],\n        ...view[PgViewConfig]\n    };\n}\nfunction getMaterializedViewConfig(view) {\n    return {\n        ...view[ViewBaseConfig],\n        ...view[PgMaterializedViewConfig]\n    };\n}\nfunction parsePgArrayValue(arrayString, startFrom, inQuotes) {\n    for(let i = startFrom; i < arrayString.length; i++){\n        const char = arrayString[i];\n        if (char === \"\\\\\") {\n            i++;\n            continue;\n        }\n        if (char === '\"') {\n            return [\n                arrayString.slice(startFrom, i).replace(/\\\\/g, \"\"),\n                i + 1\n            ];\n        }\n        if (inQuotes) {\n            continue;\n        }\n        if (char === \",\" || char === \"}\") {\n            return [\n                arrayString.slice(startFrom, i).replace(/\\\\/g, \"\"),\n                i\n            ];\n        }\n    }\n    return [\n        arrayString.slice(startFrom).replace(/\\\\/g, \"\"),\n        arrayString.length\n    ];\n}\nfunction parsePgNestedArray(arrayString, startFrom = 0) {\n    const result = [];\n    let i = startFrom;\n    let lastCharIsComma = false;\n    while(i < arrayString.length){\n        const char = arrayString[i];\n        if (char === \",\") {\n            if (lastCharIsComma || i === startFrom) {\n                result.push(\"\");\n            }\n            lastCharIsComma = true;\n            i++;\n            continue;\n        }\n        lastCharIsComma = false;\n        if (char === \"\\\\\") {\n            i += 2;\n            continue;\n        }\n        if (char === '\"') {\n            const [value, startFrom] = parsePgArrayValue(arrayString, i + 1, true);\n            result.push(value);\n            i = startFrom;\n            continue;\n        }\n        if (char === \"}\") {\n            return [\n                result,\n                i + 1\n            ];\n        }\n        if (char === \"{\") {\n            const [value, startFrom] = parsePgNestedArray(arrayString, i + 1);\n            result.push(value);\n            i = startFrom;\n            continue;\n        }\n        const [value, newStartFrom] = parsePgArrayValue(arrayString, i, false);\n        result.push(value);\n        i = newStartFrom;\n    }\n    return [\n        result,\n        i\n    ];\n}\nfunction parsePgArray(arrayString) {\n    const [result] = parsePgNestedArray(arrayString, 1);\n    return result;\n}\nfunction makePgArray(array) {\n    return `{${array.map((item)=>{\n        if (Array.isArray(item)) {\n            return makePgArray(item);\n        }\n        if (typeof item === \"string\" && item.includes(\",\")) {\n            return `\"${item.replace(/\"/g, '\\\\\"')}\"`;\n        }\n        return `${item}`;\n    }).join(\",\")}}`;\n}\n// To understand how to use `ColumnBuilder` and `AnyColumnBuilder`, see `Column` and `AnyColumn` documentation.\nclass ColumnBuilder {\n    static{\n        this[entityKind] = \"ColumnBuilder\";\n    }\n    constructor(name){\n        this.config = {\n            name,\n            notNull: false,\n            default: undefined,\n            primaryKey: false\n        };\n    }\n    $type() {\n        return this;\n    }\n    notNull() {\n        this.config.notNull = true;\n        return this;\n    }\n    default(value) {\n        this.config.default = value;\n        this.config.hasDefault = true;\n        return this;\n    }\n    primaryKey() {\n        this.config.primaryKey = true;\n        this.config.notNull = true;\n        return this;\n    }\n}\nclass PgColumnBuilder extends ColumnBuilder {\n    static{\n        this[entityKind] = \"PgColumnBuilder\";\n    }\n    array(size) {\n        return new PgArrayBuilder(this.config.name, this, size);\n    }\n    references(ref, actions = {}) {\n        this.foreignKeyConfigs.push({\n            ref,\n            actions\n        });\n        return this;\n    }\n    unique(name, config) {\n        this.config.isUnique = true;\n        this.config.uniqueName = name;\n        this.config.uniqueType = config?.nulls;\n        return this;\n    }\n    /** @internal */ buildForeignKeys(column, table) {\n        return this.foreignKeyConfigs.map(({ ref, actions })=>{\n            return ((ref, actions)=>{\n                const builder = new ForeignKeyBuilder(()=>{\n                    const foreignColumn = ref();\n                    return {\n                        columns: [\n                            column\n                        ],\n                        foreignColumns: [\n                            foreignColumn\n                        ]\n                    };\n                });\n                if (actions.onUpdate) {\n                    builder.onUpdate(actions.onUpdate);\n                }\n                if (actions.onDelete) {\n                    builder.onDelete(actions.onDelete);\n                }\n                return builder.build(table);\n            })(ref, actions);\n        });\n    }\n    constructor(...args){\n        super(...args);\n        this.foreignKeyConfigs = [];\n    }\n}\n// To understand how to use `PgColumn` and `AnyPgColumn`, see `Column` and `AnyColumn` documentation.\nclass PgColumn extends Column {\n    static{\n        this[entityKind] = \"PgColumn\";\n    }\n    constructor(table, config){\n        if (!config.uniqueName) {\n            config.uniqueName = uniqueKeyName(table, [\n                config.name\n            ]);\n        }\n        super(table, config);\n        this.table = table;\n    }\n}\nclass PgArrayBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgArrayBuilder\";\n    }\n    constructor(name, baseBuilder, size){\n        super(name);\n        this.config.baseBuilder = baseBuilder;\n        this.config.size = size;\n    }\n    /** @internal */ build(table) {\n        const baseColumn = this.config.baseBuilder.build(table);\n        return new PgArray(table, this.config, baseColumn);\n    }\n}\nclass PgArray extends PgColumn {\n    static{\n        this[entityKind] = \"PgArray\";\n    }\n    constructor(table, config, baseColumn, range){\n        super(table, config);\n        this.baseColumn = baseColumn;\n        this.range = range;\n        this.size = config.size;\n    }\n    getSQLType() {\n        return `${this.baseColumn.getSQLType()}[${typeof this.size === \"number\" ? this.size : \"\"}]`;\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            // Thank you node-postgres for not parsing enum arrays\n            value = parsePgArray(value);\n        }\n        return value.map((v)=>this.baseColumn.mapFromDriverValue(v));\n    }\n    mapToDriverValue(value, isNestedArray = false) {\n        const a = value.map((v)=>v === null ? null : is(this.baseColumn, PgArray) ? this.baseColumn.mapToDriverValue(v, true) : this.baseColumn.mapToDriverValue(v));\n        if (isNestedArray) return a;\n        return makePgArray(a);\n    }\n}\nclass PgDateColumnBaseBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgDateColumnBaseBuilder\";\n    }\n    defaultNow() {\n        return this.default(sql`now()`);\n    }\n}\nclass PgDateBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgDateBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new PgDate(table, this.config);\n    }\n}\nclass PgDate extends PgColumn {\n    static{\n        this[entityKind] = \"PgDate\";\n    }\n    getSQLType() {\n        return \"date\";\n    }\n    mapFromDriverValue(value) {\n        return new Date(value);\n    }\n    mapToDriverValue(value) {\n        return value.toISOString();\n    }\n}\nclass PgDateStringBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgDateStringBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new PgDateString(table, this.config);\n    }\n}\nclass PgDateString extends PgColumn {\n    static{\n        this[entityKind] = \"PgDateString\";\n    }\n    getSQLType() {\n        return \"date\";\n    }\n}\nfunction date(name, config) {\n    if (config?.mode === \"date\") {\n        return new PgDateBuilder(name);\n    }\n    return new PgDateStringBuilder(name);\n}\nclass PgJsonBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgJsonBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new PgJson(table, this.config);\n    }\n}\nclass PgJson extends PgColumn {\n    static{\n        this[entityKind] = \"PgJson\";\n    }\n    constructor(table, config){\n        super(table, config);\n    }\n    getSQLType() {\n        return \"json\";\n    }\n    mapToDriverValue(value) {\n        return JSON.stringify(value);\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            try {\n                return JSON.parse(value);\n            } catch  {\n                return value;\n            }\n        }\n        return value;\n    }\n}\nfunction json(name) {\n    return new PgJsonBuilder(name);\n}\nclass PgJsonbBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgJsonbBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new PgJsonb(table, this.config);\n    }\n}\nclass PgJsonb extends PgColumn {\n    static{\n        this[entityKind] = \"PgJsonb\";\n    }\n    constructor(table, config){\n        super(table, config);\n    }\n    getSQLType() {\n        return \"jsonb\";\n    }\n    mapToDriverValue(value) {\n        return JSON.stringify(value);\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            try {\n                return JSON.parse(value);\n            } catch  {\n                return value;\n            }\n        }\n        return value;\n    }\n}\nfunction jsonb(name) {\n    return new PgJsonbBuilder(name);\n}\nclass PgNumericBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgNumericBuilder\";\n    }\n    constructor(name, precision, scale){\n        super(name);\n        this.config.precision = precision;\n        this.config.scale = scale;\n    }\n    /** @internal */ build(table) {\n        return new PgNumeric(table, this.config);\n    }\n}\nclass PgNumeric extends PgColumn {\n    static{\n        this[entityKind] = \"PgNumeric\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.precision = config.precision;\n        this.scale = config.scale;\n    }\n    getSQLType() {\n        if (this.precision !== undefined && this.scale !== undefined) {\n            return `numeric(${this.precision}, ${this.scale})`;\n        } else if (this.precision === undefined) {\n            return \"numeric\";\n        } else {\n            return `numeric(${this.precision})`;\n        }\n    }\n}\nfunction numeric(name, config) {\n    return new PgNumericBuilder(name, config?.precision, config?.scale);\n}\nconst decimal = numeric;\nclass PgTimeBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgTimeBuilder\";\n    }\n    constructor(name, withTimezone, precision){\n        super(name);\n        this.withTimezone = withTimezone;\n        this.precision = precision;\n        this.config.withTimezone = withTimezone;\n        this.config.precision = precision;\n    }\n    /** @internal */ build(table) {\n        return new PgTime(table, this.config);\n    }\n}\nclass PgTime extends PgColumn {\n    static{\n        this[entityKind] = \"PgTime\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.withTimezone = config.withTimezone;\n        this.precision = config.precision;\n    }\n    getSQLType() {\n        const precision = this.precision === undefined ? \"\" : `(${this.precision})`;\n        return `time${precision}${this.withTimezone ? \" with time zone\" : \"\"}`;\n    }\n}\nfunction time(name, config = {}) {\n    return new PgTimeBuilder(name, config.withTimezone ?? false, config.precision);\n}\nclass PgTimestampBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgTimestampBuilder\";\n    }\n    constructor(name, withTimezone, precision){\n        super(name);\n        this.config.withTimezone = withTimezone;\n        this.config.precision = precision;\n    }\n    /** @internal */ build(table) {\n        return new PgTimestamp(table, this.config);\n    }\n}\nclass PgTimestamp extends PgColumn {\n    static{\n        this[entityKind] = \"PgTimestamp\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.mapFromDriverValue = (value)=>{\n            return new Date(this.withTimezone ? value : value + \"+0000\");\n        };\n        this.mapToDriverValue = (value)=>{\n            return this.withTimezone ? value.toUTCString() : value.toISOString();\n        };\n        this.withTimezone = config.withTimezone;\n        this.precision = config.precision;\n    }\n    getSQLType() {\n        const precision = this.precision === undefined ? \"\" : ` (${this.precision})`;\n        return `timestamp${precision}${this.withTimezone ? \" with time zone\" : \"\"}`;\n    }\n}\nclass PgTimestampStringBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgTimestampStringBuilder\";\n    }\n    constructor(name, withTimezone, precision){\n        super(name);\n        this.config.withTimezone = withTimezone;\n        this.config.precision = precision;\n    }\n    /** @internal */ build(table) {\n        return new PgTimestampString(table, this.config);\n    }\n}\nclass PgTimestampString extends PgColumn {\n    static{\n        this[entityKind] = \"PgTimestampString\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.withTimezone = config.withTimezone;\n        this.precision = config.precision;\n    }\n    getSQLType() {\n        const precision = this.precision === undefined ? \"\" : `(${this.precision})`;\n        return `timestamp${precision}${this.withTimezone ? \" with time zone\" : \"\"}`;\n    }\n}\nfunction timestamp(name, config = {}) {\n    if (config.mode === \"string\") {\n        return new PgTimestampStringBuilder(name, config.withTimezone ?? false, config.precision);\n    }\n    return new PgTimestampBuilder(name, config.withTimezone ?? false, config.precision);\n}\nclass PgUUIDBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgUUIDBuilder\";\n    }\n    /**\n     * Adds `default gen_random_uuid()` to the column definition.\n     */ defaultRandom() {\n        return this.default(sql`gen_random_uuid()`);\n    }\n    /** @internal */ build(table) {\n        return new PgUUID(table, this.config);\n    }\n}\nclass PgUUID extends PgColumn {\n    static{\n        this[entityKind] = \"PgUUID\";\n    }\n    getSQLType() {\n        return \"uuid\";\n    }\n}\nfunction uuid(name) {\n    return new PgUUIDBuilder(name);\n}\nclass Relation {\n    static{\n        this[entityKind] = \"Relation\";\n    }\n    constructor(sourceTable, referencedTable, relationName){\n        this.sourceTable = sourceTable;\n        this.referencedTable = referencedTable;\n        this.relationName = relationName;\n        this.referencedTableName = referencedTable[Table.Symbol.Name];\n    }\n}\nclass Relations {\n    static{\n        this[entityKind] = \"Relations\";\n    }\n    constructor(table, config){\n        this.table = table;\n        this.config = config;\n    }\n}\nclass One extends Relation {\n    static{\n        this[entityKind] = \"One\";\n    }\n    constructor(sourceTable, referencedTable, config, isNullable){\n        super(sourceTable, referencedTable, config?.relationName);\n        this.config = config;\n        this.isNullable = isNullable;\n    }\n    withFieldName(fieldName) {\n        const relation = new One(this.sourceTable, this.referencedTable, this.config, this.isNullable);\n        relation.fieldName = fieldName;\n        return relation;\n    }\n}\nclass Many extends Relation {\n    static{\n        this[entityKind] = \"Many\";\n    }\n    constructor(sourceTable, referencedTable, config){\n        super(sourceTable, referencedTable, config?.relationName);\n        this.config = config;\n    }\n    withFieldName(fieldName) {\n        const relation = new Many(this.sourceTable, this.referencedTable, this.config);\n        relation.fieldName = fieldName;\n        return relation;\n    }\n}\nconst operators = {\n    sql,\n    eq,\n    and,\n    or\n};\nconst orderByOperators = {\n    sql,\n    asc,\n    desc\n};\nfunction extractTablesRelationalConfig(schema, configHelpers) {\n    if (Object.keys(schema).length === 1 && \"default\" in schema && !is(schema[\"default\"], Table)) {\n        schema = schema[\"default\"];\n    }\n    // table DB name -> schema table key\n    const tableNamesMap = {};\n    // Table relations found before their tables - need to buffer them until we know the schema table key\n    const relationsBuffer = {};\n    const tablesConfig = {};\n    for (const [key, value] of Object.entries(schema)){\n        if (isTable(value)) {\n            const dbName = value[Table.Symbol.Name];\n            const bufferedRelations = relationsBuffer[dbName];\n            tableNamesMap[dbName] = key;\n            tablesConfig[key] = {\n                tsName: key,\n                dbName: value[Table.Symbol.Name],\n                columns: value[Table.Symbol.Columns],\n                relations: bufferedRelations?.relations ?? {},\n                primaryKey: bufferedRelations?.primaryKey ?? []\n            };\n            // Fill in primary keys\n            for (const column of Object.values(value[Table.Symbol.Columns])){\n                if (column.primary) {\n                    tablesConfig[key].primaryKey.push(column);\n                }\n            }\n            const extraConfig = value[Table.Symbol.ExtraConfigBuilder]?.(value);\n            if (extraConfig) {\n                for (const configEntry of Object.values(extraConfig)){\n                    if (is(configEntry, PrimaryKeyBuilder)) {\n                        tablesConfig[key].primaryKey.push(...configEntry.columns);\n                    }\n                }\n            }\n        } else if (is(value, Relations)) {\n            const dbName = value.table[Table.Symbol.Name];\n            const tableName = tableNamesMap[dbName];\n            const relations = value.config(configHelpers(value.table));\n            let primaryKey;\n            for (const [relationName, relation] of Object.entries(relations)){\n                if (tableName) {\n                    const tableConfig = tablesConfig[tableName];\n                    tableConfig.relations[relationName] = relation;\n                } else {\n                    if (!(dbName in relationsBuffer)) {\n                        relationsBuffer[dbName] = {\n                            relations: {},\n                            primaryKey\n                        };\n                    }\n                    relationsBuffer[dbName].relations[relationName] = relation;\n                }\n            }\n        }\n    }\n    return {\n        tables: tablesConfig,\n        tableNamesMap\n    };\n}\nfunction relations(table, relations) {\n    return new Relations(table, (helpers)=>Object.fromEntries(Object.entries(relations(helpers)).map(([key, value])=>[\n                key,\n                value.withFieldName(key)\n            ])));\n}\nfunction createOne(sourceTable) {\n    return function one(table, config) {\n        return new One(sourceTable, table, config, config?.fields.reduce((res, f)=>res && f.notNull, true) ?? false);\n    };\n}\nfunction createMany(sourceTable) {\n    return function many(referencedTable, config) {\n        return new Many(sourceTable, referencedTable, config);\n    };\n}\nfunction normalizeRelation(schema, tableNamesMap, relation) {\n    if (is(relation, One) && relation.config) {\n        return {\n            fields: relation.config.fields,\n            references: relation.config.references\n        };\n    }\n    const referencedTableTsName = tableNamesMap[relation.referencedTable[Table.Symbol.Name]];\n    if (!referencedTableTsName) {\n        throw new Error(`Table \"${relation.referencedTable[Table.Symbol.Name]}\" not found in schema`);\n    }\n    const referencedTableFields = schema[referencedTableTsName];\n    if (!referencedTableFields) {\n        throw new Error(`Table \"${referencedTableTsName}\" not found in schema`);\n    }\n    const sourceTable = relation.sourceTable;\n    const sourceTableTsName = tableNamesMap[sourceTable[Table.Symbol.Name]];\n    if (!sourceTableTsName) {\n        throw new Error(`Table \"${sourceTable[Table.Symbol.Name]}\" not found in schema`);\n    }\n    const reverseRelations = [];\n    for (const referencedTableRelation of Object.values(referencedTableFields.relations)){\n        if (relation.relationName && relation !== referencedTableRelation && referencedTableRelation.relationName === relation.relationName || !relation.relationName && referencedTableRelation.referencedTable === relation.sourceTable) {\n            reverseRelations.push(referencedTableRelation);\n        }\n    }\n    if (reverseRelations.length > 1) {\n        throw relation.relationName ? new Error(`There are multiple relations with name \"${relation.relationName}\" in table \"${referencedTableTsName}\"`) : new Error(`There are multiple relations between \"${referencedTableTsName}\" and \"${relation.sourceTable[Table.Symbol.Name]}\". Please specify relation name`);\n    }\n    if (reverseRelations[0] && is(reverseRelations[0], One) && reverseRelations[0].config) {\n        return {\n            fields: reverseRelations[0].config.references,\n            references: reverseRelations[0].config.fields\n        };\n    }\n    throw new Error(`There is not enough information to infer relation \"${sourceTableTsName}.${relation.fieldName}\"`);\n}\nfunction createTableRelationsHelpers(sourceTable) {\n    return {\n        one: createOne(sourceTable),\n        many: createMany(sourceTable)\n    };\n}\nfunction mapRelationalRow(tablesConfig, tableConfig, row, buildQueryResultSelection, mapColumnValue = (value)=>value) {\n    const result = {};\n    for (const [selectionItemIndex, selectionItem] of buildQueryResultSelection.entries()){\n        if (selectionItem.isJson) {\n            const relation = tableConfig.relations[selectionItem.tsKey];\n            const rawSubRows = row[selectionItemIndex];\n            const subRows = typeof rawSubRows === \"string\" ? JSON.parse(rawSubRows) : rawSubRows;\n            if (is(relation, One)) {\n                result[selectionItem.tsKey] = subRows[0] ? mapRelationalRow(tablesConfig, tablesConfig[selectionItem.tableTsKey], subRows[0], selectionItem.selection, mapColumnValue) : null;\n            } else {\n                result[selectionItem.tsKey] = subRows.map((subRow)=>mapRelationalRow(tablesConfig, tablesConfig[selectionItem.tableTsKey], subRow, selectionItem.selection, mapColumnValue));\n            }\n        } else {\n            const value = mapColumnValue(row[selectionItemIndex]);\n            const field = selectionItem.field;\n            let decoder;\n            if (is(field, Column)) {\n                decoder = field;\n            } else if (is(field, SQL)) {\n                decoder = field.decoder;\n            } else {\n                decoder = field.sql.decoder;\n            }\n            result[selectionItem.tsKey] = value === null ? null : decoder.mapFromDriverValue(value);\n        }\n    }\n    return result;\n}\nfunction bindIfParam(value, column) {\n    if (isDriverValueEncoder(column) && !isSQLWrapper(value) && !is(value, Param) && !is(value, Placeholder) && !is(value, Column) && !is(value, Table) && !is(value, View)) {\n        return new Param(value, column);\n    }\n    return value;\n}\nfunction eq(left, right) {\n    return sql`${left} = ${bindIfParam(right, left)}`;\n}\nfunction ne(left, right) {\n    return sql`${left} <> ${bindIfParam(right, left)}`;\n}\nfunction and(...unfilteredConditions) {\n    const conditions = unfilteredConditions.filter((c)=>c !== undefined);\n    if (conditions.length === 0) {\n        return undefined;\n    }\n    if (conditions.length === 1) {\n        return conditions[0];\n    }\n    const chunks = [\n        sql.raw(\"(\")\n    ];\n    for (const [index, condition] of conditions.entries()){\n        if (index === 0) {\n            chunks.push(condition);\n        } else {\n            chunks.push(sql` and `, condition);\n        }\n    }\n    chunks.push(sql`)`);\n    return sql.fromList(chunks);\n}\nfunction or(...unfilteredConditions) {\n    const conditions = unfilteredConditions.filter((c)=>c !== undefined);\n    if (conditions.length === 0) {\n        return undefined;\n    }\n    if (conditions.length === 1) {\n        return conditions[0];\n    }\n    const chunks = [\n        sql.raw(\"(\")\n    ];\n    for (const [index, condition] of conditions.entries()){\n        if (index === 0) {\n            chunks.push(condition);\n        } else {\n            chunks.push(sql` or `, condition);\n        }\n    }\n    chunks.push(sql`)`);\n    return sql.fromList(chunks);\n}\n/**\n * Negate the meaning of an expression using the `not` keyword.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars _not_ made by GM or Ford.\n * db.select().from(cars)\n *   .where(not(inArray(cars.make, ['GM', 'Ford'])))\n * ```\n */ function not(condition) {\n    return sql`not ${condition}`;\n}\nfunction gt(left, right) {\n    return sql`${left} > ${bindIfParam(right, left)}`;\n}\nfunction gte(left, right) {\n    return sql`${left} >= ${bindIfParam(right, left)}`;\n}\nfunction lt(left, right) {\n    return sql`${left} < ${bindIfParam(right, left)}`;\n}\nfunction lte(left, right) {\n    return sql`${left} <= ${bindIfParam(right, left)}`;\n}\nfunction inArray(column, values) {\n    if (Array.isArray(values)) {\n        if (values.length === 0) {\n            throw new Error(\"inArray requires at least one value\");\n        }\n        return sql`${column} in ${values.map((v)=>bindIfParam(v, column))}`;\n    }\n    return sql`${column} in ${bindIfParam(values, column)}`;\n}\nfunction notInArray(column, values) {\n    if (isSQLWrapper(values)) {\n        return sql`${column} not in ${values}`;\n    }\n    if (Array.isArray(values)) {\n        if (values.length === 0) {\n            throw new Error(\"inArray requires at least one value\");\n        }\n        return sql`${column} not in ${values.map((v)=>bindIfParam(v, column))}`;\n    }\n    return sql`${column} not in ${bindIfParam(values, column)}`;\n}\n/**\n * Test whether an expression is NULL. By the SQL standard,\n * NULL is neither equal nor not equal to itself, so\n * it's recommended to use `isNull` and `notIsNull` for\n * comparisons to NULL.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars that have no discontinuedAt date.\n * db.select().from(cars)\n *   .where(isNull(cars.discontinuedAt))\n * ```\n *\n * @see isNotNull for the inverse of this test\n */ function isNull(column) {\n    return sql`${column} is null`;\n}\n/**\n * Test whether an expression is not NULL. By the SQL standard,\n * NULL is neither equal nor not equal to itself, so\n * it's recommended to use `isNull` and `notIsNull` for\n * comparisons to NULL.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars that have been discontinued.\n * db.select().from(cars)\n *   .where(isNotNull(cars.discontinuedAt))\n * ```\n *\n * @see isNull for the inverse of this test\n */ function isNotNull(column) {\n    return sql`${column} is not null`;\n}\n/**\n * Test whether a subquery evaluates to have any rows.\n *\n * ## Examples\n *\n * ```ts\n * // Users whose `homeCity` column has a match in a cities\n * // table.\n * db\n *   .select()\n *   .from(users)\n *   .where(\n *     exists(db.select()\n *       .from(cities)\n *       .where(eq(users.homeCity, cities.id))),\n *   );\n * ```\n *\n * @see notExists for the inverse of this test\n */ function exists(subquery) {\n    return sql`exists (${subquery})`;\n}\n/**\n * Test whether a subquery doesn't include any result\n * rows.\n *\n * ## Examples\n *\n * ```ts\n * // Users whose `homeCity` column doesn't match\n * // a row in the cities table.\n * db\n *   .select()\n *   .from(users)\n *   .where(\n *     notExists(db.select()\n *       .from(cities)\n *       .where(eq(users.homeCity, cities.id))),\n *   );\n * ```\n *\n * @see exists for the inverse of this test\n */ function notExists(subquery) {\n    return sql`not exists (${subquery})`;\n}\nfunction between(column, min, max) {\n    return sql`${column} between ${bindIfParam(min, column)} and ${bindIfParam(max, column)}`;\n}\nfunction notBetween(column, min, max) {\n    return sql`${column} not between ${bindIfParam(min, column)} and ${bindIfParam(max, column)}`;\n}\n/**\n * Compare a column to a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars with 'Turbo' in their names.\n * db.select().from(cars)\n *   .where(like(cars.name, '%Turbo%'))\n * ```\n *\n * @see ilike for a case-insensitive version of this condition\n */ function like(column, value) {\n    return sql`${column} like ${value}`;\n}\n/**\n * The inverse of like - this tests that a given column\n * does not match a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars that don't have \"ROver\" in their name.\n * db.select().from(cars)\n *   .where(notLike(cars.name, '%Rover%'))\n * ```\n *\n * @see like for the inverse condition\n * @see notIlike for a case-insensitive version of this condition\n */ function notLike(column, value) {\n    return sql`${column} not like ${value}`;\n}\n/**\n * Case-insensitively compare a column to a pattern,\n * which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * Unlike like, this performs a case-insensitive comparison.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars with 'Turbo' in their names.\n * db.select().from(cars)\n *   .where(ilike(cars.name, '%Turbo%'))\n * ```\n *\n * @see like for a case-sensitive version of this condition\n */ function ilike(column, value) {\n    return sql`${column} ilike ${value}`;\n}\n/**\n * The inverse of ilike - this case-insensitively tests that a given column\n * does not match a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars that don't have \"Rover\" in their name.\n * db.select().from(cars)\n *   .where(notLike(cars.name, '%Rover%'))\n * ```\n *\n * @see ilike for the inverse condition\n * @see notLike for a case-sensitive version of this condition\n */ function notIlike(column, value) {\n    return sql`${column} not ilike ${value}`;\n}\n/**\n * Used in sorting, this specifies that the given\n * column or expression should be sorted in ascending\n * order. By the SQL standard, ascending order is the\n * default, so it is not usually necessary to specify\n * ascending sort order.\n *\n * ## Examples\n *\n * ```ts\n * // Return cars, starting with the oldest models\n * // and going in ascending order to the newest.\n * db.select().from(cars)\n *   .orderBy(asc(cars.year));\n * ```\n *\n * @see desc to sort in descending order\n */ function asc(column) {\n    return sql`${column} asc`;\n}\n/**\n * Used in sorting, this specifies that the given\n * column or expression should be sorted in descending\n * order.\n *\n * ## Examples\n *\n * ```ts\n * // Select users, with the most recently created\n * // records coming first.\n * db.select().from(users)\n *   .orderBy(desc(users.createdAt));\n * ```\n *\n * @see asc to sort in ascending order\n */ function desc(column) {\n    return sql`${column} desc`;\n}\n/**\n * This class is used to indicate a primitive param value that is used in `sql` tag.\n * It is only used on type level and is never instantiated at runtime.\n * If you see a value of this type in the code, its runtime value is actually the primitive param value.\n */ class FakePrimitiveParam {\n    static{\n        this[entityKind] = \"FakePrimitiveParam\";\n    }\n}\nfunction isSQLWrapper(value) {\n    return typeof value === \"object\" && value !== null && \"getSQL\" in value && typeof value.getSQL === \"function\";\n}\nfunction mergeQueries(queries) {\n    const result = {\n        sql: \"\",\n        params: []\n    };\n    for (const query of queries){\n        result.sql += query.sql;\n        result.params.push(...query.params);\n        if (query.typings?.length) {\n            result.typings = result.typings || [];\n            result.typings.push(...query.typings);\n        }\n    }\n    return result;\n}\nclass StringChunk {\n    static{\n        this[entityKind] = \"StringChunk\";\n    }\n    constructor(value){\n        this.value = Array.isArray(value) ? value : [\n            value\n        ];\n    }\n}\nclass SQL {\n    static{\n        this[entityKind] = \"SQL\";\n    }\n    constructor(queryChunks){\n        /** @internal */ this.decoder = noopDecoder;\n        this.shouldInlineParams = false;\n        this.queryChunks = queryChunks;\n    }\n    append(query) {\n        this.queryChunks.push(...query.queryChunks);\n        return this;\n    }\n    toQuery(config) {\n        return tracer.startActiveSpan(\"drizzle.buildSQL\", (span)=>{\n            const query = this.buildQueryFromSourceParams(this.queryChunks, config);\n            span?.setAttributes({\n                \"drizzle.query.text\": query.sql,\n                \"drizzle.query.params\": JSON.stringify(query.params)\n            });\n            return query;\n        });\n    }\n    buildQueryFromSourceParams(chunks, _config) {\n        const config = Object.assign({}, _config, {\n            inlineParams: _config.inlineParams || this.shouldInlineParams,\n            paramStartIndex: _config.paramStartIndex || {\n                value: 0\n            }\n        });\n        const { escapeName, escapeParam, prepareTyping, inlineParams, paramStartIndex } = config;\n        return mergeQueries(chunks.map((chunk)=>{\n            if (is(chunk, StringChunk)) {\n                return {\n                    sql: chunk.value.join(\"\"),\n                    params: []\n                };\n            }\n            if (is(chunk, Name)) {\n                return {\n                    sql: escapeName(chunk.value),\n                    params: []\n                };\n            }\n            if (chunk === undefined) {\n                return {\n                    sql: \"\",\n                    params: []\n                };\n            }\n            if (Array.isArray(chunk)) {\n                const result = [\n                    new StringChunk(\"(\")\n                ];\n                for (const [i, p] of chunk.entries()){\n                    result.push(p);\n                    if (i < chunk.length - 1) {\n                        result.push(new StringChunk(\", \"));\n                    }\n                }\n                result.push(new StringChunk(\")\"));\n                return this.buildQueryFromSourceParams(result, config);\n            }\n            if (is(chunk, SQL)) {\n                return this.buildQueryFromSourceParams(chunk.queryChunks, {\n                    ...config,\n                    inlineParams: inlineParams || chunk.shouldInlineParams\n                });\n            }\n            if (is(chunk, Table)) {\n                const schemaName = chunk[Table.Symbol.Schema];\n                const tableName = chunk[Table.Symbol.Name];\n                return {\n                    sql: schemaName === undefined ? escapeName(tableName) : escapeName(schemaName) + \".\" + escapeName(tableName),\n                    params: []\n                };\n            }\n            if (is(chunk, Column)) {\n                return {\n                    sql: escapeName(chunk.table[Table.Symbol.Name]) + \".\" + escapeName(chunk.name),\n                    params: []\n                };\n            }\n            if (is(chunk, View)) {\n                const schemaName = chunk[ViewBaseConfig].schema;\n                const viewName = chunk[ViewBaseConfig].name;\n                return {\n                    sql: schemaName === undefined ? escapeName(viewName) : escapeName(schemaName) + \".\" + escapeName(viewName),\n                    params: []\n                };\n            }\n            if (is(chunk, Param)) {\n                const mappedValue = chunk.value === null ? null : chunk.encoder.mapToDriverValue(chunk.value);\n                if (is(mappedValue, SQL)) {\n                    return this.buildQueryFromSourceParams([\n                        mappedValue\n                    ], config);\n                }\n                if (inlineParams) {\n                    return {\n                        sql: this.mapInlineParam(mappedValue, config),\n                        params: []\n                    };\n                }\n                let typings;\n                if (prepareTyping !== undefined) {\n                    typings = [\n                        prepareTyping(chunk.encoder)\n                    ];\n                }\n                return {\n                    sql: escapeParam(paramStartIndex.value++, mappedValue),\n                    params: [\n                        mappedValue\n                    ],\n                    typings\n                };\n            }\n            if (is(chunk, SQL.Aliased) && chunk.fieldAlias !== undefined) {\n                return {\n                    sql: escapeName(chunk.fieldAlias),\n                    params: []\n                };\n            }\n            if (is(chunk, Subquery)) {\n                if (chunk[SubqueryConfig].isWith) {\n                    return {\n                        sql: escapeName(chunk[SubqueryConfig].alias),\n                        params: []\n                    };\n                }\n                return this.buildQueryFromSourceParams([\n                    new StringChunk(\"(\"),\n                    chunk[SubqueryConfig].sql,\n                    new StringChunk(\") \"),\n                    new Name(chunk[SubqueryConfig].alias)\n                ], config);\n            }\n            if (isSQLWrapper(chunk)) {\n                return this.buildQueryFromSourceParams([\n                    new StringChunk(\"(\"),\n                    chunk.getSQL(),\n                    new StringChunk(\")\")\n                ], config);\n            }\n            if (is(chunk, Relation)) {\n                return this.buildQueryFromSourceParams([\n                    chunk.sourceTable,\n                    new StringChunk(\".\"),\n                    sql.identifier(chunk.fieldName)\n                ], config);\n            }\n            if (inlineParams) {\n                return {\n                    sql: this.mapInlineParam(chunk, config),\n                    params: []\n                };\n            }\n            return {\n                sql: escapeParam(paramStartIndex.value++, chunk),\n                params: [\n                    chunk\n                ]\n            };\n        }));\n    }\n    mapInlineParam(chunk, { escapeString }) {\n        if (chunk === null) {\n            return \"null\";\n        }\n        if (typeof chunk === \"number\" || typeof chunk === \"boolean\") {\n            return chunk.toString();\n        }\n        if (typeof chunk === \"string\") {\n            return escapeString(chunk);\n        }\n        if (typeof chunk === \"object\") {\n            const mappedValueAsString = chunk.toString();\n            if (mappedValueAsString === \"[object Object]\") {\n                return escapeString(JSON.stringify(chunk));\n            }\n            return escapeString(mappedValueAsString);\n        }\n        throw new Error(\"Unexpected param value: \" + chunk);\n    }\n    getSQL() {\n        return this;\n    }\n    as(alias) {\n        // TODO: remove with deprecated overloads\n        if (alias === undefined) {\n            return this;\n        }\n        return new SQL.Aliased(this, alias);\n    }\n    mapWith(decoder) {\n        this.decoder = typeof decoder === \"function\" ? {\n            mapFromDriverValue: decoder\n        } : decoder;\n        return this;\n    }\n    inlineParams() {\n        this.shouldInlineParams = true;\n        return this;\n    }\n}\n/**\n * Any DB name (table, column, index etc.)\n */ class Name {\n    static{\n        this[entityKind] = \"Name\";\n    }\n    constructor(value){\n        this.value = value;\n    }\n}\n/**\n * Any DB name (table, column, index etc.)\n * @deprecated Use `sql.identifier` instead.\n */ function name(value) {\n    return new Name(value);\n}\nfunction isDriverValueEncoder(value) {\n    return typeof value === \"object\" && value !== null && \"mapToDriverValue\" in value && typeof value.mapToDriverValue === \"function\";\n}\nconst noopDecoder = {\n    mapFromDriverValue: (value)=>value\n};\nconst noopEncoder = {\n    mapToDriverValue: (value)=>value\n};\nconst noopMapper = {\n    ...noopDecoder,\n    ...noopEncoder\n};\n/** Parameter value that is optionally bound to an encoder (for example, a column). */ class Param {\n    static{\n        this[entityKind] = \"Param\";\n    }\n    /**\n     * @param value - Parameter value\n     * @param encoder - Encoder to convert the value to a driver parameter\n     */ constructor(value, encoder = noopEncoder){\n        this.value = value;\n        this.encoder = encoder;\n    }\n}\nfunction param(value, encoder) {\n    return new Param(value, encoder);\n}\n/*\n    The type of `params` is specified as `SQLSourceParam[]`, but that's slightly incorrect -\n    in runtime, users won't pass `FakePrimitiveParam` instances as `params` - they will pass primitive values\n    which will be wrapped in `Param` using `buildChunksFromParam(...)`. That's why the overload\n    specify `params` as `any[]` and not as `SQLSourceParam[]`. This type is used to make our lives easier and\n    the type checker happy.\n*/ function sql(strings, ...params) {\n    const queryChunks = [];\n    if (params.length > 0 || strings.length > 0 && strings[0] !== \"\") {\n        queryChunks.push(new StringChunk(strings[0]));\n    }\n    for (const [paramIndex, param] of params.entries()){\n        queryChunks.push(param, new StringChunk(strings[paramIndex + 1]));\n    }\n    return new SQL(queryChunks);\n}\n(function(sql) {\n    function empty() {\n        return new SQL([]);\n    }\n    sql.empty = empty;\n    function fromList(list) {\n        return new SQL(list);\n    }\n    sql.fromList = fromList;\n    /**\n     * Convenience function to create an SQL query from a raw string.\n     * @param str The raw SQL query string.\n     */ function raw(str) {\n        return new SQL([\n            new StringChunk(str)\n        ]);\n    }\n    sql.raw = raw;\n    /**\n     * Convenience function to join a list of SQL chunks with a separator.\n     */ function join(chunks, separator) {\n        const result = [];\n        for (const [i, chunk] of chunks.entries()){\n            if (i > 0) {\n                result.push(separator);\n            }\n            result.push(chunk);\n        }\n        return sql.fromList(result);\n    }\n    sql.join = join;\n    /**\n     *  Any DB identifier (table name, column name, index name etc.)\n     */ function identifier(value) {\n        return name(value);\n    }\n    sql.identifier = identifier;\n})(sql || (sql = {}));\n(function(SQL) {\n    class Aliased {\n        static{\n            this[entityKind] = \"SQL.Aliased\";\n        }\n        constructor(sql, fieldAlias){\n            /** @internal */ this.isSelectionField = false;\n            this.sql = sql;\n            this.fieldAlias = fieldAlias;\n        }\n        getSQL() {\n            return this.sql;\n        }\n        /** @internal */ clone() {\n            return new Aliased(this.sql, this.fieldAlias);\n        }\n    }\n    SQL.Aliased = Aliased;\n})(SQL || (SQL = {}));\nclass Placeholder {\n    static{\n        this[entityKind] = \"Placeholder\";\n    }\n    constructor(name){\n        this.name = name;\n    }\n}\nfunction placeholder(name) {\n    return new Placeholder(name);\n}\nfunction fillPlaceholders(params, values) {\n    return params.map((p)=>{\n        if (is(p, Placeholder)) {\n            if (!(p.name in values)) {\n                throw new Error(`No value for placeholder \"${p.name}\" was provided`);\n            }\n            return values[p.name];\n        }\n        return p;\n    });\n}\nclass ColumnAliasProxyHandler {\n    static{\n        this[entityKind] = \"ColumnAliasProxyHandler\";\n    }\n    constructor(table){\n        this.table = table;\n    }\n    get(columnObj, prop) {\n        if (prop === \"table\") {\n            return this.table;\n        }\n        return columnObj[prop];\n    }\n}\nclass TableAliasProxyHandler {\n    static{\n        this[entityKind] = \"TableAliasProxyHandler\";\n    }\n    constructor(alias, replaceOriginalName){\n        this.alias = alias;\n        this.replaceOriginalName = replaceOriginalName;\n    }\n    get(target, prop) {\n        if (prop === Table.Symbol.IsAlias) {\n            return true;\n        }\n        if (prop === Table.Symbol.Name) {\n            return this.alias;\n        }\n        if (this.replaceOriginalName && prop === Table.Symbol.OriginalName) {\n            return this.alias;\n        }\n        if (prop === ViewBaseConfig) {\n            return {\n                ...target[ViewBaseConfig],\n                name: this.alias,\n                isAlias: true\n            };\n        }\n        if (prop === Table.Symbol.Columns) {\n            const columns = target[Table.Symbol.Columns];\n            if (!columns) {\n                return columns;\n            }\n            const proxiedColumns = {};\n            Object.keys(columns).map((key)=>{\n                proxiedColumns[key] = new Proxy(columns[key], new ColumnAliasProxyHandler(new Proxy(target, this)));\n            });\n            return proxiedColumns;\n        }\n        const value = target[prop];\n        if (is(value, Column)) {\n            return new Proxy(value, new ColumnAliasProxyHandler(new Proxy(target, this)));\n        }\n        return value;\n    }\n}\nclass RelationTableAliasProxyHandler {\n    static{\n        this[entityKind] = \"RelationTableAliasProxyHandler\";\n    }\n    constructor(alias){\n        this.alias = alias;\n    }\n    get(target, prop) {\n        if (prop === \"sourceTable\") {\n            return aliasedTable(target.sourceTable, this.alias);\n        }\n        return target[prop];\n    }\n}\nfunction aliasedTable(table, tableAlias) {\n    return new Proxy(table, new TableAliasProxyHandler(tableAlias, false));\n}\nfunction aliasedRelation(relation, tableAlias) {\n    return new Proxy(relation, new RelationTableAliasProxyHandler(tableAlias));\n}\nfunction aliasedTableColumn(column, tableAlias) {\n    return new Proxy(column, new ColumnAliasProxyHandler(new Proxy(column.table, new TableAliasProxyHandler(tableAlias, false))));\n}\nfunction mapColumnsInAliasedSQLToAlias(query, alias) {\n    return new SQL.Aliased(mapColumnsInSQLToAlias(query.sql, alias), query.fieldAlias);\n}\nfunction mapColumnsInSQLToAlias(query, alias) {\n    return sql.fromList(query.queryChunks.map((c)=>{\n        if (is(c, Column)) {\n            return aliasedTableColumn(c, alias);\n        }\n        if (is(c, SQL)) {\n            return mapColumnsInSQLToAlias(c, alias);\n        }\n        if (is(c, SQL.Aliased)) {\n            return mapColumnsInAliasedSQLToAlias(c, alias);\n        }\n        return c;\n    }));\n}\n //# sourceMappingURL=alias-3e926a50.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMjcuMl9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vYWxpYXMtM2U5MjZhNTAubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxhQUFhQyxPQUFPQyxHQUFHLENBQUM7QUFDOUIsTUFBTUMsbUJBQW1CRixPQUFPQyxHQUFHLENBQUM7QUFDcEMsU0FBU0UsR0FBR0MsS0FBSyxFQUFFQyxJQUFJO0lBQ25CLElBQUksQ0FBQ0QsU0FBUyxPQUFPQSxVQUFVLFVBQVU7UUFDckMsT0FBTztJQUNYO0lBQ0EsSUFBSUEsaUJBQWlCQyxNQUFNO1FBQ3ZCLE9BQU87SUFDWDtJQUNBLElBQUksQ0FBQ0MsT0FBT0MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ0osTUFBTU4sYUFBYTtRQUN6RCxNQUFNLElBQUlXLE1BQU0sQ0FBQyxPQUFPLEVBQUVMLEtBQUtNLElBQUksSUFBSSxZQUFZLDZIQUE2SCxDQUFDO0lBQ3JMO0lBQ0EsSUFBSUMsTUFBTVIsTUFBTVMsV0FBVztJQUMzQixJQUFJRCxLQUFLO1FBQ0wsc0RBQXNEO1FBQ3RELE1BQU9BLElBQUs7WUFDUixJQUFJYixjQUFjYSxPQUFPQSxHQUFHLENBQUNiLFdBQVcsS0FBS00sSUFBSSxDQUFDTixXQUFXLEVBQUU7Z0JBQzNELE9BQU87WUFDWDtZQUNBYSxNQUFNTixPQUFPUSxjQUFjLENBQUNGO1FBQ2hDO0lBQ0o7SUFDQSxPQUFPO0FBQ1g7QUFFQTs7OztBQUlBLEdBQ0EsTUFBTUc7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Q3BCLE9BQU9rTiw4QkFBOEJ2RyxHQUFHcEg7UUFDNUM7UUFDQSxPQUFPb0g7SUFDWDtBQUNKO0FBRTh1RyxDQUM5dUcsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHRva2Vuc3RyZWFtL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4yNy4yX0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9kcml6emxlLW9ybS9hbGlhcy0zZTkyNmE1MC5tanM/NmVjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbnRpdHlLaW5kID0gU3ltYm9sLmZvcignZHJpenpsZTplbnRpdHlLaW5kJyk7XG5jb25zdCBoYXNPd25FbnRpdHlLaW5kID0gU3ltYm9sLmZvcignZHJpenpsZTpoYXNPd25FbnRpdHlLaW5kJyk7XG5mdW5jdGlvbiBpcyh2YWx1ZSwgdHlwZSkge1xuICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHR5cGUpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHR5cGUsIGVudGl0eUtpbmQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2xhc3MgXCIke3R5cGUubmFtZSA/PyAnPHVua25vd24+J31cIiBkb2Vzbid0IGxvb2sgbGlrZSBhIERyaXp6bGUgZW50aXR5LiBJZiB0aGlzIGlzIGluY29ycmVjdCBhbmQgdGhlIGNsYXNzIGlzIHByb3ZpZGVkIGJ5IERyaXp6bGUsIHBsZWFzZSByZXBvcnQgdGhpcyBhcyBhIGJ1Zy5gKTtcbiAgICB9XG4gICAgbGV0IGNscyA9IHZhbHVlLmNvbnN0cnVjdG9yO1xuICAgIGlmIChjbHMpIHtcbiAgICAgICAgLy8gVHJhdmVyc2UgdGhlIHByb3RvdHlwZSBjaGFpbiB0byBmaW5kIHRoZSBlbnRpdHlLaW5kXG4gICAgICAgIHdoaWxlIChjbHMpIHtcbiAgICAgICAgICAgIGlmIChlbnRpdHlLaW5kIGluIGNscyAmJiBjbHNbZW50aXR5S2luZF0gPT09IHR5cGVbZW50aXR5S2luZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNscyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjbHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLypcbiAgICBgQ29sdW1uYCBvbmx5IGFjY2VwdHMgYSBmdWxsIGBDb2x1bW5Db25maWdgIGFzIGl0cyBnZW5lcmljLlxuICAgIFRvIGluZmVyIHBhcnRzIG9mIHRoZSBjb25maWcsIHVzZSBgQW55Q29sdW1uYCB0aGF0IGFjY2VwdHMgYSBwYXJ0aWFsIGNvbmZpZy5cbiAgICBTZWUgYEdldENvbHVtbkRhdGFgIGZvciBleGFtcGxlIHVzYWdlIG9mIGluZmVycmluZy5cbiovXG5jbGFzcyBDb2x1bW4ge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnQ29sdW1uJztcbiAgICBuYW1lO1xuICAgIHByaW1hcnk7XG4gICAgbm90TnVsbDtcbiAgICBkZWZhdWx0O1xuICAgIGhhc0RlZmF1bHQ7XG4gICAgaXNVbmlxdWU7XG4gICAgdW5pcXVlTmFtZTtcbiAgICB1bmlxdWVUeXBlO1xuICAgIGNvbmZpZztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMubmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgICAgICB0aGlzLm5vdE51bGwgPSBjb25maWcubm90TnVsbDtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gY29uZmlnLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuaGFzRGVmYXVsdCA9IGNvbmZpZy5oYXNEZWZhdWx0O1xuICAgICAgICB0aGlzLnByaW1hcnkgPSBjb25maWcucHJpbWFyeUtleTtcbiAgICAgICAgdGhpcy5pc1VuaXF1ZSA9IGNvbmZpZy5pc1VuaXF1ZTtcbiAgICAgICAgdGhpcy51bmlxdWVOYW1lID0gY29uZmlnLnVuaXF1ZU5hbWU7XG4gICAgICAgIHRoaXMudW5pcXVlVHlwZSA9IGNvbmZpZy51bmlxdWVUeXBlO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBtYXBUb0RyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IFRhYmxlTmFtZSA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6TmFtZScpO1xuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgU2NoZW1hID0gU3ltYm9sLmZvcignZHJpenpsZTpTY2hlbWEnKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IENvbHVtbnMgPSBTeW1ib2wuZm9yKCdkcml6emxlOkNvbHVtbnMnKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IE9yaWdpbmFsTmFtZSA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6T3JpZ2luYWxOYW1lJyk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBCYXNlTmFtZSA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6QmFzZU5hbWUnKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IElzQWxpYXMgPSBTeW1ib2wuZm9yKCdkcml6emxlOklzQWxpYXMnKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IEV4dHJhQ29uZmlnQnVpbGRlciA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6RXh0cmFDb25maWdCdWlsZGVyJyk7XG5jb25zdCBJc0RyaXp6bGVUYWJsZSA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6SXNEcml6emxlVGFibGUnKTtcbmNsYXNzIFRhYmxlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1RhYmxlJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgc3RhdGljIFN5bWJvbCA9IHtcbiAgICAgICAgTmFtZTogVGFibGVOYW1lLFxuICAgICAgICBTY2hlbWE6IFNjaGVtYSxcbiAgICAgICAgT3JpZ2luYWxOYW1lOiBPcmlnaW5hbE5hbWUsXG4gICAgICAgIENvbHVtbnM6IENvbHVtbnMsXG4gICAgICAgIEJhc2VOYW1lOiBCYXNlTmFtZSxcbiAgICAgICAgSXNBbGlhczogSXNBbGlhcyxcbiAgICAgICAgRXh0cmFDb25maWdCdWlsZGVyOiBFeHRyYUNvbmZpZ0J1aWxkZXIsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBDYW4gYmUgY2hhbmdlZCBpZiB0aGUgdGFibGUgaXMgYWxpYXNlZC5cbiAgICAgKi9cbiAgICBbVGFibGVOYW1lXTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBVc2VkIHRvIHN0b3JlIHRoZSBvcmlnaW5hbCBuYW1lIG9mIHRoZSB0YWJsZSwgYmVmb3JlIGFueSBhbGlhc2luZy5cbiAgICAgKi9cbiAgICBbT3JpZ2luYWxOYW1lXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgW1NjaGVtYV07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtDb2x1bW5zXTtcbiAgICAvKipcbiAgICAgKiAgQGludGVybmFsXG4gICAgICogVXNlZCB0byBzdG9yZSB0aGUgdGFibGUgbmFtZSBiZWZvcmUgdGhlIHRyYW5zZm9ybWF0aW9uIHZpYSB0aGUgYHRhYmxlQ3JlYXRvcmAgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIFtCYXNlTmFtZV07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtJc0FsaWFzXSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBbRXh0cmFDb25maWdCdWlsZGVyXSA9IHVuZGVmaW5lZDtcbiAgICBbSXNEcml6emxlVGFibGVdID0gdHJ1ZTtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBzY2hlbWEsIGJhc2VOYW1lKSB7XG4gICAgICAgIHRoaXNbVGFibGVOYW1lXSA9IHRoaXNbT3JpZ2luYWxOYW1lXSA9IG5hbWU7XG4gICAgICAgIHRoaXNbU2NoZW1hXSA9IHNjaGVtYTtcbiAgICAgICAgdGhpc1tCYXNlTmFtZV0gPSBiYXNlTmFtZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1RhYmxlKHRhYmxlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0YWJsZSA9PT0gJ29iamVjdCcgJiYgdGFibGUgIT09IG51bGwgJiYgSXNEcml6emxlVGFibGUgaW4gdGFibGU7XG59XG5mdW5jdGlvbiBnZXRUYWJsZU5hbWUodGFibGUpIHtcbiAgICByZXR1cm4gdGFibGVbVGFibGVOYW1lXTtcbn1cblxuY2xhc3MgQ2hlY2tCdWlsZGVyIHtcbiAgICBuYW1lO1xuICAgIHZhbHVlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdDaGVja0J1aWxkZXInO1xuICAgIGJyYW5kO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hlY2sodGFibGUsIHRoaXMpO1xuICAgIH1cbn1cbmNsYXNzIENoZWNrIHtcbiAgICB0YWJsZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnQ2hlY2snO1xuICAgIG5hbWU7XG4gICAgdmFsdWU7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGJ1aWxkZXIpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgICAgICB0aGlzLm5hbWUgPSBidWlsZGVyLm5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSBidWlsZGVyLnZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrKG5hbWUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBDaGVja0J1aWxkZXIobmFtZSwgdmFsdWUpO1xufVxuXG4vKiogQGludGVybmFsICovXG5jb25zdCBJbmxpbmVGb3JlaWduS2V5cyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6UGdJbmxpbmVGb3JlaWduS2V5cycpO1xuY2xhc3MgUGdUYWJsZSBleHRlbmRzIFRhYmxlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVGFibGUnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzdGF0aWMgU3ltYm9sID0gT2JqZWN0LmFzc2lnbih7fSwgVGFibGUuU3ltYm9sLCB7XG4gICAgICAgIElubGluZUZvcmVpZ25LZXlzOiBJbmxpbmVGb3JlaWduS2V5cyxcbiAgICB9KTtcbiAgICAvKipAaW50ZXJuYWwgKi9cbiAgICBbSW5saW5lRm9yZWlnbktleXNdID0gW107XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtUYWJsZS5TeW1ib2wuRXh0cmFDb25maWdCdWlsZGVyXSA9IHVuZGVmaW5lZDtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIHBnVGFibGVXaXRoU2NoZW1hKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnLCBzY2hlbWEsIGJhc2VOYW1lID0gbmFtZSkge1xuICAgIGNvbnN0IHJhd1RhYmxlID0gbmV3IFBnVGFibGUobmFtZSwgc2NoZW1hLCBiYXNlTmFtZSk7XG4gICAgY29uc3QgYnVpbHRDb2x1bW5zID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGNvbHVtbnMpLm1hcCgoW25hbWUsIGNvbEJ1aWxkZXJdKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGNvbEJ1aWxkZXIuYnVpbGQocmF3VGFibGUpO1xuICAgICAgICByYXdUYWJsZVtJbmxpbmVGb3JlaWduS2V5c10ucHVzaCguLi5jb2xCdWlsZGVyLmJ1aWxkRm9yZWlnbktleXMoY29sdW1uLCByYXdUYWJsZSkpO1xuICAgICAgICByZXR1cm4gW25hbWUsIGNvbHVtbl07XG4gICAgfSkpO1xuICAgIGNvbnN0IHRhYmxlID0gT2JqZWN0LmFzc2lnbihyYXdUYWJsZSwgYnVpbHRDb2x1bW5zKTtcbiAgICB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc10gPSBidWlsdENvbHVtbnM7XG4gICAgaWYgKGV4dHJhQ29uZmlnKSB7XG4gICAgICAgIHRhYmxlW1BnVGFibGUuU3ltYm9sLkV4dHJhQ29uZmlnQnVpbGRlcl0gPSBleHRyYUNvbmZpZztcbiAgICB9XG4gICAgcmV0dXJuIHRhYmxlO1xufVxuY29uc3QgcGdUYWJsZSA9IChuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZykgPT4ge1xuICAgIHJldHVybiBwZ1RhYmxlV2l0aFNjaGVtYShuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZywgdW5kZWZpbmVkKTtcbn07XG5mdW5jdGlvbiBwZ1RhYmxlQ3JlYXRvcihjdXN0b21pemVUYWJsZU5hbWUpIHtcbiAgICByZXR1cm4gKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnKSA9PiB7XG4gICAgICAgIHJldHVybiBwZ1RhYmxlV2l0aFNjaGVtYShjdXN0b21pemVUYWJsZU5hbWUobmFtZSksIGNvbHVtbnMsIGV4dHJhQ29uZmlnLCB1bmRlZmluZWQsIG5hbWUpO1xuICAgIH07XG59XG5cbmNvbnN0IFZpZXdCYXNlQ29uZmlnID0gU3ltYm9sLmZvcignZHJpenpsZTpWaWV3QmFzZUNvbmZpZycpO1xuY2xhc3MgVmlldyB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdWaWV3JztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgW1ZpZXdCYXNlQ29uZmlnXTtcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIHNjaGVtYSwgc2VsZWN0ZWRGaWVsZHMsIHF1ZXJ5IH0pIHtcbiAgICAgICAgdGhpc1tWaWV3QmFzZUNvbmZpZ10gPSB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgb3JpZ2luYWxOYW1lOiBuYW1lLFxuICAgICAgICAgICAgc2NoZW1hLFxuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZHMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICBpc0V4aXN0aW5nOiAhcXVlcnksXG4gICAgICAgICAgICBpc0FsaWFzOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIEZvcmVpZ25LZXlCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnRm9yZWlnbktleUJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICByZWZlcmVuY2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vblVwZGF0ZSA9ICdubyBhY3Rpb24nO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb25EZWxldGUgPSAnbm8gYWN0aW9uJztcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIGFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGNvbHVtbnMsIGZvcmVpZ25Db2x1bW5zIH0gPSBjb25maWcoKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNvbHVtbnMsIGZvcmVpZ25UYWJsZTogZm9yZWlnbkNvbHVtbnNbMF0udGFibGUsIGZvcmVpZ25Db2x1bW5zIH07XG4gICAgICAgIH07XG4gICAgICAgIGlmIChhY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLl9vblVwZGF0ZSA9IGFjdGlvbnMub25VcGRhdGU7XG4gICAgICAgICAgICB0aGlzLl9vbkRlbGV0ZSA9IGFjdGlvbnMub25EZWxldGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25VcGRhdGUoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX29uVXBkYXRlID0gYWN0aW9uID09PSB1bmRlZmluZWQgPyAnbm8gYWN0aW9uJyA6IGFjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG9uRGVsZXRlKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9vbkRlbGV0ZSA9IGFjdGlvbiA9PT0gdW5kZWZpbmVkID8gJ25vIGFjdGlvbicgOiBhY3Rpb247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGb3JlaWduS2V5KHRhYmxlLCB0aGlzKTtcbiAgICB9XG59XG5jbGFzcyBGb3JlaWduS2V5IHtcbiAgICB0YWJsZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnRm9yZWlnbktleSc7XG4gICAgcmVmZXJlbmNlO1xuICAgIG9uVXBkYXRlO1xuICAgIG9uRGVsZXRlO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBidWlsZGVyKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSBidWlsZGVyLnJlZmVyZW5jZTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IGJ1aWxkZXIuX29uVXBkYXRlO1xuICAgICAgICB0aGlzLm9uRGVsZXRlID0gYnVpbGRlci5fb25EZWxldGU7XG4gICAgfVxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHsgY29sdW1ucywgZm9yZWlnbkNvbHVtbnMgfSA9IHRoaXMucmVmZXJlbmNlKCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbk5hbWVzID0gY29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpO1xuICAgICAgICBjb25zdCBmb3JlaWduQ29sdW1uTmFtZXMgPSBmb3JlaWduQ29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpO1xuICAgICAgICBjb25zdCBjaHVua3MgPSBbXG4gICAgICAgICAgICB0aGlzLnRhYmxlW1BnVGFibGUuU3ltYm9sLk5hbWVdLFxuICAgICAgICAgICAgLi4uY29sdW1uTmFtZXMsXG4gICAgICAgICAgICBmb3JlaWduQ29sdW1uc1swXS50YWJsZVtQZ1RhYmxlLlN5bWJvbC5OYW1lXSxcbiAgICAgICAgICAgIC4uLmZvcmVpZ25Db2x1bW5OYW1lcyxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIGAke2NodW5rcy5qb2luKCdfJyl9X2ZrYDtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JlaWduS2V5KGNvbmZpZykge1xuICAgIGZ1bmN0aW9uIG1hcHBlZENvbmZpZygpIHtcbiAgICAgICAgY29uc3QgeyBjb2x1bW5zLCBmb3JlaWduQ29sdW1ucyB9ID0gY29uZmlnO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29sdW1ucyxcbiAgICAgICAgICAgIGZvcmVpZ25Db2x1bW5zLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZvcmVpZ25LZXlCdWlsZGVyKG1hcHBlZENvbmZpZyk7XG59XG5cbmNsYXNzIEluZGV4QnVpbGRlck9uIHtcbiAgICB1bmlxdWU7XG4gICAgbmFtZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnSW5kZXhCdWlsZGVyT24nO1xuICAgIGNvbnN0cnVjdG9yKHVuaXF1ZSwgbmFtZSkge1xuICAgICAgICB0aGlzLnVuaXF1ZSA9IHVuaXF1ZTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgb24oLi4uY29sdW1ucykge1xuICAgICAgICByZXR1cm4gbmV3IEluZGV4QnVpbGRlcihjb2x1bW5zLCB0aGlzLnVuaXF1ZSwgZmFsc2UsIHRoaXMubmFtZSk7XG4gICAgfVxuICAgIG9uT25seSguLi5jb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhCdWlsZGVyKGNvbHVtbnMsIHRoaXMudW5pcXVlLCB0cnVlLCB0aGlzLm5hbWUpO1xuICAgIH1cbn1cbmNsYXNzIEluZGV4QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0luZGV4QnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGNvbmZpZztcbiAgICBjb25zdHJ1Y3Rvcihjb2x1bW5zLCB1bmlxdWUsIG9ubHksIG5hbWUpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgY29sdW1ucyxcbiAgICAgICAgICAgIHVuaXF1ZSxcbiAgICAgICAgICAgIG9ubHksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbmN1cnJlbnRseSgpIHtcbiAgICAgICAgdGhpcy5jb25maWcuY29uY3VycmVudGx5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHVzaW5nKG1ldGhvZCkge1xuICAgICAgICB0aGlzLmNvbmZpZy51c2luZyA9IG1ldGhvZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFzYygpIHtcbiAgICAgICAgdGhpcy5jb25maWcub3JkZXIgPSAnYXNjJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRlc2MoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm9yZGVyID0gJ2Rlc2MnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgbnVsbHNGaXJzdCgpIHtcbiAgICAgICAgdGhpcy5jb25maWcubnVsbHMgPSAnZmlyc3QnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgbnVsbHNMYXN0KCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5udWxscyA9ICdsYXN0JztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdoZXJlKGNvbmRpdGlvbikge1xuICAgICAgICB0aGlzLmNvbmZpZy53aGVyZSA9IGNvbmRpdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IEluZGV4KHRoaXMuY29uZmlnLCB0YWJsZSk7XG4gICAgfVxufVxuY2xhc3MgSW5kZXgge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdJbmRleCc7XG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7IC4uLmNvbmZpZywgdGFibGUgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbmRleChuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleEJ1aWxkZXJPbihmYWxzZSwgbmFtZSk7XG59XG5mdW5jdGlvbiB1bmlxdWVJbmRleChuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleEJ1aWxkZXJPbih0cnVlLCBuYW1lKTtcbn1cblxuZnVuY3Rpb24gcHJpbWFyeUtleSguLi5jb2x1bW5zKSB7XG4gICAgcmV0dXJuIG5ldyBQcmltYXJ5S2V5QnVpbGRlcihjb2x1bW5zKTtcbn1cbmNsYXNzIFByaW1hcnlLZXlCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnUHJpbWFyeUtleUJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb2x1bW5zO1xuICAgIGNvbnN0cnVjdG9yKGNvbHVtbnMpIHtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJpbWFyeUtleSh0YWJsZSwgdGhpcy5jb2x1bW5zKTtcbiAgICB9XG59XG5jbGFzcyBQcmltYXJ5S2V5IHtcbiAgICB0YWJsZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnUHJpbWFyeUtleSc7XG4gICAgY29sdW1ucztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29sdW1ucykge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgfVxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnRhYmxlW1BnVGFibGUuU3ltYm9sLk5hbWVdfV8ke3RoaXMuY29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpLmpvaW4oJ18nKX1fcGtgO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdW5pcXVlKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFVuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXIobmFtZSk7XG59XG5mdW5jdGlvbiB1bmlxdWVLZXlOYW1lKHRhYmxlLCBjb2x1bW5zKSB7XG4gICAgcmV0dXJuIGAke3RhYmxlW1BnVGFibGUuU3ltYm9sLk5hbWVdfV8ke2NvbHVtbnMuam9pbignXycpfV91bmlxdWVgO1xufVxuY2xhc3MgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIge1xuICAgIG5hbWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ1VuaXF1ZUNvbnN0cmFpbnRCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgY29sdW1ucztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgbnVsbHNOb3REaXN0aW5jdENvbmZpZyA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKGNvbHVtbnMsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICB9XG4gICAgbnVsbHNOb3REaXN0aW5jdCgpIHtcbiAgICAgICAgdGhpcy5udWxsc05vdERpc3RpbmN0Q29uZmlnID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFVuaXF1ZUNvbnN0cmFpbnQodGFibGUsIHRoaXMuY29sdW1ucywgdGhpcy5udWxsc05vdERpc3RpbmN0Q29uZmlnLCB0aGlzLm5hbWUpO1xuICAgIH1cbn1cbmNsYXNzIFVuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgbmFtZTtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIG9uKC4uLmNvbHVtbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbmlxdWVDb25zdHJhaW50QnVpbGRlcihjb2x1bW5zLCB0aGlzLm5hbWUpO1xuICAgIH1cbn1cbmNsYXNzIFVuaXF1ZUNvbnN0cmFpbnQge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdVbmlxdWVDb25zdHJhaW50JztcbiAgICBjb2x1bW5zO1xuICAgIG5hbWU7XG4gICAgbnVsbHNOb3REaXN0aW5jdCA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb2x1bW5zLCBudWxsc05vdERpc3RpbmN0LCBuYW1lKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZSA/PyB1bmlxdWVLZXlOYW1lKHRoaXMudGFibGUsIHRoaXMuY29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpKTtcbiAgICAgICAgdGhpcy5udWxsc05vdERpc3RpbmN0ID0gbnVsbHNOb3REaXN0aW5jdDtcbiAgICB9XG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG59XG5cbmNvbnN0IFN1YnF1ZXJ5Q29uZmlnID0gU3ltYm9sLmZvcignZHJpenpsZTpTdWJxdWVyeUNvbmZpZycpO1xuY2xhc3MgU3VicXVlcnkge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU3VicXVlcnknO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBbU3VicXVlcnlDb25maWddO1xuICAgIGNvbnN0cnVjdG9yKHNxbCwgc2VsZWN0aW9uLCBhbGlhcywgaXNXaXRoID0gZmFsc2UpIHtcbiAgICAgICAgdGhpc1tTdWJxdWVyeUNvbmZpZ10gPSB7XG4gICAgICAgICAgICBzcWwsXG4gICAgICAgICAgICBzZWxlY3Rpb24sXG4gICAgICAgICAgICBhbGlhcyxcbiAgICAgICAgICAgIGlzV2l0aCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5jbGFzcyBXaXRoU3VicXVlcnkgZXh0ZW5kcyBTdWJxdWVyeSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdXaXRoU3VicXVlcnknO1xufVxuY2xhc3MgU2VsZWN0aW9uUHJveHlIYW5kbGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NlbGVjdGlvblByb3h5SGFuZGxlcic7XG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHsgLi4uY29uZmlnIH07XG4gICAgfVxuICAgIGdldChzdWJxdWVyeSwgcHJvcCkge1xuICAgICAgICBpZiAocHJvcCA9PT0gU3VicXVlcnlDb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3VicXVlcnlbU3VicXVlcnlDb25maWddLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogbmV3IFByb3h5KHN1YnF1ZXJ5W1N1YnF1ZXJ5Q29uZmlnXS5zZWxlY3Rpb24sIHRoaXMpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcCA9PT0gVmlld0Jhc2VDb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3VicXVlcnlbVmlld0Jhc2VDb25maWddLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiBuZXcgUHJveHkoc3VicXVlcnlbVmlld0Jhc2VDb25maWddLnNlbGVjdGVkRmllbGRzLCB0aGlzKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnF1ZXJ5W3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSBpcyhzdWJxdWVyeSwgU3VicXVlcnkpXG4gICAgICAgICAgICA/IHN1YnF1ZXJ5W1N1YnF1ZXJ5Q29uZmlnXS5zZWxlY3Rpb25cbiAgICAgICAgICAgIDogaXMoc3VicXVlcnksIFZpZXcpXG4gICAgICAgICAgICAgICAgPyBzdWJxdWVyeVtWaWV3QmFzZUNvbmZpZ10uc2VsZWN0ZWRGaWVsZHNcbiAgICAgICAgICAgICAgICA6IHN1YnF1ZXJ5O1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbHVtbnNbcHJvcF07XG4gICAgICAgIGlmIChpcyh2YWx1ZSwgU1FMLkFsaWFzZWQpKSB7XG4gICAgICAgICAgICAvLyBOZXZlciByZXR1cm4gdGhlIHVuZGVybHlpbmcgU1FMIGV4cHJlc3Npb24gZm9yIGEgZmllbGQgcHJldmlvdXNseSBzZWxlY3RlZCBpbiBhIHN1YnF1ZXJ5XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc3FsQWxpYXNlZEJlaGF2aW9yID09PSAnc3FsJyAmJiAhdmFsdWUuaXNTZWxlY3Rpb25GaWVsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zcWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlLmNsb25lKCk7XG4gICAgICAgICAgICBuZXdWYWx1ZS5pc1NlbGVjdGlvbkZpZWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXModmFsdWUsIFNRTCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5zcWxCZWhhdmlvciA9PT0gJ3NxbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFlvdSB0cmllZCB0byByZWZlcmVuY2UgXCIke3Byb3B9XCIgZmllbGQgZnJvbSBhIHN1YnF1ZXJ5LCB3aGljaCBpcyBhIHJhdyBTUUwgZmllbGQsIGJ1dCBpdCBkb2Vzbid0IGhhdmUgYW4gYWxpYXMgZGVjbGFyZWQuIFBsZWFzZSBhZGQgYW4gYWxpYXMgdG8gdGhlIGZpZWxkIHVzaW5nIFwiLmFzKCdhbGlhcycpXCIgbWV0aG9kLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcyh2YWx1ZSwgQ29sdW1uKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmFsaWFzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgbmV3IENvbHVtbkFsaWFzUHJveHlIYW5kbGVyKG5ldyBQcm94eSh2YWx1ZS50YWJsZSwgbmV3IFRhYmxlQWxpYXNQcm94eUhhbmRsZXIodGhpcy5jb25maWcuYWxpYXMsIHRoaXMuY29uZmlnLnJlcGxhY2VPcmlnaW5hbE5hbWUgPz8gZmFsc2UpKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih0aGlzLmNvbmZpZykpO1xuICAgIH1cbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gbWFwUmVzdWx0Um93KGNvbHVtbnMsIHJvdywgam9pbnNOb3ROdWxsYWJsZU1hcCkge1xuICAgIC8vIEtleSAtPiBuZXN0ZWQgb2JqZWN0IGtleSwgdmFsdWUgLT4gdGFibGUgbmFtZSBpZiBhbGwgZmllbGRzIGluIHRoZSBuZXN0ZWQgb2JqZWN0IGFyZSBmcm9tIHRoZSBzYW1lIHRhYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAgICBjb25zdCBudWxsaWZ5TWFwID0ge307XG4gICAgY29uc3QgcmVzdWx0ID0gY29sdW1ucy5yZWR1Y2UoKHJlc3VsdCwgeyBwYXRoLCBmaWVsZCB9LCBjb2x1bW5JbmRleCkgPT4ge1xuICAgICAgICBsZXQgZGVjb2RlcjtcbiAgICAgICAgaWYgKGlzKGZpZWxkLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICBkZWNvZGVyID0gZmllbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXMoZmllbGQsIFNRTCkpIHtcbiAgICAgICAgICAgIGRlY29kZXIgPSBmaWVsZC5kZWNvZGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVjb2RlciA9IGZpZWxkLnNxbC5kZWNvZGVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0O1xuICAgICAgICBmb3IgKGNvbnN0IFtwYXRoQ2h1bmtJbmRleCwgcGF0aENodW5rXSBvZiBwYXRoLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHBhdGhDaHVua0luZGV4IDwgcGF0aC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEocGF0aENodW5rIGluIG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVbcGF0aENodW5rXSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZVtwYXRoQ2h1bmtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3VmFsdWUgPSByb3dbY29sdW1uSW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZVtwYXRoQ2h1bmtdID0gcmF3VmFsdWUgPT09IG51bGwgPyBudWxsIDogZGVjb2Rlci5tYXBGcm9tRHJpdmVyVmFsdWUocmF3VmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChqb2luc05vdE51bGxhYmxlTWFwICYmIGlzKGZpZWxkLCBDb2x1bW4pICYmIHBhdGgubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iamVjdE5hbWUgPSBwYXRoWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShvYmplY3ROYW1lIGluIG51bGxpZnlNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsaWZ5TWFwW29iamVjdE5hbWVdID0gdmFsdWUgPT09IG51bGwgPyBnZXRUYWJsZU5hbWUoZmllbGQudGFibGUpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG51bGxpZnlNYXBbb2JqZWN0TmFtZV0gPT09ICdzdHJpbmcnICYmIG51bGxpZnlNYXBbb2JqZWN0TmFtZV0gIT09IGdldFRhYmxlTmFtZShmaWVsZC50YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGxpZnlNYXBbb2JqZWN0TmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHt9KTtcbiAgICAvLyBOdWxsaWZ5IGFsbCBuZXN0ZWQgb2JqZWN0cyBmcm9tIG51bGxpZnlNYXAgdGhhdCBhcmUgbnVsbGFibGVcbiAgICBpZiAoam9pbnNOb3ROdWxsYWJsZU1hcCAmJiBPYmplY3Qua2V5cyhudWxsaWZ5TWFwKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgW29iamVjdE5hbWUsIHRhYmxlTmFtZV0gb2YgT2JqZWN0LmVudHJpZXMobnVsbGlmeU1hcCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFibGVOYW1lID09PSAnc3RyaW5nJyAmJiAham9pbnNOb3ROdWxsYWJsZU1hcFt0YWJsZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W29iamVjdE5hbWVdID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gb3JkZXJTZWxlY3RlZEZpZWxkcyhmaWVsZHMsIHBhdGhQcmVmaXgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZmllbGRzKS5yZWR1Y2UoKHJlc3VsdCwgW25hbWUsIGZpZWxkXSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1BhdGggPSBwYXRoUHJlZml4ID8gWy4uLnBhdGhQcmVmaXgsIG5hbWVdIDogW25hbWVdO1xuICAgICAgICBpZiAoaXMoZmllbGQsIENvbHVtbikgfHwgaXMoZmllbGQsIFNRTCkgfHwgaXMoZmllbGQsIFNRTC5BbGlhc2VkKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXRoOiBuZXdQYXRoLCBmaWVsZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhmaWVsZCwgVGFibGUpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCguLi5vcmRlclNlbGVjdGVkRmllbGRzKGZpZWxkW1RhYmxlLlN5bWJvbC5Db2x1bW5zXSwgbmV3UGF0aCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goLi4ub3JkZXJTZWxlY3RlZEZpZWxkcyhmaWVsZCwgbmV3UGF0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwgW10pO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gbWFwVXBkYXRlU2V0KHRhYmxlLCB2YWx1ZXMpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModmFsdWVzKVxuICAgICAgICAuZmlsdGVyKChbLCB2YWx1ZV0pID0+IHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItdGVybmFyeVxuICAgICAgICBpZiAoaXModmFsdWUsIFNRTCkpIHtcbiAgICAgICAgICAgIHJldHVybiBba2V5LCB2YWx1ZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW2tleSwgbmV3IFBhcmFtKHZhbHVlLCB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc11ba2V5XSldO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsdWVzIHRvIHNldCcpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gYXBwbHlNaXhpbnMoYmFzZUNsYXNzLCBleHRlbmRlZENsYXNzZXMpIHtcbiAgICBmb3IgKGNvbnN0IGV4dGVuZGVkQ2xhc3Mgb2YgZXh0ZW5kZWRDbGFzc2VzKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhleHRlbmRlZENsYXNzLnByb3RvdHlwZSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiYXNlQ2xhc3MucHJvdG90eXBlLCBuYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGV4dGVuZGVkQ2xhc3MucHJvdG90eXBlLCBuYW1lKSB8fCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRhYmxlQ29sdW1ucyh0YWJsZSkge1xuICAgIHJldHVybiB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc107XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBnZXRUYWJsZUxpa2VOYW1lKHRhYmxlKSB7XG4gICAgcmV0dXJuIGlzKHRhYmxlLCBTdWJxdWVyeSlcbiAgICAgICAgPyB0YWJsZVtTdWJxdWVyeUNvbmZpZ10uYWxpYXNcbiAgICAgICAgOiBpcyh0YWJsZSwgVmlldylcbiAgICAgICAgICAgID8gdGFibGVbVmlld0Jhc2VDb25maWddLm5hbWVcbiAgICAgICAgICAgIDogaXModGFibGUsIFNRTClcbiAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIDogdGFibGVbVGFibGUuU3ltYm9sLklzQWxpYXNdXG4gICAgICAgICAgICAgICAgICAgID8gdGFibGVbVGFibGUuU3ltYm9sLk5hbWVdXG4gICAgICAgICAgICAgICAgICAgIDogdGFibGVbVGFibGUuU3ltYm9sLkJhc2VOYW1lXTtcbn1cbmZ1bmN0aW9uIGlpZmUoZm4sIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gZm4oLi4uYXJncyk7XG59XG5cbmNsYXNzIFF1ZXJ5UHJvbWlzZSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdRdWVyeVByb21pc2UnO1xuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ1F1ZXJ5UHJvbWlzZSc7XG4gICAgY2F0Y2gob25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICAgIGZpbmFsbHkob25GaW5hbGx5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBvbkZpbmFsbHk/LigpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LCAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBvbkZpbmFsbHk/LigpO1xuICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlKCkudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5jb25zdCB0cmFjZXIgPSB7XG4gICAgc3RhcnRBY3RpdmVTcGFuKG5hbWUsIGZuKSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbmNsYXNzIFBnRGlhbGVjdCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RpYWxlY3QnO1xuICAgIGFzeW5jIG1pZ3JhdGUobWlncmF0aW9ucywgc2Vzc2lvbikge1xuICAgICAgICBjb25zdCBtaWdyYXRpb25UYWJsZUNyZWF0ZSA9IHNxbCBgXG5cdFx0XHRDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcImRyaXp6bGVcIi5cIl9fZHJpenpsZV9taWdyYXRpb25zXCIgKFxuXHRcdFx0XHRpZCBTRVJJQUwgUFJJTUFSWSBLRVksXG5cdFx0XHRcdGhhc2ggdGV4dCBOT1QgTlVMTCxcblx0XHRcdFx0Y3JlYXRlZF9hdCBiaWdpbnRcblx0XHRcdClcblx0XHRgO1xuICAgICAgICBhd2FpdCBzZXNzaW9uLmV4ZWN1dGUoc3FsIGBDUkVBVEUgU0NIRU1BIElGIE5PVCBFWElTVFMgXCJkcml6emxlXCJgKTtcbiAgICAgICAgYXdhaXQgc2Vzc2lvbi5leGVjdXRlKG1pZ3JhdGlvblRhYmxlQ3JlYXRlKTtcbiAgICAgICAgY29uc3QgZGJNaWdyYXRpb25zID0gYXdhaXQgc2Vzc2lvbi5hbGwoc3FsIGBzZWxlY3QgaWQsIGhhc2gsIGNyZWF0ZWRfYXQgZnJvbSBcImRyaXp6bGVcIi5cIl9fZHJpenpsZV9taWdyYXRpb25zXCIgb3JkZXIgYnkgY3JlYXRlZF9hdCBkZXNjIGxpbWl0IDFgKTtcbiAgICAgICAgY29uc3QgbGFzdERiTWlncmF0aW9uID0gZGJNaWdyYXRpb25zWzBdO1xuICAgICAgICBhd2FpdCBzZXNzaW9uLnRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtaWdyYXRpb24gb2YgbWlncmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICghbGFzdERiTWlncmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHx8IE51bWJlcihsYXN0RGJNaWdyYXRpb24uY3JlYXRlZF9hdCkgPCBtaWdyYXRpb24uZm9sZGVyTWlsbGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3RtdCBvZiBtaWdyYXRpb24uc3FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0eC5leGVjdXRlKHNxbC5yYXcoc3RtdCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LmV4ZWN1dGUoc3FsIGBpbnNlcnQgaW50byBcImRyaXp6bGVcIi5cIl9fZHJpenpsZV9taWdyYXRpb25zXCIgKFwiaGFzaFwiLCBcImNyZWF0ZWRfYXRcIikgdmFsdWVzKCR7bWlncmF0aW9uLmhhc2h9LCAke21pZ3JhdGlvbi5mb2xkZXJNaWxsaXN9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVzY2FwZU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gYFwiJHtuYW1lfVwiYDtcbiAgICB9XG4gICAgZXNjYXBlUGFyYW0obnVtKSB7XG4gICAgICAgIHJldHVybiBgJCR7bnVtICsgMX1gO1xuICAgIH1cbiAgICBlc2NhcGVTdHJpbmcoc3RyKSB7XG4gICAgICAgIHJldHVybiBgJyR7c3RyLnJlcGxhY2UoLycvZywgXCInJ1wiKX0nYDtcbiAgICB9XG4gICAgYnVpbGREZWxldGVRdWVyeSh7IHRhYmxlLCB3aGVyZSwgcmV0dXJuaW5nIH0pIHtcbiAgICAgICAgY29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG4gICAgICAgICAgICA/IHNxbCBgIHJldHVybmluZyAke3RoaXMuYnVpbGRTZWxlY3Rpb24ocmV0dXJuaW5nLCB7IGlzU2luZ2xlVGFibGU6IHRydWUgfSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHdoZXJlU3FsID0gd2hlcmUgPyBzcWwgYCB3aGVyZSAke3doZXJlfWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYGRlbGV0ZSBmcm9tICR7dGFibGV9JHt3aGVyZVNxbH0ke3JldHVybmluZ1NxbH1gO1xuICAgIH1cbiAgICBidWlsZFVwZGF0ZVNldCh0YWJsZSwgc2V0KSB7XG4gICAgICAgIGNvbnN0IHNldEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzZXQpO1xuICAgICAgICBjb25zdCBzZXRTaXplID0gc2V0RW50cmllcy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBzcWwuZnJvbUxpc3Qoc2V0RW50cmllc1xuICAgICAgICAgICAgLmZsYXRNYXAoKFtjb2xOYW1lLCB2YWx1ZV0sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXVtjb2xOYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHNxbCBgJHtuYW1lKGNvbC5uYW1lKX0gPSAke3ZhbHVlfWA7XG4gICAgICAgICAgICBpZiAoaSA8IHNldFNpemUgLSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZXMsIHNxbC5yYXcoJywgJyldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtyZXNdO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGJ1aWxkVXBkYXRlUXVlcnkoeyB0YWJsZSwgc2V0LCB3aGVyZSwgcmV0dXJuaW5nIH0pIHtcbiAgICAgICAgY29uc3Qgc2V0U3FsID0gdGhpcy5idWlsZFVwZGF0ZVNldCh0YWJsZSwgc2V0KTtcbiAgICAgICAgY29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG4gICAgICAgICAgICA/IHNxbCBgIHJldHVybmluZyAke3RoaXMuYnVpbGRTZWxlY3Rpb24ocmV0dXJuaW5nLCB7IGlzU2luZ2xlVGFibGU6IHRydWUgfSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHdoZXJlU3FsID0gd2hlcmUgPyBzcWwgYCB3aGVyZSAke3doZXJlfWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYHVwZGF0ZSAke3RhYmxlfSBzZXQgJHtzZXRTcWx9JHt3aGVyZVNxbH0ke3JldHVybmluZ1NxbH1gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgc2VsZWN0aW9uIFNRTCB3aXRoIHByb3ZpZGVkIGZpZWxkcy9leHByZXNzaW9uc1xuICAgICAqXG4gICAgICogRXhhbXBsZXM6XG4gICAgICpcbiAgICAgKiBgc2VsZWN0IDxzZWxlY3Rpb24+IGZyb21gXG4gICAgICpcbiAgICAgKiBgaW5zZXJ0IC4uLiByZXR1cm5pbmcgPHNlbGVjdGlvbj5gXG4gICAgICpcbiAgICAgKiBJZiBgaXNTaW5nbGVUYWJsZWAgaXMgdHJ1ZSwgdGhlbiBjb2x1bW5zIHdvbid0IGJlIHByZWZpeGVkIHdpdGggdGFibGUgbmFtZVxuICAgICAqL1xuICAgIGJ1aWxkU2VsZWN0aW9uKGZpZWxkcywgeyBpc1NpbmdsZVRhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNvbHVtbnNMZW4gPSBmaWVsZHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaHVua3MgPSBmaWVsZHNcbiAgICAgICAgICAgIC5mbGF0TWFwKCh7IGZpZWxkIH0sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gW107XG4gICAgICAgICAgICBpZiAoaXMoZmllbGQsIFNRTC5BbGlhc2VkKSAmJiBmaWVsZC5pc1NlbGVjdGlvbkZpZWxkKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwuaWRlbnRpZmllcihmaWVsZC5maWVsZEFsaWFzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhmaWVsZCwgU1FMLkFsaWFzZWQpIHx8IGlzKGZpZWxkLCBTUUwpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBpcyhmaWVsZCwgU1FMLkFsaWFzZWQpID8gZmllbGQuc3FsIDogZmllbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2luZ2xlVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChuZXcgU1FMKHF1ZXJ5LnF1ZXJ5Q2h1bmtzLm1hcCgoYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzKGMsIFBnQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lKGMubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rLnB1c2gocXVlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXMoZmllbGQsIFNRTC5BbGlhc2VkKSkge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKHNxbCBgIGFzICR7c3FsLmlkZW50aWZpZXIoZmllbGQuZmllbGRBbGlhcyl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoZmllbGQsIENvbHVtbikpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTaW5nbGVUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKHNxbC5pZGVudGlmaWVyKGZpZWxkLm5hbWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpIDwgY29sdW1uc0xlbiAtIDEpIHtcbiAgICAgICAgICAgICAgICBjaHVuay5wdXNoKHNxbCBgLCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaHVuaztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzcWwuZnJvbUxpc3QoY2h1bmtzKTtcbiAgICB9XG4gICAgYnVpbGRTZWxlY3RRdWVyeSh7IHdpdGhMaXN0LCBmaWVsZHMsIGZpZWxkc0ZsYXQsIHdoZXJlLCBoYXZpbmcsIHRhYmxlLCBqb2lucywgb3JkZXJCeSwgZ3JvdXBCeSwgbGltaXQsIG9mZnNldCwgbG9ja2luZ0NsYXVzZXMsIGRpc3RpbmN0LCB9KSB7XG4gICAgICAgIGNvbnN0IGZpZWxkc0xpc3QgPSBmaWVsZHNGbGF0ID8/IG9yZGVyU2VsZWN0ZWRGaWVsZHMoZmllbGRzKTtcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIGZpZWxkc0xpc3QpIHtcbiAgICAgICAgICAgIGlmIChpcyhmLmZpZWxkLCBDb2x1bW4pXG4gICAgICAgICAgICAgICAgJiYgZ2V0VGFibGVOYW1lKGYuZmllbGQudGFibGUpXG4gICAgICAgICAgICAgICAgICAgICE9PSAoaXModGFibGUsIFN1YnF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0YWJsZVtTdWJxdWVyeUNvbmZpZ10uYWxpYXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXModGFibGUsIFBnVmlld0Jhc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0YWJsZVtWaWV3QmFzZUNvbmZpZ10ubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXModGFibGUsIFNRTClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUYWJsZU5hbWUodGFibGUpKVxuICAgICAgICAgICAgICAgICYmICEoKHRhYmxlKSA9PiBqb2lucy5zb21lKCh7IGFsaWFzIH0pID0+IGFsaWFzID09PSAodGFibGVbVGFibGUuU3ltYm9sLklzQWxpYXNdID8gZ2V0VGFibGVOYW1lKHRhYmxlKSA6IHRhYmxlW1RhYmxlLlN5bWJvbC5CYXNlTmFtZV0pKSkoZi5maWVsZC50YWJsZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJsZU5hbWUgPSBnZXRUYWJsZU5hbWUoZi5maWVsZC50YWJsZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBZb3VyIFwiJHtmLnBhdGguam9pbignLT4nKX1cIiBmaWVsZCByZWZlcmVuY2VzIGEgY29sdW1uIFwiJHt0YWJsZU5hbWV9XCIuXCIke2YuZmllbGQubmFtZX1cIiwgYnV0IHRoZSB0YWJsZSBcIiR7dGFibGVOYW1lfVwiIGlzIG5vdCBwYXJ0IG9mIHRoZSBxdWVyeSEgRGlkIHlvdSBmb3JnZXQgdG8gam9pbiBpdD9gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1NpbmdsZVRhYmxlID0gam9pbnMubGVuZ3RoID09PSAwO1xuICAgICAgICBsZXQgd2l0aFNxbDtcbiAgICAgICAgaWYgKHdpdGhMaXN0Py5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHdpdGhTcWxDaHVua3MgPSBbc3FsIGB3aXRoIGBdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaSwgd10gb2Ygd2l0aExpc3QuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgd2l0aFNxbENodW5rcy5wdXNoKHNxbCBgJHtuYW1lKHdbU3VicXVlcnlDb25maWddLmFsaWFzKX0gYXMgKCR7d1tTdWJxdWVyeUNvbmZpZ10uc3FsfSlgKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA8IHdpdGhMaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2l0aFNxbENodW5rcy5wdXNoKHNxbCBgLCBgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aXRoU3FsQ2h1bmtzLnB1c2goc3FsIGAgYCk7XG4gICAgICAgICAgICB3aXRoU3FsID0gc3FsLmZyb21MaXN0KHdpdGhTcWxDaHVua3MpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXN0aW5jdFNxbDtcbiAgICAgICAgaWYgKGRpc3RpbmN0KSB7XG4gICAgICAgICAgICBkaXN0aW5jdFNxbCA9IGRpc3RpbmN0ID09PSB0cnVlID8gc3FsIGAgZGlzdGluY3RgIDogc3FsIGAgZGlzdGluY3Qgb24gKCR7c3FsLmpvaW4oZGlzdGluY3Qub24sICcsICcpfSlgO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuYnVpbGRTZWxlY3Rpb24oZmllbGRzTGlzdCwgeyBpc1NpbmdsZVRhYmxlIH0pO1xuICAgICAgICBjb25zdCB0YWJsZVNxbCA9ICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXModGFibGUsIFRhYmxlKSAmJiB0YWJsZVtUYWJsZS5TeW1ib2wuT3JpZ2luYWxOYW1lXSAhPT0gdGFibGVbVGFibGUuU3ltYm9sLk5hbWVdKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZ1bGxOYW1lID0gc3FsIGAke3NxbC5pZGVudGlmaWVyKHRhYmxlW1RhYmxlLlN5bWJvbC5PcmlnaW5hbE5hbWVdKX1gO1xuICAgICAgICAgICAgICAgIGlmICh0YWJsZVtUYWJsZS5TeW1ib2wuU2NoZW1hXSkge1xuICAgICAgICAgICAgICAgICAgICBmdWxsTmFtZSA9IHNxbCBgJHtzcWwuaWRlbnRpZmllcih0YWJsZVtUYWJsZS5TeW1ib2wuU2NoZW1hXSl9LiR7ZnVsbE5hbWV9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNxbCBgJHtmdWxsTmFtZX0gJHtzcWwuaWRlbnRpZmllcih0YWJsZVtUYWJsZS5TeW1ib2wuTmFtZV0pfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIGNvbnN0IGpvaW5zQXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGpvaW5NZXRhXSBvZiBqb2lucy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gam9pbk1ldGEudGFibGU7XG4gICAgICAgICAgICBpZiAoaXModGFibGUsIFBnVGFibGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFibGVOYW1lID0gdGFibGVbUGdUYWJsZS5TeW1ib2wuTmFtZV07XG4gICAgICAgICAgICAgICAgY29uc3QgdGFibGVTY2hlbWEgPSB0YWJsZVtQZ1RhYmxlLlN5bWJvbC5TY2hlbWFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdUYWJsZU5hbWUgPSB0YWJsZVtQZ1RhYmxlLlN5bWJvbC5PcmlnaW5hbE5hbWVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsaWFzID0gdGFibGVOYW1lID09PSBvcmlnVGFibGVOYW1lID8gdW5kZWZpbmVkIDogam9pbk1ldGEuYWxpYXM7XG4gICAgICAgICAgICAgICAgam9pbnNBcnJheS5wdXNoKHNxbCBgJHtzcWwucmF3KGpvaW5NZXRhLmpvaW5UeXBlKX0gam9pbiAke3RhYmxlU2NoZW1hID8gc3FsIGAke25hbWUodGFibGVTY2hlbWEpfS5gIDogdW5kZWZpbmVkfSR7c3FsLmlkZW50aWZpZXIob3JpZ1RhYmxlTmFtZSl9JHthbGlhcyAmJiBzcWwgYCAke25hbWUoYWxpYXMpfWB9IG9uICR7am9pbk1ldGEub259YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBqb2luc0FycmF5LnB1c2goc3FsIGAke3NxbC5yYXcoam9pbk1ldGEuam9pblR5cGUpfSBqb2luICR7dGFibGV9IG9uICR7am9pbk1ldGEub259YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXggPCBqb2lucy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgam9pbnNBcnJheS5wdXNoKHNxbCBgIGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGpvaW5zU3FsID0gc3FsLmZyb21MaXN0KGpvaW5zQXJyYXkpO1xuICAgICAgICBjb25zdCB3aGVyZVNxbCA9IHdoZXJlID8gc3FsIGAgd2hlcmUgJHt3aGVyZX1gIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBoYXZpbmdTcWwgPSBoYXZpbmcgPyBzcWwgYCBoYXZpbmcgJHtoYXZpbmd9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgb3JkZXJCeUxpc3QgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIG9yZGVyQnlWYWx1ZV0gb2Ygb3JkZXJCeS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIG9yZGVyQnlMaXN0LnB1c2gob3JkZXJCeVZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IG9yZGVyQnkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG9yZGVyQnlMaXN0LnB1c2goc3FsIGAsIGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yZGVyQnlTcWwgPSBvcmRlckJ5TGlzdC5sZW5ndGggPiAwID8gc3FsIGAgb3JkZXIgYnkgJHtzcWwuZnJvbUxpc3Qob3JkZXJCeUxpc3QpfWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGdyb3VwQnlMaXN0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBncm91cEJ5VmFsdWVdIG9mIGdyb3VwQnkuZW50cmllcygpKSB7XG4gICAgICAgICAgICBncm91cEJ5TGlzdC5wdXNoKGdyb3VwQnlWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCBncm91cEJ5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBncm91cEJ5TGlzdC5wdXNoKHNxbCBgLCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cEJ5U3FsID0gZ3JvdXBCeUxpc3QubGVuZ3RoID4gMCA/IHNxbCBgIGdyb3VwIGJ5ICR7c3FsLmZyb21MaXN0KGdyb3VwQnlMaXN0KX1gIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBsaW1pdFNxbCA9IGxpbWl0ID8gc3FsIGAgbGltaXQgJHtsaW1pdH1gIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBvZmZzZXRTcWwgPSBvZmZzZXQgPyBzcWwgYCBvZmZzZXQgJHtvZmZzZXR9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbG9ja2luZ0NsYXVzZXNTcWwgPSBzcWwuZW1wdHkoKTtcbiAgICAgICAgZm9yIChjb25zdCB7IHN0cmVuZ3RoLCBjb25maWcgfSBvZiBsb2NraW5nQ2xhdXNlcykge1xuICAgICAgICAgICAgY29uc3QgY2xhdXNlU3FsID0gc3FsIGAgZm9yICR7c3FsLnJhdyhzdHJlbmd0aCl9YDtcbiAgICAgICAgICAgIGlmIChjb25maWcub2YpIHtcbiAgICAgICAgICAgICAgICBjbGF1c2VTcWwuYXBwZW5kKHNxbCBgIG9mICR7Y29uZmlnLm9mfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZy5ub1dhaXQpIHtcbiAgICAgICAgICAgICAgICBjbGF1c2VTcWwuYXBwZW5kKHNxbCBgIG5vIHdhaXRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5za2lwTG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgY2xhdXNlU3FsLmFwcGVuZChzcWwgYCBza2lwIGxvY2tlZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9ja2luZ0NsYXVzZXNTcWwuYXBwZW5kKGNsYXVzZVNxbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNxbCBgJHt3aXRoU3FsfXNlbGVjdCR7ZGlzdGluY3RTcWx9ICR7c2VsZWN0aW9ufSBmcm9tICR7dGFibGVTcWx9JHtqb2luc1NxbH0ke3doZXJlU3FsfSR7Z3JvdXBCeVNxbH0ke2hhdmluZ1NxbH0ke29yZGVyQnlTcWx9JHtsaW1pdFNxbH0ke29mZnNldFNxbH0ke2xvY2tpbmdDbGF1c2VzU3FsfWA7XG4gICAgfVxuICAgIGJ1aWxkSW5zZXJ0UXVlcnkoeyB0YWJsZSwgdmFsdWVzLCBvbkNvbmZsaWN0LCByZXR1cm5pbmcgfSkge1xuICAgICAgICBjb25zdCBpc1NpbmdsZVZhbHVlID0gdmFsdWVzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgY29uc3QgdmFsdWVzU3FsTGlzdCA9IFtdO1xuICAgICAgICBjb25zdCBjb2x1bW5zID0gdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuICAgICAgICBjb25zdCBjb2xFbnRyaWVzID0gaXNTaW5nbGVWYWx1ZVxuICAgICAgICAgICAgPyBPYmplY3Qua2V5cyh2YWx1ZXNbMF0pLm1hcCgoZmllbGROYW1lKSA9PiBbZmllbGROYW1lLCBjb2x1bW5zW2ZpZWxkTmFtZV1dKVxuICAgICAgICAgICAgOiBPYmplY3QuZW50cmllcyhjb2x1bW5zKTtcbiAgICAgICAgY29uc3QgaW5zZXJ0T3JkZXIgPSBjb2xFbnRyaWVzLm1hcCgoWywgY29sdW1uXSkgPT4gbmFtZShjb2x1bW4ubmFtZSkpO1xuICAgICAgICBmb3IgKGNvbnN0IFt2YWx1ZUluZGV4LCB2YWx1ZV0gb2YgdmFsdWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVMaXN0ID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtmaWVsZE5hbWVdIG9mIGNvbEVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xWYWx1ZSA9IHZhbHVlW2ZpZWxkTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGNvbFZhbHVlID09PSB1bmRlZmluZWQgfHwgKGlzKGNvbFZhbHVlLCBQYXJhbSkgJiYgY29sVmFsdWUudmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVMaXN0LnB1c2goc3FsIGBkZWZhdWx0YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxpc3QucHVzaChjb2xWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzU3FsTGlzdC5wdXNoKHZhbHVlTGlzdCk7XG4gICAgICAgICAgICBpZiAodmFsdWVJbmRleCA8IHZhbHVlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzU3FsTGlzdC5wdXNoKHNxbCBgLCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZXNTcWwgPSBzcWwuZnJvbUxpc3QodmFsdWVzU3FsTGlzdCk7XG4gICAgICAgIGNvbnN0IHJldHVybmluZ1NxbCA9IHJldHVybmluZ1xuICAgICAgICAgICAgPyBzcWwgYCByZXR1cm5pbmcgJHt0aGlzLmJ1aWxkU2VsZWN0aW9uKHJldHVybmluZywgeyBpc1NpbmdsZVRhYmxlOiB0cnVlIH0pfWBcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBvbkNvbmZsaWN0U3FsID0gb25Db25mbGljdCA/IHNxbCBgIG9uIGNvbmZsaWN0ICR7b25Db25mbGljdH1gIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gc3FsIGBpbnNlcnQgaW50byAke3RhYmxlfSAke2luc2VydE9yZGVyfSB2YWx1ZXMgJHt2YWx1ZXNTcWx9JHtvbkNvbmZsaWN0U3FsfSR7cmV0dXJuaW5nU3FsfWA7XG4gICAgfVxuICAgIGJ1aWxkUmVmcmVzaE1hdGVyaWFsaXplZFZpZXdRdWVyeSh7IHZpZXcsIGNvbmN1cnJlbnRseSwgd2l0aE5vRGF0YSB9KSB7XG4gICAgICAgIGNvbnN0IGNvbmN1cnJlbnRseVNxbCA9IGNvbmN1cnJlbnRseSA/IHNxbCBgIGNvbmN1cnJlbnRseWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHdpdGhOb0RhdGFTcWwgPSB3aXRoTm9EYXRhID8gc3FsIGAgd2l0aCBubyBkYXRhYCA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHNxbCBgcmVmcmVzaCBtYXRlcmlhbGl6ZWQgdmlldyR7Y29uY3VycmVudGx5U3FsfSAke3ZpZXd9JHt3aXRoTm9EYXRhU3FsfWA7XG4gICAgfVxuICAgIHByZXBhcmVUeXBpbmcoZW5jb2Rlcikge1xuICAgICAgICBpZiAoaXMoZW5jb2RlciwgUGdKc29uYikgfHwgaXMoZW5jb2RlciwgUGdKc29uKSkge1xuICAgICAgICAgICAgcmV0dXJuICdqc29uJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhlbmNvZGVyLCBQZ051bWVyaWMpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2RlY2ltYWwnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKGVuY29kZXIsIFBnVGltZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAndGltZSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXMoZW5jb2RlciwgUGdUaW1lc3RhbXApKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RpbWVzdGFtcCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXMoZW5jb2RlciwgUGdEYXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuICdkYXRlJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhlbmNvZGVyLCBQZ1VVSUQpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3V1aWQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzcWxUb1F1ZXJ5KHNxbCkge1xuICAgICAgICByZXR1cm4gc3FsLnRvUXVlcnkoe1xuICAgICAgICAgICAgZXNjYXBlTmFtZTogdGhpcy5lc2NhcGVOYW1lLFxuICAgICAgICAgICAgZXNjYXBlUGFyYW06IHRoaXMuZXNjYXBlUGFyYW0sXG4gICAgICAgICAgICBlc2NhcGVTdHJpbmc6IHRoaXMuZXNjYXBlU3RyaW5nLFxuICAgICAgICAgICAgcHJlcGFyZVR5cGluZzogdGhpcy5wcmVwYXJlVHlwaW5nLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnVpbGRSZWxhdGlvbmFsUXVlcnkoZnVsbFNjaGVtYSwgc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCB0YWJsZSwgdGFibGVDb25maWcsIGNvbmZpZywgdGFibGVBbGlhcywgcmVsYXRpb25Db2x1bW5zLCBpc1Jvb3QgPSBmYWxzZSkge1xuICAgICAgICBpZiAoY29uZmlnID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25FbnRyaWVzID0gT2JqZWN0LmVudHJpZXModGFibGVDb25maWcuY29sdW1ucyk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBzZWxlY3Rpb25FbnRyaWVzLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoe1xuICAgICAgICAgICAgICAgIGRiS2V5OiB2YWx1ZS5uYW1lLFxuICAgICAgICAgICAgICAgIHRzS2V5OiBrZXksXG4gICAgICAgICAgICAgICAgZmllbGQ6IHZhbHVlLFxuICAgICAgICAgICAgICAgIHRhYmxlVHNLZXk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBpc0pzb246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogW10sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRhYmxlVHNLZXk6IHRhYmxlQ29uZmlnLnRzTmFtZSxcbiAgICAgICAgICAgICAgICBzcWw6IHRhYmxlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxpYXNlZENvbHVtbnMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGFibGVDb25maWcuY29sdW1ucykubWFwKChba2V5LCB2YWx1ZV0pID0+IFtrZXksIGFsaWFzZWRUYWJsZUNvbHVtbih2YWx1ZSwgdGFibGVBbGlhcyldKSk7XG4gICAgICAgIGNvbnN0IGFsaWFzZWRSZWxhdGlvbnMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGFibGVDb25maWcucmVsYXRpb25zKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW2tleSwgYWxpYXNlZFJlbGF0aW9uKHZhbHVlLCB0YWJsZUFsaWFzKV0pKTtcbiAgICAgICAgY29uc3QgYWxpYXNlZEZpZWxkcyA9IE9iamVjdC5hc3NpZ24oe30sIGFsaWFzZWRDb2x1bW5zLCBhbGlhc2VkUmVsYXRpb25zKTtcbiAgICAgICAgY29uc3QgZmllbGRzU2VsZWN0aW9uID0ge307XG4gICAgICAgIGxldCBzZWxlY3RlZENvbHVtbnMgPSBbXTtcbiAgICAgICAgbGV0IHNlbGVjdGVkRXh0cmFzID0gW107XG4gICAgICAgIGxldCBzZWxlY3RlZFJlbGF0aW9ucyA9IFtdO1xuICAgICAgICBpZiAoY29uZmlnLmNvbHVtbnMpIHtcbiAgICAgICAgICAgIGxldCBpc0luY2x1ZGVNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtmaWVsZCwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5jb2x1bW5zKSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZmllbGQgaW4gdGFibGVDb25maWcuY29sdW1ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSW5jbHVkZU1vZGUgJiYgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5jbHVkZU1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29sdW1ucy5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRDb2x1bW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbHVtbnMgPSBpc0luY2x1ZGVNb2RlXG4gICAgICAgICAgICAgICAgICAgID8gc2VsZWN0ZWRDb2x1bW5zLmZpbHRlcigoYykgPT4gY29uZmlnLmNvbHVtbnM/LltjXSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgOiBPYmplY3Qua2V5cyh0YWJsZUNvbmZpZy5jb2x1bW5zKS5maWx0ZXIoKGtleSkgPT4gIXNlbGVjdGVkQ29sdW1ucy5pbmNsdWRlcyhrZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLndpdGgpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkUmVsYXRpb25zID0gT2JqZWN0LmVudHJpZXMoY29uZmlnLndpdGgpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoZW50cnkpID0+ICEhZW50cnlbMV0pXG4gICAgICAgICAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoeyBrZXksIHZhbHVlIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbmZpZy5jb2x1bW5zKSB7XG4gICAgICAgICAgICBzZWxlY3RlZENvbHVtbnMgPSBPYmplY3Qua2V5cyh0YWJsZUNvbmZpZy5jb2x1bW5zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmV4dHJhcykge1xuICAgICAgICAgICAgY29uc3QgZXh0cmFzT3JpZyA9IHR5cGVvZiBjb25maWcuZXh0cmFzID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBjb25maWcuZXh0cmFzKGFsaWFzZWRGaWVsZHMsIHsgc3FsIH0pXG4gICAgICAgICAgICAgICAgOiBjb25maWcuZXh0cmFzO1xuICAgICAgICAgICAgc2VsZWN0ZWRFeHRyYXMgPSBPYmplY3QuZW50cmllcyhleHRyYXNPcmlnKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzKHZhbHVlLCB0YWJsZUFsaWFzKSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIHNlbGVjdGVkQ29sdW1ucykge1xuICAgICAgICAgICAgY29uc3QgY29sdW1uID0gdGFibGVDb25maWcuY29sdW1uc1tmaWVsZF07XG4gICAgICAgICAgICBmaWVsZHNTZWxlY3Rpb25bZmllbGRdID0gY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgeyBrZXksIHZhbHVlIH0gb2Ygc2VsZWN0ZWRFeHRyYXMpIHtcbiAgICAgICAgICAgIGZpZWxkc1NlbGVjdGlvbltrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHdoZXJlO1xuICAgICAgICBpZiAoY29uZmlnLndoZXJlKSB7XG4gICAgICAgICAgICBjb25zdCB3aGVyZVNxbCA9IHR5cGVvZiBjb25maWcud2hlcmUgPT09ICdmdW5jdGlvbicgPyBjb25maWcud2hlcmUoYWxpYXNlZEZpZWxkcywgb3BlcmF0b3JzKSA6IGNvbmZpZy53aGVyZTtcbiAgICAgICAgICAgIHdoZXJlID0gd2hlcmVTcWwgJiYgbWFwQ29sdW1uc0luU1FMVG9BbGlhcyh3aGVyZVNxbCwgdGFibGVBbGlhcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JvdXBCeSA9ICgodGFibGVDb25maWcucHJpbWFyeUtleS5sZW5ndGggPiAwICYmIHNlbGVjdGVkUmVsYXRpb25zLmxlbmd0aCA8IDIpXG4gICAgICAgICAgICA/IHRhYmxlQ29uZmlnLnByaW1hcnlLZXlcbiAgICAgICAgICAgIDogT2JqZWN0LnZhbHVlcyh0YWJsZUNvbmZpZy5jb2x1bW5zKSkubWFwKChjKSA9PiBhbGlhc2VkVGFibGVDb2x1bW4oYywgdGFibGVBbGlhcykpO1xuICAgICAgICBsZXQgb3JkZXJCeU9yaWcgPSB0eXBlb2YgY29uZmlnLm9yZGVyQnkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gY29uZmlnLm9yZGVyQnkoYWxpYXNlZEZpZWxkcywgb3JkZXJCeU9wZXJhdG9ycylcbiAgICAgICAgICAgIDogY29uZmlnLm9yZGVyQnkgPz8gW107XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvcmRlckJ5T3JpZykpIHtcbiAgICAgICAgICAgIG9yZGVyQnlPcmlnID0gW29yZGVyQnlPcmlnXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmRlckJ5ID0gb3JkZXJCeU9yaWcubWFwKChvcmRlckJ5VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChpcyhvcmRlckJ5VmFsdWUsIENvbHVtbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxpYXNlZFRhYmxlQ29sdW1uKG9yZGVyQnlWYWx1ZSwgdGFibGVBbGlhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFwQ29sdW1uc0luU1FMVG9BbGlhcyhvcmRlckJ5VmFsdWUsIHRhYmxlQWxpYXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYnVpbHRSZWxhdGlvbnMgPSBbXTtcbiAgICAgICAgY29uc3QgYnVpbHRSZWxhdGlvbkZpZWxkcyA9IFtdO1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBsZXQgc2VsZWN0ZWRSZWxhdGlvbkluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB7IGtleTogc2VsZWN0ZWRSZWxhdGlvbktleSwgdmFsdWU6IHNlbGVjdGVkUmVsYXRpb25WYWx1ZSB9IG9mIHNlbGVjdGVkUmVsYXRpb25zKSB7XG4gICAgICAgICAgICBsZXQgcmVsYXRpb247XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtyZWxhdGlvbktleSwgcmVsYXRpb25WYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGFibGVDb25maWcucmVsYXRpb25zKSkge1xuICAgICAgICAgICAgICAgIGlmIChpcyhyZWxhdGlvblZhbHVlLCBSZWxhdGlvbikgJiYgcmVsYXRpb25LZXkgPT09IHNlbGVjdGVkUmVsYXRpb25LZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb24gPSByZWxhdGlvblZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWxhdGlvbiAke3NlbGVjdGVkUmVsYXRpb25LZXl9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJlbGF0aW9uID0gbm9ybWFsaXplUmVsYXRpb24oc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCByZWxhdGlvbik7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbkFsaWFzID0gYCR7dGFibGVBbGlhc31fJHtzZWxlY3RlZFJlbGF0aW9uS2V5fWA7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbkNvbmZpZyA9IHNjaGVtYVt0YWJsZU5hbWVzTWFwW3JlbGF0aW9uLnJlZmVyZW5jZWRUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV1dXTtcbiAgICAgICAgICAgIGNvbnN0IGJ1aWx0UmVsYXRpb24gPSB0aGlzLmJ1aWxkUmVsYXRpb25hbFF1ZXJ5KGZ1bGxTY2hlbWEsIHNjaGVtYSwgdGFibGVOYW1lc01hcCwgZnVsbFNjaGVtYVt0YWJsZU5hbWVzTWFwW3JlbGF0aW9uLnJlZmVyZW5jZWRUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV1dXSwgc2NoZW1hW3RhYmxlTmFtZXNNYXBbcmVsYXRpb24ucmVmZXJlbmNlZFRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXV1dLCBzZWxlY3RlZFJlbGF0aW9uVmFsdWUsIHJlbGF0aW9uQWxpYXMsIG5vcm1hbGl6ZWRSZWxhdGlvbi5yZWZlcmVuY2VzKTtcbiAgICAgICAgICAgIGJ1aWx0UmVsYXRpb25zLnB1c2goeyBrZXk6IHNlbGVjdGVkUmVsYXRpb25LZXksIHZhbHVlOiBidWlsdFJlbGF0aW9uIH0pO1xuICAgICAgICAgICAgbGV0IHJlbGF0aW9uV2hlcmU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdGVkUmVsYXRpb25WYWx1ZSA9PT0gJ29iamVjdCcgJiYgc2VsZWN0ZWRSZWxhdGlvblZhbHVlLmxpbWl0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBzcWwgYCR7c3FsLmlkZW50aWZpZXIocmVsYXRpb25BbGlhcyl9LiR7c3FsLmlkZW50aWZpZXIoJ19fZHJpenpsZV9yb3dfbnVtYmVyJyl9YDtcbiAgICAgICAgICAgICAgICByZWxhdGlvbldoZXJlID0gYW5kKHJlbGF0aW9uV2hlcmUsIG9yKGFuZChzcWwgYCR7ZmllbGR9IDw9ICR7c2VsZWN0ZWRSZWxhdGlvblZhbHVlLmxpbWl0fWApLCBzcWwgYCgke2ZpZWxkfSBpcyBudWxsKWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGpvaW4gPSB7XG4gICAgICAgICAgICAgICAgdGFibGU6IGlzKGJ1aWx0UmVsYXRpb24uc3FsLCBUYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgPyBhbGlhc2VkVGFibGUoYnVpbHRSZWxhdGlvbi5zcWwsIHJlbGF0aW9uQWxpYXMpXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFN1YnF1ZXJ5KGJ1aWx0UmVsYXRpb24uc3FsLCB7fSwgcmVsYXRpb25BbGlhcyksXG4gICAgICAgICAgICAgICAgYWxpYXM6IHJlbGF0aW9uQWxpYXMsXG4gICAgICAgICAgICAgICAgb246IGFuZCguLi5ub3JtYWxpemVkUmVsYXRpb24uZmllbGRzLm1hcCgoZmllbGQsIGkpID0+IGVxKGFsaWFzZWRUYWJsZUNvbHVtbihmaWVsZCwgdGFibGVBbGlhcyksIGFsaWFzZWRUYWJsZUNvbHVtbihub3JtYWxpemVkUmVsYXRpb24ucmVmZXJlbmNlc1tpXSwgcmVsYXRpb25BbGlhcykpKSksXG4gICAgICAgICAgICAgICAgam9pblR5cGU6ICdsZWZ0JyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbkFsaWFzZWRDb2x1bW5zID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHJlbGF0aW9uQ29uZmlnLmNvbHVtbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpXSkpO1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25BbGlhc2VkUmVsYXRpb25zID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHJlbGF0aW9uQ29uZmlnLnJlbGF0aW9ucykubWFwKChba2V5LCB2YWx1ZV0pID0+IFtrZXksIGFsaWFzZWRSZWxhdGlvbih2YWx1ZSwgdGFibGVBbGlhcyldKSk7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbkFsaWFzZWRGaWVsZHMgPSBPYmplY3QuYXNzaWduKHt9LCByZWxhdGlvbkFsaWFzZWRDb2x1bW5zLCByZWxhdGlvbkFsaWFzZWRSZWxhdGlvbnMpO1xuICAgICAgICAgICAgbGV0IHJlbGF0aW9uT3JkZXJCeTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0ZWRSZWxhdGlvblZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGxldCBvcmRlckJ5T3JpZyA9IHR5cGVvZiBzZWxlY3RlZFJlbGF0aW9uVmFsdWUub3JkZXJCeSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkUmVsYXRpb25WYWx1ZS5vcmRlckJ5KHJlbGF0aW9uQWxpYXNlZEZpZWxkcywgb3JkZXJCeU9wZXJhdG9ycylcbiAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFJlbGF0aW9uVmFsdWUub3JkZXJCeSA/PyBbXTtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob3JkZXJCeU9yaWcpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQnlPcmlnID0gW29yZGVyQnlPcmlnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVsYXRpb25PcmRlckJ5ID0gb3JkZXJCeU9yaWcubWFwKChvcmRlckJ5VmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzKG9yZGVyQnlWYWx1ZSwgQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsaWFzZWRUYWJsZUNvbHVtbihvcmRlckJ5VmFsdWUsIHJlbGF0aW9uQWxpYXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKG9yZGVyQnlWYWx1ZSwgcmVsYXRpb25BbGlhcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbk9yZGVyQnlTcWwgPSByZWxhdGlvbk9yZGVyQnk/Lmxlbmd0aFxuICAgICAgICAgICAgICAgID8gc3FsIGAgb3JkZXIgYnkgJHtzcWwuam9pbihyZWxhdGlvbk9yZGVyQnksIHNxbCBgLCBgKX1gXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBlbHNlRmllbGQgPSBzcWwgYGpzb25fYWdnKGpzb25fYnVpbGRfYXJyYXkoJHtzcWwuam9pbihidWlsdFJlbGF0aW9uLnNlbGVjdGlvbi5tYXAoKHsgZGJLZXk6IGtleSwgaXNKc29uIH0pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSBzcWwgYCR7c3FsLmlkZW50aWZpZXIocmVsYXRpb25BbGlhcyl9LiR7c3FsLmlkZW50aWZpZXIoa2V5KX1gO1xuICAgICAgICAgICAgICAgIGlmIChpc0pzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBzcWwgYCR7ZmllbGR9Ojpqc29uYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgICAgICAgICAgfSksIHNxbCBgLCBgKX0pJHtyZWxhdGlvbk9yZGVyQnlTcWx9KWA7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSZWxhdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGVsc2VGaWVsZC5hcHBlbmQoc3FsLnJhdygnOjp0ZXh0JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY291bnRTcWwgPSBub3JtYWxpemVkUmVsYXRpb24ucmVmZXJlbmNlcy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICA/IGFsaWFzZWRUYWJsZUNvbHVtbihub3JtYWxpemVkUmVsYXRpb24ucmVmZXJlbmNlc1swXSwgcmVsYXRpb25BbGlhcylcbiAgICAgICAgICAgICAgICA6IHNxbC5mcm9tTGlzdChbXG4gICAgICAgICAgICAgICAgICAgIHNxbCBgY29hbGVzY2UoYCxcbiAgICAgICAgICAgICAgICAgICAgc3FsLmpvaW4obm9ybWFsaXplZFJlbGF0aW9uLnJlZmVyZW5jZXMubWFwKChjKSA9PiBhbGlhc2VkVGFibGVDb2x1bW4oYywgcmVsYXRpb25BbGlhcykpLCBzcWwucmF3KCcsICcpKSxcbiAgICAgICAgICAgICAgICAgICAgc3FsLnJhdygnKScpLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBzcWwgYGNhc2Ugd2hlbiBjb3VudCgke2NvdW50U3FsfSkgPSAwIHRoZW4gJ1tdJyBlbHNlICR7ZWxzZUZpZWxkfSBlbmRgLmFzKHNlbGVjdGVkUmVsYXRpb25LZXkpO1xuICAgICAgICAgICAgY29uc3QgYnVpbHRSZWxhdGlvbkZpZWxkID0ge1xuICAgICAgICAgICAgICAgIHBhdGg6IFtzZWxlY3RlZFJlbGF0aW9uS2V5XSxcbiAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJ1aWxkU2VsZWN0UXVlcnkoe1xuICAgICAgICAgICAgICAgIHRhYmxlOiByZXN1bHQgPyBuZXcgU3VicXVlcnkocmVzdWx0LCB7fSwgdGFibGVBbGlhcykgOiBhbGlhc2VkVGFibGUodGFibGUsIHRhYmxlQWxpYXMpLFxuICAgICAgICAgICAgICAgIGZpZWxkczoge30sXG4gICAgICAgICAgICAgICAgZmllbGRzRmxhdDogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzcWwgYCR7c3FsLmlkZW50aWZpZXIodGFibGVBbGlhcyl9LipgLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAuLi4oc2VsZWN0ZWRSZWxhdGlvbkluZGV4ID09PSBzZWxlY3RlZFJlbGF0aW9ucy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkRXh0cmFzLm1hcCgoeyBrZXksIHZhbHVlIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbHRSZWxhdGlvbkZpZWxkLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgd2hlcmU6IHJlbGF0aW9uV2hlcmUsXG4gICAgICAgICAgICAgICAgZ3JvdXBCeTogW1xuICAgICAgICAgICAgICAgICAgICAuLi5ncm91cEJ5LFxuICAgICAgICAgICAgICAgICAgICAuLi5idWlsdFJlbGF0aW9uRmllbGRzLm1hcCgoeyBmaWVsZCB9KSA9PiBzcWwgYCR7c3FsLmlkZW50aWZpZXIodGFibGVBbGlhcyl9LiR7c3FsLmlkZW50aWZpZXIoZmllbGQuZmllbGRBbGlhcyl9YCksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBvcmRlckJ5OiBzZWxlY3RlZFJlbGF0aW9uSW5kZXggPT09IHNlbGVjdGVkUmVsYXRpb25zLmxlbmd0aCAtIDEgPyBvcmRlckJ5IDogW10sXG4gICAgICAgICAgICAgICAgam9pbnM6IFtqb2luXSxcbiAgICAgICAgICAgICAgICBsb2NraW5nQ2xhdXNlczogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJ1aWx0UmVsYXRpb25GaWVsZHMucHVzaChidWlsdFJlbGF0aW9uRmllbGQpO1xuICAgICAgICAgICAgc2VsZWN0ZWRSZWxhdGlvbkluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmluYWxGaWVsZHNTZWxlY3Rpb24gPSBPYmplY3QuZW50cmllcyhmaWVsZHNTZWxlY3Rpb24pLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhdGg6IFtrZXldLFxuICAgICAgICAgICAgICAgIGZpZWxkOiBpcyh2YWx1ZSwgQ29sdW1uKSA/IGFsaWFzZWRUYWJsZUNvbHVtbih2YWx1ZSwgdGFibGVBbGlhcykgOiB2YWx1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmaW5hbEZpZWxkc0ZsYXQgPSBpc1Jvb3RcbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgIC4uLmZpbmFsRmllbGRzU2VsZWN0aW9uLm1hcCgoeyBwYXRoLCBmaWVsZCB9KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogaXMoZmllbGQsIFNRTC5BbGlhc2VkKSA/IHNxbCBgJHtzcWwuaWRlbnRpZmllcihmaWVsZC5maWVsZEFsaWFzKX1gIDogZmllbGQsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIC4uLmJ1aWx0UmVsYXRpb25GaWVsZHMubWFwKCh7IHBhdGgsIGZpZWxkIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzcWwgYCR7c3FsLmlkZW50aWZpZXIoZmllbGQuZmllbGRBbGlhcyl9JHtzZWxlY3RlZFJlbGF0aW9ucy5sZW5ndGggPiAxID8gc3FsLnJhdygnOjpqc29uJykgOiB1bmRlZmluZWR9YCxcbiAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogc3FsIGAke3NxbC5pZGVudGlmaWVyKHRhYmxlQWxpYXMpfS4qYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC4uLihidWlsdFJlbGF0aW9uRmllbGRzLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkRXh0cmFzLm1hcCgoeyBrZXksIHZhbHVlIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIDogW10pLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgbGV0IGxpbWl0LCBvZmZzZXQ7XG4gICAgICAgIGlmIChjb25maWcubGltaXQgIT09IHVuZGVmaW5lZCB8fCBjb25maWcub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgICAgICBsaW1pdCA9IGNvbmZpZy5saW1pdDtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBjb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluYWxGaWVsZHNGbGF0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBbJ19fZHJpenpsZV9yb3dfbnVtYmVyJ10sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzcWwgYHJvd19udW1iZXIoKSBvdmVyKHBhcnRpdGlvbiBieSAke3JlbGF0aW9uQ29sdW1ucy5tYXAoKGMpID0+IGFsaWFzZWRUYWJsZUNvbHVtbihjLCB0YWJsZUFsaWFzKSl9JHtvcmRlckJ5Lmxlbmd0aCA/IHNxbCBgIG9yZGVyIGJ5ICR7c3FsLmpvaW4ob3JkZXJCeSwgc3FsIGAsIGApfWAgOiB1bmRlZmluZWR9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcygnX19kcml6emxlX3Jvd19udW1iZXInKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLmJ1aWxkU2VsZWN0UXVlcnkoe1xuICAgICAgICAgICAgdGFibGU6IHJlc3VsdCA/IG5ldyBTdWJxdWVyeShyZXN1bHQsIHt9LCB0YWJsZUFsaWFzKSA6IGFsaWFzZWRUYWJsZSh0YWJsZSwgdGFibGVBbGlhcyksXG4gICAgICAgICAgICBmaWVsZHM6IHt9LFxuICAgICAgICAgICAgZmllbGRzRmxhdDogZmluYWxGaWVsZHNGbGF0LFxuICAgICAgICAgICAgd2hlcmUsXG4gICAgICAgICAgICBncm91cEJ5OiBbXSxcbiAgICAgICAgICAgIG9yZGVyQnk6IG9yZGVyQnkgPz8gW10sXG4gICAgICAgICAgICBqb2luczogW10sXG4gICAgICAgICAgICBsb2NraW5nQ2xhdXNlczogW10sXG4gICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRhYmxlVHNLZXk6IHRhYmxlQ29uZmlnLnRzTmFtZSxcbiAgICAgICAgICAgIHNxbDogcmVzdWx0LFxuICAgICAgICAgICAgc2VsZWN0aW9uOiBbXG4gICAgICAgICAgICAgICAgLi4uZmluYWxGaWVsZHNTZWxlY3Rpb24ubWFwKCh7IHBhdGgsIGZpZWxkIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGRiS2V5OiBpcyhmaWVsZCwgU1FMLkFsaWFzZWQpID8gZmllbGQuZmllbGRBbGlhcyA6IHRhYmxlQ29uZmlnLmNvbHVtbnNbcGF0aFswXV0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHNLZXk6IHBhdGhbMF0sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZVRzS2V5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGlzSnNvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogW10sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIC4uLmJ1aWx0UmVsYXRpb25zLm1hcCgoeyBrZXksIHZhbHVlIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGRiS2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHRzS2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlVHNLZXk6IHZhbHVlLnRhYmxlVHNLZXksXG4gICAgICAgICAgICAgICAgICAgIGlzSnNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiB2YWx1ZS5zZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIFR5cGVkUXVlcnlCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1R5cGVkUXVlcnlCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgZ2V0U2VsZWN0ZWRGaWVsZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl8uc2VsZWN0ZWRGaWVsZHM7XG4gICAgfVxufVxuXG5jbGFzcyBQZ1NlbGVjdEJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdTZWxlY3RCdWlsZGVyJztcbiAgICBmaWVsZHM7XG4gICAgc2Vzc2lvbjtcbiAgICBkaWFsZWN0O1xuICAgIHdpdGhMaXN0ID0gW107XG4gICAgZGlzdGluY3Q7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuZmllbGRzID0gY29uZmlnLmZpZWxkcztcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gY29uZmlnLnNlc3Npb247XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGNvbmZpZy5kaWFsZWN0O1xuICAgICAgICBpZiAoY29uZmlnLndpdGhMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLndpdGhMaXN0ID0gY29uZmlnLndpdGhMaXN0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzdGluY3QgPSBjb25maWcuZGlzdGluY3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHRhYmxlLCBzdWJxdWVyeSwgb3Igb3RoZXIgdGFyZ2V0IHRoYXQgeW91J3JlXG4gICAgICogYnVpbGRpbmcgYSBzZWxlY3QgcXVlcnkgYWdhaW5zdC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3FsLXNlbGVjdC5odG1sI1NRTC1GUk9NfFBvc3RncmVzIGZyb20gZG9jdW1lbnRhdGlvbn1cbiAgICAgKi9cbiAgICBmcm9tKHNvdXJjZSkge1xuICAgICAgICBjb25zdCBpc1BhcnRpYWxTZWxlY3QgPSAhIXRoaXMuZmllbGRzO1xuICAgICAgICBsZXQgZmllbGRzO1xuICAgICAgICBpZiAodGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIGZpZWxkcyA9IHRoaXMuZmllbGRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKHNvdXJjZSwgU3VicXVlcnkpKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIHRvIHVzZSB0aGUgcHJveHkgaGFuZGxlciB0byBnZXQgdGhlIGNvcnJlY3QgZmllbGQgdmFsdWVzIGZyb20gdGhlIHN1YnF1ZXJ5XG4gICAgICAgICAgICBmaWVsZHMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoc291cmNlW1N1YnF1ZXJ5Q29uZmlnXS5zZWxlY3Rpb24pLm1hcCgoa2V5KSA9PiBba2V5LCBzb3VyY2Vba2V5XV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhzb3VyY2UsIFBnVmlld0Jhc2UpKSB7XG4gICAgICAgICAgICBmaWVsZHMgPSBzb3VyY2VbVmlld0Jhc2VDb25maWddLnNlbGVjdGVkRmllbGRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKHNvdXJjZSwgU1FMKSkge1xuICAgICAgICAgICAgZmllbGRzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaWVsZHMgPSBnZXRUYWJsZUNvbHVtbnMoc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBnU2VsZWN0KHtcbiAgICAgICAgICAgIHRhYmxlOiBzb3VyY2UsXG4gICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICBpc1BhcnRpYWxTZWxlY3QsXG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG4gICAgICAgICAgICBkaWFsZWN0OiB0aGlzLmRpYWxlY3QsXG4gICAgICAgICAgICB3aXRoTGlzdDogdGhpcy53aXRoTGlzdCxcbiAgICAgICAgICAgIGRpc3RpbmN0OiB0aGlzLmRpc3RpbmN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBQZ1NlbGVjdFF1ZXJ5QnVpbGRlciBleHRlbmRzIFR5cGVkUXVlcnlCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnU2VsZWN0UXVlcnlCdWlsZGVyJztcbiAgICBfO1xuICAgIGNvbmZpZztcbiAgICBqb2luc05vdE51bGxhYmxlTWFwO1xuICAgIHRhYmxlTmFtZTtcbiAgICBpc1BhcnRpYWxTZWxlY3Q7XG4gICAgc2Vzc2lvbjtcbiAgICBkaWFsZWN0O1xuICAgIGNvbnN0cnVjdG9yKHsgdGFibGUsIGZpZWxkcywgaXNQYXJ0aWFsU2VsZWN0LCBzZXNzaW9uLCBkaWFsZWN0LCB3aXRoTGlzdCwgZGlzdGluY3QgfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIHdpdGhMaXN0LFxuICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICBmaWVsZHM6IHsgLi4uZmllbGRzIH0sXG4gICAgICAgICAgICBqb2luczogW10sXG4gICAgICAgICAgICBvcmRlckJ5OiBbXSxcbiAgICAgICAgICAgIGdyb3VwQnk6IFtdLFxuICAgICAgICAgICAgbG9ja2luZ0NsYXVzZXM6IFtdLFxuICAgICAgICAgICAgZGlzdGluY3QsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNQYXJ0aWFsU2VsZWN0ID0gaXNQYXJ0aWFsU2VsZWN0O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgICAgICB0aGlzLl8gPSB7XG4gICAgICAgICAgICBzZWxlY3RlZEZpZWxkczogZmllbGRzLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRhYmxlTmFtZSA9IGdldFRhYmxlTGlrZU5hbWUodGFibGUpO1xuICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXAgPSB0eXBlb2YgdGhpcy50YWJsZU5hbWUgPT09ICdzdHJpbmcnID8geyBbdGhpcy50YWJsZU5hbWVdOiB0cnVlIH0gOiB7fTtcbiAgICB9XG4gICAgY3JlYXRlSm9pbihqb2luVHlwZSkge1xuICAgICAgICByZXR1cm4gKHRhYmxlLCBvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYmFzZVRhYmxlTmFtZSA9IHRoaXMudGFibGVOYW1lO1xuICAgICAgICAgICAgY29uc3QgdGFibGVOYW1lID0gZ2V0VGFibGVMaWtlTmFtZSh0YWJsZSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhYmxlTmFtZSA9PT0gJ3N0cmluZycgJiYgdGhpcy5jb25maWcuam9pbnMuc29tZSgoam9pbikgPT4gam9pbi5hbGlhcyA9PT0gdGFibGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWxpYXMgXCIke3RhYmxlTmFtZX1cIiBpcyBhbHJlYWR5IHVzZWQgaW4gdGhpcyBxdWVyeWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUGFydGlhbFNlbGVjdCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IGpvaW4gYW5kIHRoaXMgaXMgbm90IGEgcGFydGlhbCBzZWxlY3QgYW5kIHdlJ3JlIG5vdCBzZWxlY3RpbmcgZnJvbSByYXcgU1FMLCBcIm1vdmVcIiB0aGUgZmllbGRzIGZyb20gdGhlIG1haW4gdGFibGUgdG8gdGhlIG5lc3RlZCBvYmplY3RcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5qb2luc05vdE51bGxhYmxlTWFwKS5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGJhc2VUYWJsZU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmZpZWxkcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtiYXNlVGFibGVOYW1lXTogdGhpcy5jb25maWcuZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhYmxlTmFtZSA9PT0gJ3N0cmluZycgJiYgIWlzKHRhYmxlLCBTUUwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGlzKHRhYmxlLCBTdWJxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGFibGVbU3VicXVlcnlDb25maWddLnNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpcyh0YWJsZSwgVmlldylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRhYmxlW1ZpZXdCYXNlQ29uZmlnXS5zZWxlY3RlZEZpZWxkc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5maWVsZHNbdGFibGVOYW1lXSA9IHNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb24gPSBvbihuZXcgUHJveHkodGhpcy5jb25maWcuZmllbGRzLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgc3FsQWxpYXNlZEJlaGF2aW9yOiAnc3FsJywgc3FsQmVoYXZpb3I6ICdzcWwnIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5qb2lucy5wdXNoKHsgb24sIHRhYmxlLCBqb2luVHlwZSwgYWxpYXM6IHRhYmxlTmFtZSB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFibGVOYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoam9pblR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcFt0YWJsZU5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0aGlzLmpvaW5zTm90TnVsbGFibGVNYXApLm1hcCgoW2tleV0pID0+IFtrZXksIGZhbHNlXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5uZXInOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXBbdGFibGVOYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmdWxsJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCkubWFwKChba2V5XSkgPT4gW2tleSwgZmFsc2VdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXBbdGFibGVOYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yIGVhY2ggcm93IG9mIHRoZSB0YWJsZSwgaW5jbHVkZVxuICAgICAqIHZhbHVlcyBmcm9tIGEgbWF0Y2hpbmcgcm93IG9mIHRoZSBqb2luZWRcbiAgICAgKiB0YWJsZSwgaWYgdGhlcmUgaXMgYSBtYXRjaGluZyByb3cuIElmIG5vdCxcbiAgICAgKiBhbGwgb2YgdGhlIGNvbHVtbnMgb2YgdGhlIGpvaW5lZCB0YWJsZVxuICAgICAqIHdpbGwgYmUgc2V0IHRvIG51bGwuXG4gICAgICovXG4gICAgbGVmdEpvaW4gPSB0aGlzLmNyZWF0ZUpvaW4oJ2xlZnQnKTtcbiAgICAvKipcbiAgICAgKiBJbmNsdWRlcyBhbGwgb2YgdGhlIHJvd3Mgb2YgdGhlIGpvaW5lZCB0YWJsZS5cbiAgICAgKiBJZiB0aGVyZSBpcyBubyBtYXRjaGluZyByb3cgaW4gdGhlIG1haW4gdGFibGUsXG4gICAgICogYWxsIHRoZSBjb2x1bW5zIG9mIHRoZSBtYWluIHRhYmxlIHdpbGwgYmVcbiAgICAgKiBzZXQgdG8gbnVsbC5cbiAgICAgKi9cbiAgICByaWdodEpvaW4gPSB0aGlzLmNyZWF0ZUpvaW4oJ3JpZ2h0Jyk7XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgZGVmYXVsdCB0eXBlIG9mIGpvaW4uXG4gICAgICpcbiAgICAgKiBGb3IgZWFjaCByb3cgb2YgdGhlIHRhYmxlLCB0aGUgam9pbmVkIHRhYmxlXG4gICAgICogbmVlZHMgdG8gaGF2ZSBhIG1hdGNoaW5nIHJvdywgb3IgaXQgd2lsbFxuICAgICAqIGJlIGV4Y2x1ZGVkIGZyb20gcmVzdWx0cy5cbiAgICAgKi9cbiAgICBpbm5lckpvaW4gPSB0aGlzLmNyZWF0ZUpvaW4oJ2lubmVyJyk7XG4gICAgLyoqXG4gICAgICogUm93cyBmcm9tIGJvdGggdGhlIG1haW4gJiBqb2luZWQgYXJlIGluY2x1ZGVkLFxuICAgICAqIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBvciBub3QgdGhleSBoYXZlIG1hdGNoaW5nXG4gICAgICogcm93cyBpbiB0aGUgb3RoZXIgdGFibGUuXG4gICAgICovXG4gICAgZnVsbEpvaW4gPSB0aGlzLmNyZWF0ZUpvaW4oJ2Z1bGwnKTtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IGEgY29uZGl0aW9uIHRvIG5hcnJvdyB0aGUgcmVzdWx0IHNldC4gTXVsdGlwbGVcbiAgICAgKiBjb25kaXRpb25zIGNhbiBiZSBjb21iaW5lZCB3aXRoIHRoZSBgYW5kYCBhbmQgYG9yYFxuICAgICAqIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqICMjIEV4YW1wbGVzXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIC8vIEZpbmQgY2FycyBtYWRlIGluIHRoZSB5ZWFyIDIwMDBcbiAgICAgKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpLndoZXJlKGVxKGNhcnMueWVhciwgMjAwMCkpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHdoZXJlKHdoZXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2hlcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHdoZXJlID0gd2hlcmUobmV3IFByb3h5KHRoaXMuY29uZmlnLmZpZWxkcywgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ3NxbCcsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnLndoZXJlID0gd2hlcmU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBIQVZJTkcgY2xhdXNlIG9mIHRoaXMgcXVlcnksIHdoaWNoIG9mdGVuXG4gICAgICogdXNlZCB3aXRoIEdST1VQIEJZIGFuZCBmaWx0ZXJzIHJvd3MgYWZ0ZXIgdGhleSd2ZSBiZWVuXG4gICAgICogZ3JvdXBlZCB0b2dldGhlciBhbmQgY29tYmluZWQuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cucG9zdGdyZXNxbC5vcmcvZG9jcy9jdXJyZW50L3NxbC1zZWxlY3QuaHRtbCNTUUwtSEFWSU5HfFBvc3RncmVzIGhhdmluZyBjbGF1c2UgZG9jdW1lbnRhdGlvbn1cbiAgICAgKi9cbiAgICBoYXZpbmcoaGF2aW5nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaGF2aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBoYXZpbmcgPSBoYXZpbmcobmV3IFByb3h5KHRoaXMuY29uZmlnLmZpZWxkcywgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ3NxbCcsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnLmhhdmluZyA9IGhhdmluZztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdyb3VwQnkoLi4uY29sdW1ucykge1xuICAgICAgICBpZiAodHlwZW9mIGNvbHVtbnNbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwQnkgPSBjb2x1bW5zWzBdKG5ldyBQcm94eSh0aGlzLmNvbmZpZy5maWVsZHMsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSkpO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuZ3JvdXBCeSA9IEFycmF5LmlzQXJyYXkoZ3JvdXBCeSkgPyBncm91cEJ5IDogW2dyb3VwQnldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb25maWcuZ3JvdXBCeSA9IGNvbHVtbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG9yZGVyQnkoLi4uY29sdW1ucykge1xuICAgICAgICBpZiAodHlwZW9mIGNvbHVtbnNbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yZGVyQnkgPSBjb2x1bW5zWzBdKG5ldyBQcm94eSh0aGlzLmNvbmZpZy5maWVsZHMsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSkpO1xuICAgICAgICAgICAgdGhpcy5jb25maWcub3JkZXJCeSA9IEFycmF5LmlzQXJyYXkob3JkZXJCeSkgPyBvcmRlckJ5IDogW29yZGVyQnldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb25maWcub3JkZXJCeSA9IGNvbHVtbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF4aW11bSBudW1iZXIgb2Ygcm93cyB0aGF0IHdpbGwgYmVcbiAgICAgKiByZXR1cm5lZCBieSB0aGlzIHF1ZXJ5LlxuICAgICAqXG4gICAgICogIyMgRXhhbXBsZXNcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogLy8gR2V0IHRoZSBmaXJzdCAxMCBwZW9wbGUgZnJvbSB0aGlzIHF1ZXJ5LlxuICAgICAqIGRiLnNlbGVjdCgpLmZyb20ocGVvcGxlKS5saW1pdCgxMCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly93d3cucG9zdGdyZXNxbC5vcmcvZG9jcy9jdXJyZW50L3NxbC1zZWxlY3QuaHRtbCNTUUwtTElNSVR8UG9zdGdyZXMgTElNSVQgZG9jdW1lbnRhdGlvbn1cbiAgICAgKi9cbiAgICBsaW1pdChsaW1pdCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5saW1pdCA9IGxpbWl0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2tpcCBhIG51bWJlciBvZiByb3dzIHdoZW4gcmV0dXJuaW5nIHJlc3VsdHNcbiAgICAgKiBmcm9tIHRoaXMgcXVlcnkuXG4gICAgICpcbiAgICAgKiAjIyBFeGFtcGxlc1xuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiAvLyBHZXQgdGhlIDEwdGgtMjB0aCBwZW9wbGUgZnJvbSB0aGlzIHF1ZXJ5LlxuICAgICAqIGRiLnNlbGVjdCgpLmZyb20ocGVvcGxlKS5vZmZzZXQoMTApLmxpbWl0KDEwKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBvZmZzZXQob2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBGT1IgY2xhdXNlIHNwZWNpZmllcyBhIGxvY2sgc3RyZW5ndGggZm9yIHRoaXMgcXVlcnlcbiAgICAgKiB0aGF0IGNvbnRyb2xzIGhvdyBzdHJpY3RseSBpdCBhY3F1aXJlcyBleGNsdXNpdmUgYWNjZXNzIHRvXG4gICAgICogdGhlIHJvd3MgYmVpbmcgcXVlcmllZC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3FsLXNlbGVjdC5odG1sI1NRTC1GT1ItVVBEQVRFLVNIQVJFfFBvc3RncmVzIGxvY2tpbmcgY2xhdXNlIGRvY3VtZW50YXRpb259XG4gICAgICovXG4gICAgZm9yKHN0cmVuZ3RoLCBjb25maWcgPSB7fSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5sb2NraW5nQ2xhdXNlcy5wdXNoKHsgc3RyZW5ndGgsIGNvbmZpZyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBnZXRTUUwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpYWxlY3QuYnVpbGRTZWxlY3RRdWVyeSh0aGlzLmNvbmZpZyk7XG4gICAgfVxuICAgIHRvU1FMKCkge1xuICAgICAgICBjb25zdCB7IHR5cGluZ3M6IF90eXBpbmdzLCAuLi5yZXN0IH0gPSB0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKTtcbiAgICAgICAgcmV0dXJuIHJlc3Q7XG4gICAgfVxuICAgIGFzKGFsaWFzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFN1YnF1ZXJ5KHRoaXMuZ2V0U1FMKCksIHRoaXMuY29uZmlnLmZpZWxkcywgYWxpYXMpLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgYWxpYXMsIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJywgc3FsQmVoYXZpb3I6ICdlcnJvcicgfSkpO1xuICAgIH1cbn1cbmNsYXNzIFBnU2VsZWN0IGV4dGVuZHMgUGdTZWxlY3RRdWVyeUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdTZWxlY3QnO1xuICAgIF9wcmVwYXJlKG5hbWUpIHtcbiAgICAgICAgY29uc3QgeyBzZXNzaW9uLCBjb25maWcsIGRpYWxlY3QsIGpvaW5zTm90TnVsbGFibGVNYXAgfSA9IHRoaXM7XG4gICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZXhlY3V0ZSBhIHF1ZXJ5IG9uIGEgcXVlcnkgYnVpbGRlci4gUGxlYXNlIHVzZSBhIGRhdGFiYXNlIGluc3RhbmNlIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYWNlci5zdGFydEFjdGl2ZVNwYW4oJ2RyaXp6bGUucHJlcGFyZVF1ZXJ5JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmllbGRzTGlzdCA9IG9yZGVyU2VsZWN0ZWRGaWVsZHMoY29uZmlnLmZpZWxkcyk7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHNlc3Npb24ucHJlcGFyZVF1ZXJ5KGRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSwgZmllbGRzTGlzdCwgbmFtZSk7XG4gICAgICAgICAgICBxdWVyeS5qb2luc05vdE51bGxhYmxlTWFwID0gam9pbnNOb3ROdWxsYWJsZU1hcDtcbiAgICAgICAgICAgIHJldHVybiBxdWVyeTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHByZXBhcmVkIHN0YXRlbWVudCBmb3IgdGhpcyBxdWVyeS4gVGhpcyBhbGxvd3NcbiAgICAgKiB0aGUgZGF0YWJhc2UgdG8gcmVtZW1iZXIgdGhpcyBxdWVyeSBmb3IgdGhlIGdpdmVuIHNlc3Npb25cbiAgICAgKiBhbmQgY2FsbCBpdCBieSBuYW1lLCByYXRoZXIgdGhhbiBzcGVjaWZ5aW5nIHRoZSBmdWxsIHF1ZXJ5LlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9zcWwtcHJlcGFyZS5odG1sfFBvc3RncmVzIHByZXBhcmUgZG9jdW1lbnRhdGlvbn1cbiAgICAgKi9cbiAgICBwcmVwYXJlKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXBhcmUobmFtZSk7XG4gICAgfVxuICAgIGV4ZWN1dGUgPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRyYWNlci5zdGFydEFjdGl2ZVNwYW4oJ2RyaXp6bGUub3BlcmF0aW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXBhcmUoKS5leGVjdXRlKHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmFwcGx5TWl4aW5zKFBnU2VsZWN0LCBbUXVlcnlQcm9taXNlXSk7XG5cbmNsYXNzIFF1ZXJ5QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ1F1ZXJ5QnVpbGRlcic7XG4gICAgZGlhbGVjdDtcbiAgICAkd2l0aChhbGlhcykge1xuICAgICAgICBjb25zdCBxdWVyeUJ1aWxkZXIgPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXMocWIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHFiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHFiID0gcWIocXVlcnlCdWlsZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgV2l0aFN1YnF1ZXJ5KHFiLmdldFNRTCgpLCBxYi5nZXRTZWxlY3RlZEZpZWxkcygpLCBhbGlhcywgdHJ1ZSksIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBhbGlhcywgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLCBzcWxCZWhhdmlvcjogJ2Vycm9yJyB9KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICB3aXRoKC4uLnF1ZXJpZXMpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdChmaWVsZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGdTZWxlY3RCdWlsZGVyKHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGRpYWxlY3Q6IHNlbGYuZ2V0RGlhbGVjdCgpLFxuICAgICAgICAgICAgICAgIHdpdGhMaXN0OiBxdWVyaWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0RGlzdGluY3QoZmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBnU2VsZWN0QnVpbGRlcih7XG4gICAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBkaWFsZWN0OiBzZWxmLmdldERpYWxlY3QoKSxcbiAgICAgICAgICAgICAgICBkaXN0aW5jdDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdERpc3RpbmN0T24ob24sIGZpZWxkcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQZ1NlbGVjdEJ1aWxkZXIoe1xuICAgICAgICAgICAgICAgIGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZGlhbGVjdDogc2VsZi5nZXREaWFsZWN0KCksXG4gICAgICAgICAgICAgICAgZGlzdGluY3Q6IHsgb24gfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHNlbGVjdCwgc2VsZWN0RGlzdGluY3QsIHNlbGVjdERpc3RpbmN0T24gfTtcbiAgICB9XG4gICAgc2VsZWN0KGZpZWxkcykge1xuICAgICAgICByZXR1cm4gbmV3IFBnU2VsZWN0QnVpbGRlcih7XG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXNzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkaWFsZWN0OiB0aGlzLmdldERpYWxlY3QoKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbGVjdERpc3RpbmN0KGZpZWxkcykge1xuICAgICAgICByZXR1cm4gbmV3IFBnU2VsZWN0QnVpbGRlcih7XG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXNzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkaWFsZWN0OiB0aGlzLmdldERpYWxlY3QoKSxcbiAgICAgICAgICAgIGRpc3RpbmN0OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VsZWN0RGlzdGluY3RPbihvbiwgZmllbGRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdTZWxlY3RCdWlsZGVyKHtcbiAgICAgICAgICAgIGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNlc3Npb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRpYWxlY3Q6IHRoaXMuZ2V0RGlhbGVjdCgpLFxuICAgICAgICAgICAgZGlzdGluY3Q6IHsgb24gfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIExhenkgbG9hZCBkaWFsZWN0IHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICBnZXREaWFsZWN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlhbGVjdCkge1xuICAgICAgICAgICAgdGhpcy5kaWFsZWN0ID0gbmV3IFBnRGlhbGVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRpYWxlY3Q7XG4gICAgfVxufVxuXG5jbGFzcyBEZWZhdWx0Vmlld0J1aWxkZXJDb3JlIHtcbiAgICBuYW1lO1xuICAgIHNjaGVtYTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnRGVmYXVsdFZpZXdCdWlsZGVyQ29yZSc7XG4gICAgY29uc3RydWN0b3IobmFtZSwgc2NoZW1hKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbiAgICBjb25maWcgPSB7fTtcbiAgICB3aXRoKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZy53aXRoID0gY29uZmlnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5jbGFzcyBWaWV3QnVpbGRlciBleHRlbmRzIERlZmF1bHRWaWV3QnVpbGRlckNvcmUge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdWaWV3QnVpbGRlcic7XG4gICAgYXMocWIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBxYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcWIgPSBxYihuZXcgUXVlcnlCdWlsZGVyKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblByb3h5ID0gbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7XG4gICAgICAgICAgICBhbGlhczogdGhpcy5uYW1lLFxuICAgICAgICAgICAgc3FsQmVoYXZpb3I6ICdlcnJvcicsXG4gICAgICAgICAgICBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsXG4gICAgICAgICAgICByZXBsYWNlT3JpZ2luYWxOYW1lOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYWxpYXNlZFNlbGVjdGlvbiA9IG5ldyBQcm94eShxYi5nZXRTZWxlY3RlZEZpZWxkcygpLCBzZWxlY3Rpb25Qcm94eSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFBnVmlldyh7XG4gICAgICAgICAgICBwZ0NvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkczogYWxpYXNlZFNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICBxdWVyeTogcWIuZ2V0U1FMKCkuaW5saW5lUGFyYW1zKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSwgc2VsZWN0aW9uUHJveHkpO1xuICAgIH1cbn1cbmNsYXNzIE1hbnVhbFZpZXdCdWlsZGVyIGV4dGVuZHMgRGVmYXVsdFZpZXdCdWlsZGVyQ29yZSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ01hbnVhbFZpZXdCdWlsZGVyJztcbiAgICBjb2x1bW5zO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbHVtbnMsIHNjaGVtYSkge1xuICAgICAgICBzdXBlcihuYW1lLCBzY2hlbWEpO1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBnZXRUYWJsZUNvbHVtbnMocGdUYWJsZShuYW1lLCBjb2x1bW5zKSk7XG4gICAgfVxuICAgIGV4aXN0aW5nKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG5ldyBQZ1ZpZXcoe1xuICAgICAgICAgICAgcGdDb25maWc6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiB0aGlzLmNvbHVtbnMsXG4gICAgICAgICAgICAgICAgcXVlcnk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHtcbiAgICAgICAgICAgIGFsaWFzOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzcWxCZWhhdmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJyxcbiAgICAgICAgICAgIHJlcGxhY2VPcmlnaW5hbE5hbWU6IHRydWUsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYXMocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgUGdWaWV3KHtcbiAgICAgICAgICAgIHBnQ29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiB0aGlzLmNvbHVtbnMsXG4gICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LmlubGluZVBhcmFtcygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoe1xuICAgICAgICAgICAgYWxpYXM6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHNxbEJlaGF2aW9yOiAnZXJyb3InLFxuICAgICAgICAgICAgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLFxuICAgICAgICAgICAgcmVwbGFjZU9yaWdpbmFsTmFtZTogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbmNsYXNzIE1hdGVyaWFsaXplZFZpZXdCdWlsZGVyQ29yZSB7XG4gICAgbmFtZTtcbiAgICBzY2hlbWE7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ01hdGVyaWFsaXplZFZpZXdCdWlsZGVyQ29yZSc7XG4gICAgY29uc3RydWN0b3IobmFtZSwgc2NoZW1hKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbiAgICBjb25maWcgPSB7fTtcbiAgICB1c2luZyh1c2luZykge1xuICAgICAgICB0aGlzLmNvbmZpZy51c2luZyA9IHVzaW5nO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aChjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcud2l0aCA9IGNvbmZpZztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRhYmxlc3BhY2UodGFibGVzcGFjZSkge1xuICAgICAgICB0aGlzLmNvbmZpZy50YWJsZXNwYWNlID0gdGFibGVzcGFjZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhOb0RhdGEoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLndpdGhOb0RhdGEgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5jbGFzcyBNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlciBleHRlbmRzIE1hdGVyaWFsaXplZFZpZXdCdWlsZGVyQ29yZSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ01hdGVyaWFsaXplZFZpZXdCdWlsZGVyJztcbiAgICBhcyhxYikge1xuICAgICAgICBpZiAodHlwZW9mIHFiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBxYiA9IHFiKG5ldyBRdWVyeUJ1aWxkZXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uUHJveHkgPSBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHtcbiAgICAgICAgICAgIGFsaWFzOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzcWxCZWhhdmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJyxcbiAgICAgICAgICAgIHJlcGxhY2VPcmlnaW5hbE5hbWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhbGlhc2VkU2VsZWN0aW9uID0gbmV3IFByb3h5KHFiLmdldFNlbGVjdGVkRmllbGRzKCksIHNlbGVjdGlvblByb3h5KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgUGdNYXRlcmlhbGl6ZWRWaWV3KHtcbiAgICAgICAgICAgIHBnQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgd2l0aDogdGhpcy5jb25maWcud2l0aCxcbiAgICAgICAgICAgICAgICB1c2luZzogdGhpcy5jb25maWcudXNpbmcsXG4gICAgICAgICAgICAgICAgdGFibGVzcGFjZTogdGhpcy5jb25maWcudGFibGVzcGFjZSxcbiAgICAgICAgICAgICAgICB3aXRoTm9EYXRhOiB0aGlzLmNvbmZpZy53aXRoTm9EYXRhLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiBhbGlhc2VkU2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBxYi5nZXRTUUwoKS5pbmxpbmVQYXJhbXMoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLCBzZWxlY3Rpb25Qcm94eSk7XG4gICAgfVxufVxuY2xhc3MgTWFudWFsTWF0ZXJpYWxpemVkVmlld0J1aWxkZXIgZXh0ZW5kcyBNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlckNvcmUge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdNYW51YWxNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlcic7XG4gICAgY29sdW1ucztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb2x1bW5zLCBzY2hlbWEpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgc2NoZW1hKTtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gZ2V0VGFibGVDb2x1bW5zKHBnVGFibGUobmFtZSwgY29sdW1ucykpO1xuICAgIH1cbiAgICBleGlzdGluZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgUGdNYXRlcmlhbGl6ZWRWaWV3KHtcbiAgICAgICAgICAgIHBnQ29uZmlnOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkczogdGhpcy5jb2x1bW5zLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSwgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7XG4gICAgICAgICAgICBhbGlhczogdGhpcy5uYW1lLFxuICAgICAgICAgICAgc3FsQmVoYXZpb3I6ICdlcnJvcicsXG4gICAgICAgICAgICBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsXG4gICAgICAgICAgICByZXBsYWNlT3JpZ2luYWxOYW1lOiB0cnVlLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFBnTWF0ZXJpYWxpemVkVmlldyh7XG4gICAgICAgICAgICBwZ0NvbmZpZzogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogdGhpcy5zY2hlbWEsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZHM6IHRoaXMuY29sdW1ucyxcbiAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkuaW5saW5lUGFyYW1zKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSwgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7XG4gICAgICAgICAgICBhbGlhczogdGhpcy5uYW1lLFxuICAgICAgICAgICAgc3FsQmVoYXZpb3I6ICdlcnJvcicsXG4gICAgICAgICAgICBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsXG4gICAgICAgICAgICByZXBsYWNlT3JpZ2luYWxOYW1lOiB0cnVlLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuY2xhc3MgUGdWaWV3QmFzZSBleHRlbmRzIFZpZXcge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdWaWV3QmFzZSc7XG59XG5jb25zdCBQZ1ZpZXdDb25maWcgPSBTeW1ib2wuZm9yKCdkcml6emxlOlBnVmlld0NvbmZpZycpO1xuY2xhc3MgUGdWaWV3IGV4dGVuZHMgUGdWaWV3QmFzZSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ1ZpZXcnO1xuICAgIFtQZ1ZpZXdDb25maWddO1xuICAgIGNvbnN0cnVjdG9yKHsgcGdDb25maWcsIGNvbmZpZyB9KSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIGlmIChwZ0NvbmZpZykge1xuICAgICAgICAgICAgdGhpc1tQZ1ZpZXdDb25maWddID0ge1xuICAgICAgICAgICAgICAgIHdpdGg6IHBnQ29uZmlnLndpdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgUGdNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnID0gU3ltYm9sLmZvcignZHJpenpsZTpQZ01hdGVyaWFsaXplZFZpZXdDb25maWcnKTtcbmNsYXNzIFBnTWF0ZXJpYWxpemVkVmlldyBleHRlbmRzIFBnVmlld0Jhc2Uge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdNYXRlcmlhbGl6ZWRWaWV3JztcbiAgICBbUGdNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnXTtcbiAgICBjb25zdHJ1Y3Rvcih7IHBnQ29uZmlnLCBjb25maWcgfSkge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgICAgICB0aGlzW1BnTWF0ZXJpYWxpemVkVmlld0NvbmZpZ10gPSB7XG4gICAgICAgICAgICB3aXRoOiBwZ0NvbmZpZz8ud2l0aCxcbiAgICAgICAgICAgIHVzaW5nOiBwZ0NvbmZpZz8udXNpbmcsXG4gICAgICAgICAgICB0YWJsZXNwYWNlOiBwZ0NvbmZpZz8udGFibGVzcGFjZSxcbiAgICAgICAgICAgIHdpdGhOb0RhdGE6IHBnQ29uZmlnPy53aXRoTm9EYXRhLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIHBnVmlld1dpdGhTY2hlbWEobmFtZSwgc2VsZWN0aW9uLCBzY2hlbWEpIHtcbiAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWFudWFsVmlld0J1aWxkZXIobmFtZSwgc2VsZWN0aW9uLCBzY2hlbWEpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFZpZXdCdWlsZGVyKG5hbWUsIHNjaGVtYSk7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBwZ01hdGVyaWFsaXplZFZpZXdXaXRoU2NoZW1hKG5hbWUsIHNlbGVjdGlvbiwgc2NoZW1hKSB7XG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IE1hbnVhbE1hdGVyaWFsaXplZFZpZXdCdWlsZGVyKG5hbWUsIHNlbGVjdGlvbiwgc2NoZW1hKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlcihuYW1lLCBzY2hlbWEpO1xufVxuZnVuY3Rpb24gcGdWaWV3KG5hbWUsIGNvbHVtbnMpIHtcbiAgICByZXR1cm4gcGdWaWV3V2l0aFNjaGVtYShuYW1lLCBjb2x1bW5zLCB1bmRlZmluZWQpO1xufVxuZnVuY3Rpb24gcGdNYXRlcmlhbGl6ZWRWaWV3KG5hbWUsIGNvbHVtbnMpIHtcbiAgICByZXR1cm4gcGdNYXRlcmlhbGl6ZWRWaWV3V2l0aFNjaGVtYShuYW1lLCBjb2x1bW5zLCB1bmRlZmluZWQpO1xufVxuXG5mdW5jdGlvbiBnZXRUYWJsZUNvbmZpZyh0YWJsZSkge1xuICAgIGNvbnN0IGNvbHVtbnMgPSBPYmplY3QudmFsdWVzKHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXSk7XG4gICAgY29uc3QgaW5kZXhlcyA9IFtdO1xuICAgIGNvbnN0IGNoZWNrcyA9IFtdO1xuICAgIGNvbnN0IHByaW1hcnlLZXlzID0gW107XG4gICAgY29uc3QgZm9yZWlnbktleXMgPSBPYmplY3QudmFsdWVzKHRhYmxlW1BnVGFibGUuU3ltYm9sLklubGluZUZvcmVpZ25LZXlzXSk7XG4gICAgY29uc3QgdW5pcXVlQ29uc3RyYWludHMgPSBbXTtcbiAgICBjb25zdCBuYW1lID0gdGFibGVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgIGNvbnN0IHNjaGVtYSA9IHRhYmxlW1RhYmxlLlN5bWJvbC5TY2hlbWFdO1xuICAgIGNvbnN0IGV4dHJhQ29uZmlnQnVpbGRlciA9IHRhYmxlW1BnVGFibGUuU3ltYm9sLkV4dHJhQ29uZmlnQnVpbGRlcl07XG4gICAgaWYgKGV4dHJhQ29uZmlnQnVpbGRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGV4dHJhQ29uZmlnID0gZXh0cmFDb25maWdCdWlsZGVyKHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXSk7XG4gICAgICAgIGZvciAoY29uc3QgYnVpbGRlciBvZiBPYmplY3QudmFsdWVzKGV4dHJhQ29uZmlnKSkge1xuICAgICAgICAgICAgaWYgKGlzKGJ1aWxkZXIsIEluZGV4QnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goYnVpbGRlci5idWlsZCh0YWJsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoYnVpbGRlciwgQ2hlY2tCdWlsZGVyKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrcy5wdXNoKGJ1aWxkZXIuYnVpbGQodGFibGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGJ1aWxkZXIsIFVuaXF1ZUNvbnN0cmFpbnRCdWlsZGVyKSkge1xuICAgICAgICAgICAgICAgIHVuaXF1ZUNvbnN0cmFpbnRzLnB1c2goYnVpbGRlci5idWlsZCh0YWJsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoYnVpbGRlciwgUHJpbWFyeUtleUJ1aWxkZXIpKSB7XG4gICAgICAgICAgICAgICAgcHJpbWFyeUtleXMucHVzaChidWlsZGVyLmJ1aWxkKHRhYmxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhidWlsZGVyLCBGb3JlaWduS2V5QnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICBmb3JlaWduS2V5cy5wdXNoKGJ1aWxkZXIuYnVpbGQodGFibGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBpbmRleGVzLFxuICAgICAgICBmb3JlaWduS2V5cyxcbiAgICAgICAgY2hlY2tzLFxuICAgICAgICBwcmltYXJ5S2V5cyxcbiAgICAgICAgdW5pcXVlQ29uc3RyYWludHMsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNjaGVtYSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0Vmlld0NvbmZpZyh2aWV3KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udmlld1tWaWV3QmFzZUNvbmZpZ10sXG4gICAgICAgIC4uLnZpZXdbUGdWaWV3Q29uZmlnXSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0TWF0ZXJpYWxpemVkVmlld0NvbmZpZyh2aWV3KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udmlld1tWaWV3QmFzZUNvbmZpZ10sXG4gICAgICAgIC4uLnZpZXdbUGdNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnXSxcbiAgICB9O1xufVxuZnVuY3Rpb24gcGFyc2VQZ0FycmF5VmFsdWUoYXJyYXlTdHJpbmcsIHN0YXJ0RnJvbSwgaW5RdW90ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRGcm9tOyBpIDwgYXJyYXlTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hhciA9IGFycmF5U3RyaW5nW2ldO1xuICAgICAgICBpZiAoY2hhciA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhciA9PT0gJ1wiJykge1xuICAgICAgICAgICAgcmV0dXJuIFthcnJheVN0cmluZy5zbGljZShzdGFydEZyb20sIGkpLnJlcGxhY2UoL1xcXFwvZywgJycpLCBpICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluUXVvdGVzKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhciA9PT0gJywnIHx8IGNoYXIgPT09ICd9Jykge1xuICAgICAgICAgICAgcmV0dXJuIFthcnJheVN0cmluZy5zbGljZShzdGFydEZyb20sIGkpLnJlcGxhY2UoL1xcXFwvZywgJycpLCBpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW2FycmF5U3RyaW5nLnNsaWNlKHN0YXJ0RnJvbSkucmVwbGFjZSgvXFxcXC9nLCAnJyksIGFycmF5U3RyaW5nLmxlbmd0aF07XG59XG5mdW5jdGlvbiBwYXJzZVBnTmVzdGVkQXJyYXkoYXJyYXlTdHJpbmcsIHN0YXJ0RnJvbSA9IDApIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgaSA9IHN0YXJ0RnJvbTtcbiAgICBsZXQgbGFzdENoYXJJc0NvbW1hID0gZmFsc2U7XG4gICAgd2hpbGUgKGkgPCBhcnJheVN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY2hhciA9IGFycmF5U3RyaW5nW2ldO1xuICAgICAgICBpZiAoY2hhciA9PT0gJywnKSB7XG4gICAgICAgICAgICBpZiAobGFzdENoYXJJc0NvbW1hIHx8IGkgPT09IHN0YXJ0RnJvbSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RDaGFySXNDb21tYSA9IHRydWU7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0Q2hhcklzQ29tbWEgPSBmYWxzZTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICAgIGNvbnN0IFt2YWx1ZSwgc3RhcnRGcm9tXSA9IHBhcnNlUGdBcnJheVZhbHVlKGFycmF5U3RyaW5nLCBpICsgMSwgdHJ1ZSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICBpID0gc3RhcnRGcm9tO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXIgPT09ICd9Jykge1xuICAgICAgICAgICAgcmV0dXJuIFtyZXN1bHQsIGkgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhciA9PT0gJ3snKSB7XG4gICAgICAgICAgICBjb25zdCBbdmFsdWUsIHN0YXJ0RnJvbV0gPSBwYXJzZVBnTmVzdGVkQXJyYXkoYXJyYXlTdHJpbmcsIGkgKyAxKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIGkgPSBzdGFydEZyb207XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbdmFsdWUsIG5ld1N0YXJ0RnJvbV0gPSBwYXJzZVBnQXJyYXlWYWx1ZShhcnJheVN0cmluZywgaSwgZmFsc2UpO1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIGkgPSBuZXdTdGFydEZyb207XG4gICAgfVxuICAgIHJldHVybiBbcmVzdWx0LCBpXTtcbn1cbmZ1bmN0aW9uIHBhcnNlUGdBcnJheShhcnJheVN0cmluZykge1xuICAgIGNvbnN0IFtyZXN1bHRdID0gcGFyc2VQZ05lc3RlZEFycmF5KGFycmF5U3RyaW5nLCAxKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbWFrZVBnQXJyYXkoYXJyYXkpIHtcbiAgICByZXR1cm4gYHske2FycmF5Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VQZ0FycmF5KGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycgJiYgaXRlbS5pbmNsdWRlcygnLCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gYFwiJHtpdGVtLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKX1cImA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke2l0ZW19YDtcbiAgICB9KS5qb2luKCcsJyl9fWA7XG59XG5cbi8vIFRvIHVuZGVyc3RhbmQgaG93IHRvIHVzZSBgQ29sdW1uQnVpbGRlcmAgYW5kIGBBbnlDb2x1bW5CdWlsZGVyYCwgc2VlIGBDb2x1bW5gIGFuZCBgQW55Q29sdW1uYCBkb2N1bWVudGF0aW9uLlxuY2xhc3MgQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdDb2x1bW5CdWlsZGVyJztcbiAgICBjb25maWc7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBub3ROdWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHByaW1hcnlLZXk6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAkdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG5vdE51bGwoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm5vdE51bGwgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVmYXVsdCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5kZWZhdWx0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuY29uZmlnLmhhc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcHJpbWFyeUtleSgpIHtcbiAgICAgICAgdGhpcy5jb25maWcucHJpbWFyeUtleSA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uZmlnLm5vdE51bGwgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmNsYXNzIFBnQ29sdW1uQnVpbGRlciBleHRlbmRzIENvbHVtbkJ1aWxkZXIge1xuICAgIGZvcmVpZ25LZXlDb25maWdzID0gW107XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0NvbHVtbkJ1aWxkZXInO1xuICAgIGFycmF5KHNpemUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ0FycmF5QnVpbGRlcih0aGlzLmNvbmZpZy5uYW1lLCB0aGlzLCBzaXplKTtcbiAgICB9XG4gICAgcmVmZXJlbmNlcyhyZWYsIGFjdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmZvcmVpZ25LZXlDb25maWdzLnB1c2goeyByZWYsIGFjdGlvbnMgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB1bmlxdWUobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmlzVW5pcXVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jb25maWcudW5pcXVlTmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29uZmlnLnVuaXF1ZVR5cGUgPSBjb25maWc/Lm51bGxzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkRm9yZWlnbktleXMoY29sdW1uLCB0YWJsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JlaWduS2V5Q29uZmlncy5tYXAoKHsgcmVmLCBhY3Rpb25zIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoKHJlZiwgYWN0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkZXIgPSBuZXcgRm9yZWlnbktleUJ1aWxkZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JlaWduQ29sdW1uID0gcmVmKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGNvbHVtbnM6IFtjb2x1bW5dLCBmb3JlaWduQ29sdW1uczogW2ZvcmVpZ25Db2x1bW5dIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbnMub25VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5vblVwZGF0ZShhY3Rpb25zLm9uVXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbnMub25EZWxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5vbkRlbGV0ZShhY3Rpb25zLm9uRGVsZXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIuYnVpbGQodGFibGUpO1xuICAgICAgICAgICAgfSkocmVmLCBhY3Rpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gVG8gdW5kZXJzdGFuZCBob3cgdG8gdXNlIGBQZ0NvbHVtbmAgYW5kIGBBbnlQZ0NvbHVtbmAsIHNlZSBgQ29sdW1uYCBhbmQgYEFueUNvbHVtbmAgZG9jdW1lbnRhdGlvbi5cbmNsYXNzIFBnQ29sdW1uIGV4dGVuZHMgQ29sdW1uIHtcbiAgICB0YWJsZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnQ29sdW1uJztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIGlmICghY29uZmlnLnVuaXF1ZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbmZpZy51bmlxdWVOYW1lID0gdW5pcXVlS2V5TmFtZSh0YWJsZSwgW2NvbmZpZy5uYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIodGFibGUsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICB9XG59XG5cbmNsYXNzIFBnQXJyYXlCdWlsZGVyIGV4dGVuZHMgUGdDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnQXJyYXlCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBiYXNlQnVpbGRlciwgc2l6ZSkge1xuICAgICAgICBzdXBlcihuYW1lKTtcbiAgICAgICAgdGhpcy5jb25maWcuYmFzZUJ1aWxkZXIgPSBiYXNlQnVpbGRlcjtcbiAgICAgICAgdGhpcy5jb25maWcuc2l6ZSA9IHNpemU7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICBjb25zdCBiYXNlQ29sdW1uID0gdGhpcy5jb25maWcuYmFzZUJ1aWxkZXIuYnVpbGQodGFibGUpO1xuICAgICAgICByZXR1cm4gbmV3IFBnQXJyYXkodGFibGUsIHRoaXMuY29uZmlnLCBiYXNlQ29sdW1uKTtcbiAgICB9XG59XG5jbGFzcyBQZ0FycmF5IGV4dGVuZHMgUGdDb2x1bW4ge1xuICAgIGJhc2VDb2x1bW47XG4gICAgcmFuZ2U7XG4gICAgc2l6ZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnQXJyYXknO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcsIGJhc2VDb2x1bW4sIHJhbmdlKSB7XG4gICAgICAgIHN1cGVyKHRhYmxlLCBjb25maWcpO1xuICAgICAgICB0aGlzLmJhc2VDb2x1bW4gPSBiYXNlQ29sdW1uO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGNvbmZpZy5zaXplO1xuICAgIH1cbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5iYXNlQ29sdW1uLmdldFNRTFR5cGUoKX1bJHt0eXBlb2YgdGhpcy5zaXplID09PSAnbnVtYmVyJyA/IHRoaXMuc2l6ZSA6ICcnfV1gO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIFRoYW5rIHlvdSBub2RlLXBvc3RncmVzIGZvciBub3QgcGFyc2luZyBlbnVtIGFycmF5c1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZVBnQXJyYXkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoKHYpID0+IHRoaXMuYmFzZUNvbHVtbi5tYXBGcm9tRHJpdmVyVmFsdWUodikpO1xuICAgIH1cbiAgICBtYXBUb0RyaXZlclZhbHVlKHZhbHVlLCBpc05lc3RlZEFycmF5ID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgYSA9IHZhbHVlLm1hcCgodikgPT4gdiA9PT0gbnVsbFxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IGlzKHRoaXMuYmFzZUNvbHVtbiwgUGdBcnJheSlcbiAgICAgICAgICAgICAgICA/IHRoaXMuYmFzZUNvbHVtbi5tYXBUb0RyaXZlclZhbHVlKHYsIHRydWUpXG4gICAgICAgICAgICAgICAgOiB0aGlzLmJhc2VDb2x1bW4ubWFwVG9Ecml2ZXJWYWx1ZSh2KSk7XG4gICAgICAgIGlmIChpc05lc3RlZEFycmF5KVxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIHJldHVybiBtYWtlUGdBcnJheShhKTtcbiAgICB9XG59XG5cbmNsYXNzIFBnRGF0ZUNvbHVtbkJhc2VCdWlsZGVyIGV4dGVuZHMgUGdDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnRGF0ZUNvbHVtbkJhc2VCdWlsZGVyJztcbiAgICBkZWZhdWx0Tm93KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0KHNxbCBgbm93KClgKTtcbiAgICB9XG59XG5cbmNsYXNzIFBnRGF0ZUJ1aWxkZXIgZXh0ZW5kcyBQZ0RhdGVDb2x1bW5CYXNlQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RhdGVCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ0RhdGUodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBQZ0RhdGUgZXh0ZW5kcyBQZ0NvbHVtbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RhdGUnO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICAgIH1cbiAgICBtYXBUb0RyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH1cbn1cbmNsYXNzIFBnRGF0ZVN0cmluZ0J1aWxkZXIgZXh0ZW5kcyBQZ0RhdGVDb2x1bW5CYXNlQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RhdGVTdHJpbmdCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ0RhdGVTdHJpbmcodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBQZ0RhdGVTdHJpbmcgZXh0ZW5kcyBQZ0NvbHVtbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RhdGVTdHJpbmcnO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfVxufVxuZnVuY3Rpb24gZGF0ZShuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnPy5tb2RlID09PSAnZGF0ZScpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ0RhdGVCdWlsZGVyKG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFBnRGF0ZVN0cmluZ0J1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIFBnSnNvbkJ1aWxkZXIgZXh0ZW5kcyBQZ0NvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdKc29uQnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdKc29uKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgUGdKc29uIGV4dGVuZHMgUGdDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdKc29uJztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKHRhYmxlLCBjb25maWcpO1xuICAgIH1cbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ2pzb24nO1xuICAgIH1cbiAgICBtYXBUb0RyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBqc29uKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFBnSnNvbkJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIFBnSnNvbmJCdWlsZGVyIGV4dGVuZHMgUGdDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnSnNvbmJCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ0pzb25iKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgUGdKc29uYiBleHRlbmRzIFBnQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnSnNvbmInO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIodGFibGUsIGNvbmZpZyk7XG4gICAgfVxuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnanNvbmInO1xuICAgIH1cbiAgICBtYXBUb0RyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBqc29uYihuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQZ0pzb25iQnVpbGRlcihuYW1lKTtcbn1cblxuY2xhc3MgUGdOdW1lcmljQnVpbGRlciBleHRlbmRzIFBnQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ051bWVyaWNCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBwcmVjaXNpb24sIHNjYWxlKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICB0aGlzLmNvbmZpZy5wcmVjaXNpb24gPSBwcmVjaXNpb247XG4gICAgICAgIHRoaXMuY29uZmlnLnNjYWxlID0gc2NhbGU7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBnTnVtZXJpYyh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIFBnTnVtZXJpYyBleHRlbmRzIFBnQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnTnVtZXJpYyc7XG4gICAgcHJlY2lzaW9uO1xuICAgIHNjYWxlO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIodGFibGUsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gY29uZmlnLnByZWNpc2lvbjtcbiAgICAgICAgdGhpcy5zY2FsZSA9IGNvbmZpZy5zY2FsZTtcbiAgICB9XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJlY2lzaW9uICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYG51bWVyaWMoJHt0aGlzLnByZWNpc2lvbn0sICR7dGhpcy5zY2FsZX0pYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnByZWNpc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ251bWVyaWMnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGBudW1lcmljKCR7dGhpcy5wcmVjaXNpb259KWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBudW1lcmljKG5hbWUsIGNvbmZpZykge1xuICAgIHJldHVybiBuZXcgUGdOdW1lcmljQnVpbGRlcihuYW1lLCBjb25maWc/LnByZWNpc2lvbiwgY29uZmlnPy5zY2FsZSk7XG59XG5jb25zdCBkZWNpbWFsID0gbnVtZXJpYztcblxuY2xhc3MgUGdUaW1lQnVpbGRlciBleHRlbmRzIFBnRGF0ZUNvbHVtbkJhc2VCdWlsZGVyIHtcbiAgICB3aXRoVGltZXpvbmU7XG4gICAgcHJlY2lzaW9uO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdUaW1lQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgd2l0aFRpbWV6b25lLCBwcmVjaXNpb24pIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMud2l0aFRpbWV6b25lID0gd2l0aFRpbWV6b25lO1xuICAgICAgICB0aGlzLnByZWNpc2lvbiA9IHByZWNpc2lvbjtcbiAgICAgICAgdGhpcy5jb25maWcud2l0aFRpbWV6b25lID0gd2l0aFRpbWV6b25lO1xuICAgICAgICB0aGlzLmNvbmZpZy5wcmVjaXNpb24gPSBwcmVjaXNpb247XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBnVGltZSh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIFBnVGltZSBleHRlbmRzIFBnQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVGltZSc7XG4gICAgd2l0aFRpbWV6b25lO1xuICAgIHByZWNpc2lvbjtcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKHRhYmxlLCBjb25maWcpO1xuICAgICAgICB0aGlzLndpdGhUaW1lem9uZSA9IGNvbmZpZy53aXRoVGltZXpvbmU7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gY29uZmlnLnByZWNpc2lvbjtcbiAgICB9XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5wcmVjaXNpb24gPT09IHVuZGVmaW5lZCA/ICcnIDogYCgke3RoaXMucHJlY2lzaW9ufSlgO1xuICAgICAgICByZXR1cm4gYHRpbWUke3ByZWNpc2lvbn0ke3RoaXMud2l0aFRpbWV6b25lID8gJyB3aXRoIHRpbWUgem9uZScgOiAnJ31gO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpbWUobmFtZSwgY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gbmV3IFBnVGltZUJ1aWxkZXIobmFtZSwgY29uZmlnLndpdGhUaW1lem9uZSA/PyBmYWxzZSwgY29uZmlnLnByZWNpc2lvbik7XG59XG5cbmNsYXNzIFBnVGltZXN0YW1wQnVpbGRlciBleHRlbmRzIFBnRGF0ZUNvbHVtbkJhc2VCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVGltZXN0YW1wQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgd2l0aFRpbWV6b25lLCBwcmVjaXNpb24pIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMuY29uZmlnLndpdGhUaW1lem9uZSA9IHdpdGhUaW1lem9uZTtcbiAgICAgICAgdGhpcy5jb25maWcucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ1RpbWVzdGFtcCh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIFBnVGltZXN0YW1wIGV4dGVuZHMgUGdDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdUaW1lc3RhbXAnO1xuICAgIHdpdGhUaW1lem9uZTtcbiAgICBwcmVjaXNpb247XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy53aXRoVGltZXpvbmUgPSBjb25maWcud2l0aFRpbWV6b25lO1xuICAgICAgICB0aGlzLnByZWNpc2lvbiA9IGNvbmZpZy5wcmVjaXNpb247XG4gICAgfVxuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMucHJlY2lzaW9uID09PSB1bmRlZmluZWQgPyAnJyA6IGAgKCR7dGhpcy5wcmVjaXNpb259KWA7XG4gICAgICAgIHJldHVybiBgdGltZXN0YW1wJHtwcmVjaXNpb259JHt0aGlzLndpdGhUaW1lem9uZSA/ICcgd2l0aCB0aW1lIHpvbmUnIDogJyd9YDtcbiAgICB9XG4gICAgbWFwRnJvbURyaXZlclZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLndpdGhUaW1lem9uZSA/IHZhbHVlIDogdmFsdWUgKyAnKzAwMDAnKTtcbiAgICB9O1xuICAgIG1hcFRvRHJpdmVyVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aFRpbWV6b25lID8gdmFsdWUudG9VVENTdHJpbmcoKSA6IHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgfTtcbn1cbmNsYXNzIFBnVGltZXN0YW1wU3RyaW5nQnVpbGRlciBleHRlbmRzIFBnRGF0ZUNvbHVtbkJhc2VCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVGltZXN0YW1wU3RyaW5nQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgd2l0aFRpbWV6b25lLCBwcmVjaXNpb24pIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMuY29uZmlnLndpdGhUaW1lem9uZSA9IHdpdGhUaW1lem9uZTtcbiAgICAgICAgdGhpcy5jb25maWcucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ1RpbWVzdGFtcFN0cmluZyh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIFBnVGltZXN0YW1wU3RyaW5nIGV4dGVuZHMgUGdDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdUaW1lc3RhbXBTdHJpbmcnO1xuICAgIHdpdGhUaW1lem9uZTtcbiAgICBwcmVjaXNpb247XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy53aXRoVGltZXpvbmUgPSBjb25maWcud2l0aFRpbWV6b25lO1xuICAgICAgICB0aGlzLnByZWNpc2lvbiA9IGNvbmZpZy5wcmVjaXNpb247XG4gICAgfVxuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMucHJlY2lzaW9uID09PSB1bmRlZmluZWQgPyAnJyA6IGAoJHt0aGlzLnByZWNpc2lvbn0pYDtcbiAgICAgICAgcmV0dXJuIGB0aW1lc3RhbXAke3ByZWNpc2lvbn0ke3RoaXMud2l0aFRpbWV6b25lID8gJyB3aXRoIHRpbWUgem9uZScgOiAnJ31gO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpbWVzdGFtcChuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIGlmIChjb25maWcubW9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ1RpbWVzdGFtcFN0cmluZ0J1aWxkZXIobmFtZSwgY29uZmlnLndpdGhUaW1lem9uZSA/PyBmYWxzZSwgY29uZmlnLnByZWNpc2lvbik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUGdUaW1lc3RhbXBCdWlsZGVyKG5hbWUsIGNvbmZpZy53aXRoVGltZXpvbmUgPz8gZmFsc2UsIGNvbmZpZy5wcmVjaXNpb24pO1xufVxuXG5jbGFzcyBQZ1VVSURCdWlsZGVyIGV4dGVuZHMgUGdDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVVVJREJ1aWxkZXInO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYGRlZmF1bHQgZ2VuX3JhbmRvbV91dWlkKClgIHRvIHRoZSBjb2x1bW4gZGVmaW5pdGlvbi5cbiAgICAgKi9cbiAgICBkZWZhdWx0UmFuZG9tKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0KHNxbCBgZ2VuX3JhbmRvbV91dWlkKClgKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdVVUlEKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgUGdVVUlEIGV4dGVuZHMgUGdDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdVVUlEJztcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ3V1aWQnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHV1aWQobmFtZSkge1xuICAgIHJldHVybiBuZXcgUGdVVUlEQnVpbGRlcihuYW1lKTtcbn1cblxuY2xhc3MgUmVsYXRpb24ge1xuICAgIHNvdXJjZVRhYmxlO1xuICAgIHJlZmVyZW5jZWRUYWJsZTtcbiAgICByZWxhdGlvbk5hbWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdSZWxhdGlvbic7XG4gICAgcmVmZXJlbmNlZFRhYmxlTmFtZTtcbiAgICBmaWVsZE5hbWU7XG4gICAgY29uc3RydWN0b3Ioc291cmNlVGFibGUsIHJlZmVyZW5jZWRUYWJsZSwgcmVsYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuc291cmNlVGFibGUgPSBzb3VyY2VUYWJsZTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VkVGFibGUgPSByZWZlcmVuY2VkVGFibGU7XG4gICAgICAgIHRoaXMucmVsYXRpb25OYW1lID0gcmVsYXRpb25OYW1lO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZWRUYWJsZU5hbWUgPSByZWZlcmVuY2VkVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgIH1cbn1cbmNsYXNzIFJlbGF0aW9ucyB7XG4gICAgdGFibGU7XG4gICAgY29uZmlnO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUmVsYXRpb25zJztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgfVxufVxuY2xhc3MgT25lIGV4dGVuZHMgUmVsYXRpb24ge1xuICAgIGNvbmZpZztcbiAgICBpc051bGxhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnT25lJztcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VUYWJsZSwgcmVmZXJlbmNlZFRhYmxlLCBjb25maWcsIGlzTnVsbGFibGUpIHtcbiAgICAgICAgc3VwZXIoc291cmNlVGFibGUsIHJlZmVyZW5jZWRUYWJsZSwgY29uZmlnPy5yZWxhdGlvbk5hbWUpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gaXNOdWxsYWJsZTtcbiAgICB9XG4gICAgd2l0aEZpZWxkTmFtZShmaWVsZE5hbWUpIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb24gPSBuZXcgT25lKHRoaXMuc291cmNlVGFibGUsIHRoaXMucmVmZXJlbmNlZFRhYmxlLCB0aGlzLmNvbmZpZywgdGhpcy5pc051bGxhYmxlKTtcbiAgICAgICAgcmVsYXRpb24uZmllbGROYW1lID0gZmllbGROYW1lO1xuICAgICAgICByZXR1cm4gcmVsYXRpb247XG4gICAgfVxufVxuY2xhc3MgTWFueSBleHRlbmRzIFJlbGF0aW9uIHtcbiAgICBjb25maWc7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNYW55JztcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VUYWJsZSwgcmVmZXJlbmNlZFRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoc291cmNlVGFibGUsIHJlZmVyZW5jZWRUYWJsZSwgY29uZmlnPy5yZWxhdGlvbk5hbWUpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG4gICAgd2l0aEZpZWxkTmFtZShmaWVsZE5hbWUpIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb24gPSBuZXcgTWFueSh0aGlzLnNvdXJjZVRhYmxlLCB0aGlzLnJlZmVyZW5jZWRUYWJsZSwgdGhpcy5jb25maWcpO1xuICAgICAgICByZWxhdGlvbi5maWVsZE5hbWUgPSBmaWVsZE5hbWU7XG4gICAgICAgIHJldHVybiByZWxhdGlvbjtcbiAgICB9XG59XG5jb25zdCBvcGVyYXRvcnMgPSB7XG4gICAgc3FsLFxuICAgIGVxLFxuICAgIGFuZCxcbiAgICBvcixcbn07XG5jb25zdCBvcmRlckJ5T3BlcmF0b3JzID0ge1xuICAgIHNxbCxcbiAgICBhc2MsXG4gICAgZGVzYyxcbn07XG5mdW5jdGlvbiBleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZyhzY2hlbWEsIGNvbmZpZ0hlbHBlcnMpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMoc2NoZW1hKS5sZW5ndGggPT09IDEgJiYgJ2RlZmF1bHQnIGluIHNjaGVtYSAmJiAhaXMoc2NoZW1hWydkZWZhdWx0J10sIFRhYmxlKSkge1xuICAgICAgICBzY2hlbWEgPSBzY2hlbWFbJ2RlZmF1bHQnXTtcbiAgICB9XG4gICAgLy8gdGFibGUgREIgbmFtZSAtPiBzY2hlbWEgdGFibGUga2V5XG4gICAgY29uc3QgdGFibGVOYW1lc01hcCA9IHt9O1xuICAgIC8vIFRhYmxlIHJlbGF0aW9ucyBmb3VuZCBiZWZvcmUgdGhlaXIgdGFibGVzIC0gbmVlZCB0byBidWZmZXIgdGhlbSB1bnRpbCB3ZSBrbm93IHRoZSBzY2hlbWEgdGFibGUga2V5XG4gICAgY29uc3QgcmVsYXRpb25zQnVmZmVyID0ge307XG4gICAgY29uc3QgdGFibGVzQ29uZmlnID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hKSkge1xuICAgICAgICBpZiAoaXNUYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRiTmFtZSA9IHZhbHVlW1RhYmxlLlN5bWJvbC5OYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlcmVkUmVsYXRpb25zID0gcmVsYXRpb25zQnVmZmVyW2RiTmFtZV07XG4gICAgICAgICAgICB0YWJsZU5hbWVzTWFwW2RiTmFtZV0gPSBrZXk7XG4gICAgICAgICAgICB0YWJsZXNDb25maWdba2V5XSA9IHtcbiAgICAgICAgICAgICAgICB0c05hbWU6IGtleSxcbiAgICAgICAgICAgICAgICBkYk5hbWU6IHZhbHVlW1RhYmxlLlN5bWJvbC5OYW1lXSxcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiB2YWx1ZVtUYWJsZS5TeW1ib2wuQ29sdW1uc10sXG4gICAgICAgICAgICAgICAgcmVsYXRpb25zOiBidWZmZXJlZFJlbGF0aW9ucz8ucmVsYXRpb25zID8/IHt9LFxuICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IGJ1ZmZlcmVkUmVsYXRpb25zPy5wcmltYXJ5S2V5ID8/IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEZpbGwgaW4gcHJpbWFyeSBrZXlzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbHVtbiBvZiBPYmplY3QudmFsdWVzKHZhbHVlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnByaW1hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGVzQ29uZmlnW2tleV0ucHJpbWFyeUtleS5wdXNoKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXh0cmFDb25maWcgPSB2YWx1ZVtUYWJsZS5TeW1ib2wuRXh0cmFDb25maWdCdWlsZGVyXT8uKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChleHRyYUNvbmZpZykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29uZmlnRW50cnkgb2YgT2JqZWN0LnZhbHVlcyhleHRyYUNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzKGNvbmZpZ0VudHJ5LCBQcmltYXJ5S2V5QnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlc0NvbmZpZ1trZXldLnByaW1hcnlLZXkucHVzaCguLi5jb25maWdFbnRyeS5jb2x1bW5zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyh2YWx1ZSwgUmVsYXRpb25zKSkge1xuICAgICAgICAgICAgY29uc3QgZGJOYW1lID0gdmFsdWUudGFibGVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgICAgICAgICAgY29uc3QgdGFibGVOYW1lID0gdGFibGVOYW1lc01hcFtkYk5hbWVdO1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zID0gdmFsdWUuY29uZmlnKGNvbmZpZ0hlbHBlcnModmFsdWUudGFibGUpKTtcbiAgICAgICAgICAgIGxldCBwcmltYXJ5S2V5O1xuICAgICAgICAgICAgZm9yIChjb25zdCBbcmVsYXRpb25OYW1lLCByZWxhdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMocmVsYXRpb25zKSkge1xuICAgICAgICAgICAgICAgIGlmICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGVDb25maWcgPSB0YWJsZXNDb25maWdbdGFibGVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgdGFibGVDb25maWcucmVsYXRpb25zW3JlbGF0aW9uTmFtZV0gPSByZWxhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGRiTmFtZSBpbiByZWxhdGlvbnNCdWZmZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnNCdWZmZXJbZGJOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc0J1ZmZlcltkYk5hbWVdLnJlbGF0aW9uc1tyZWxhdGlvbk5hbWVdID0gcmVsYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHRhYmxlczogdGFibGVzQ29uZmlnLCB0YWJsZU5hbWVzTWFwIH07XG59XG5mdW5jdGlvbiByZWxhdGlvbnModGFibGUsIHJlbGF0aW9ucykge1xuICAgIHJldHVybiBuZXcgUmVsYXRpb25zKHRhYmxlLCAoaGVscGVycykgPT4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHJlbGF0aW9ucyhoZWxwZXJzKSlcbiAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCB2YWx1ZS53aXRoRmllbGROYW1lKGtleSldKSkpO1xufVxuZnVuY3Rpb24gY3JlYXRlT25lKHNvdXJjZVRhYmxlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uZSh0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgT25lKHNvdXJjZVRhYmxlLCB0YWJsZSwgY29uZmlnLCAoY29uZmlnPy5maWVsZHMucmVkdWNlKChyZXMsIGYpID0+IHJlcyAmJiBmLm5vdE51bGwsIHRydWUpID8/IGZhbHNlKSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1hbnkoc291cmNlVGFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWFueShyZWZlcmVuY2VkVGFibGUsIGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IE1hbnkoc291cmNlVGFibGUsIHJlZmVyZW5jZWRUYWJsZSwgY29uZmlnKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUmVsYXRpb24oc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCByZWxhdGlvbikge1xuICAgIGlmIChpcyhyZWxhdGlvbiwgT25lKSAmJiByZWxhdGlvbi5jb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkczogcmVsYXRpb24uY29uZmlnLmZpZWxkcyxcbiAgICAgICAgICAgIHJlZmVyZW5jZXM6IHJlbGF0aW9uLmNvbmZpZy5yZWZlcmVuY2VzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZWZlcmVuY2VkVGFibGVUc05hbWUgPSB0YWJsZU5hbWVzTWFwW3JlbGF0aW9uLnJlZmVyZW5jZWRUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV1dO1xuICAgIGlmICghcmVmZXJlbmNlZFRhYmxlVHNOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGFibGUgXCIke3JlbGF0aW9uLnJlZmVyZW5jZWRUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV19XCIgbm90IGZvdW5kIGluIHNjaGVtYWApO1xuICAgIH1cbiAgICBjb25zdCByZWZlcmVuY2VkVGFibGVGaWVsZHMgPSBzY2hlbWFbcmVmZXJlbmNlZFRhYmxlVHNOYW1lXTtcbiAgICBpZiAoIXJlZmVyZW5jZWRUYWJsZUZpZWxkcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRhYmxlIFwiJHtyZWZlcmVuY2VkVGFibGVUc05hbWV9XCIgbm90IGZvdW5kIGluIHNjaGVtYWApO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2VUYWJsZSA9IHJlbGF0aW9uLnNvdXJjZVRhYmxlO1xuICAgIGNvbnN0IHNvdXJjZVRhYmxlVHNOYW1lID0gdGFibGVOYW1lc01hcFtzb3VyY2VUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV1dO1xuICAgIGlmICghc291cmNlVGFibGVUc05hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYWJsZSBcIiR7c291cmNlVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdfVwiIG5vdCBmb3VuZCBpbiBzY2hlbWFgKTtcbiAgICB9XG4gICAgY29uc3QgcmV2ZXJzZVJlbGF0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVmZXJlbmNlZFRhYmxlUmVsYXRpb24gb2YgT2JqZWN0LnZhbHVlcyhyZWZlcmVuY2VkVGFibGVGaWVsZHMucmVsYXRpb25zKSkge1xuICAgICAgICBpZiAoKHJlbGF0aW9uLnJlbGF0aW9uTmFtZSAmJiByZWxhdGlvbiAhPT0gcmVmZXJlbmNlZFRhYmxlUmVsYXRpb25cbiAgICAgICAgICAgICYmIHJlZmVyZW5jZWRUYWJsZVJlbGF0aW9uLnJlbGF0aW9uTmFtZSA9PT0gcmVsYXRpb24ucmVsYXRpb25OYW1lKVxuICAgICAgICAgICAgfHwgKCFyZWxhdGlvbi5yZWxhdGlvbk5hbWUgJiYgcmVmZXJlbmNlZFRhYmxlUmVsYXRpb24ucmVmZXJlbmNlZFRhYmxlID09PSByZWxhdGlvbi5zb3VyY2VUYWJsZSkpIHtcbiAgICAgICAgICAgIHJldmVyc2VSZWxhdGlvbnMucHVzaChyZWZlcmVuY2VkVGFibGVSZWxhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJldmVyc2VSZWxhdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyByZWxhdGlvbi5yZWxhdGlvbk5hbWVcbiAgICAgICAgICAgID8gbmV3IEVycm9yKGBUaGVyZSBhcmUgbXVsdGlwbGUgcmVsYXRpb25zIHdpdGggbmFtZSBcIiR7cmVsYXRpb24ucmVsYXRpb25OYW1lfVwiIGluIHRhYmxlIFwiJHtyZWZlcmVuY2VkVGFibGVUc05hbWV9XCJgKVxuICAgICAgICAgICAgOiBuZXcgRXJyb3IoYFRoZXJlIGFyZSBtdWx0aXBsZSByZWxhdGlvbnMgYmV0d2VlbiBcIiR7cmVmZXJlbmNlZFRhYmxlVHNOYW1lfVwiIGFuZCBcIiR7cmVsYXRpb24uc291cmNlVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdfVwiLiBQbGVhc2Ugc3BlY2lmeSByZWxhdGlvbiBuYW1lYCk7XG4gICAgfVxuICAgIGlmIChyZXZlcnNlUmVsYXRpb25zWzBdICYmIGlzKHJldmVyc2VSZWxhdGlvbnNbMF0sIE9uZSkgJiYgcmV2ZXJzZVJlbGF0aW9uc1swXS5jb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkczogcmV2ZXJzZVJlbGF0aW9uc1swXS5jb25maWcucmVmZXJlbmNlcyxcbiAgICAgICAgICAgIHJlZmVyZW5jZXM6IHJldmVyc2VSZWxhdGlvbnNbMF0uY29uZmlnLmZpZWxkcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBpcyBub3QgZW5vdWdoIGluZm9ybWF0aW9uIHRvIGluZmVyIHJlbGF0aW9uIFwiJHtzb3VyY2VUYWJsZVRzTmFtZX0uJHtyZWxhdGlvbi5maWVsZE5hbWV9XCJgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRhYmxlUmVsYXRpb25zSGVscGVycyhzb3VyY2VUYWJsZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uZTogY3JlYXRlT25lKHNvdXJjZVRhYmxlKSxcbiAgICAgICAgbWFueTogY3JlYXRlTWFueShzb3VyY2VUYWJsZSksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1hcFJlbGF0aW9uYWxSb3codGFibGVzQ29uZmlnLCB0YWJsZUNvbmZpZywgcm93LCBidWlsZFF1ZXJ5UmVzdWx0U2VsZWN0aW9uLCBtYXBDb2x1bW5WYWx1ZSA9ICh2YWx1ZSkgPT4gdmFsdWUpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtzZWxlY3Rpb25JdGVtSW5kZXgsIHNlbGVjdGlvbkl0ZW1dIG9mIGJ1aWxkUXVlcnlSZXN1bHRTZWxlY3Rpb24uZW50cmllcygpKSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb25JdGVtLmlzSnNvbikge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb24gPSB0YWJsZUNvbmZpZy5yZWxhdGlvbnNbc2VsZWN0aW9uSXRlbS50c0tleV07XG4gICAgICAgICAgICBjb25zdCByYXdTdWJSb3dzID0gcm93W3NlbGVjdGlvbkl0ZW1JbmRleF07XG4gICAgICAgICAgICBjb25zdCBzdWJSb3dzID0gdHlwZW9mIHJhd1N1YlJvd3MgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShyYXdTdWJSb3dzKSA6IHJhd1N1YlJvd3M7XG4gICAgICAgICAgICBpZiAoaXMocmVsYXRpb24sIE9uZSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbc2VsZWN0aW9uSXRlbS50c0tleV0gPSBzdWJSb3dzWzBdXG4gICAgICAgICAgICAgICAgICAgID8gbWFwUmVsYXRpb25hbFJvdyh0YWJsZXNDb25maWcsIHRhYmxlc0NvbmZpZ1tzZWxlY3Rpb25JdGVtLnRhYmxlVHNLZXldLCBzdWJSb3dzWzBdLCBzZWxlY3Rpb25JdGVtLnNlbGVjdGlvbiwgbWFwQ29sdW1uVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtzZWxlY3Rpb25JdGVtLnRzS2V5XSA9IHN1YlJvd3MubWFwKChzdWJSb3cpID0+IG1hcFJlbGF0aW9uYWxSb3codGFibGVzQ29uZmlnLCB0YWJsZXNDb25maWdbc2VsZWN0aW9uSXRlbS50YWJsZVRzS2V5XSwgc3ViUm93LCBzZWxlY3Rpb25JdGVtLnNlbGVjdGlvbiwgbWFwQ29sdW1uVmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbWFwQ29sdW1uVmFsdWUocm93W3NlbGVjdGlvbkl0ZW1JbmRleF0pO1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBzZWxlY3Rpb25JdGVtLmZpZWxkO1xuICAgICAgICAgICAgbGV0IGRlY29kZXI7XG4gICAgICAgICAgICBpZiAoaXMoZmllbGQsIENvbHVtbikpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyID0gZmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhmaWVsZCwgU1FMKSkge1xuICAgICAgICAgICAgICAgIGRlY29kZXIgPSBmaWVsZC5kZWNvZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVjb2RlciA9IGZpZWxkLnNxbC5kZWNvZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0W3NlbGVjdGlvbkl0ZW0udHNLZXldID0gdmFsdWUgPT09IG51bGwgPyBudWxsIDogZGVjb2Rlci5tYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGJpbmRJZlBhcmFtKHZhbHVlLCBjb2x1bW4pIHtcbiAgICBpZiAoaXNEcml2ZXJWYWx1ZUVuY29kZXIoY29sdW1uKSAmJiAhaXNTUUxXcmFwcGVyKHZhbHVlKSAmJiAhaXModmFsdWUsIFBhcmFtKSAmJiAhaXModmFsdWUsIFBsYWNlaG9sZGVyKVxuICAgICAgICAmJiAhaXModmFsdWUsIENvbHVtbikgJiYgIWlzKHZhbHVlLCBUYWJsZSkgJiYgIWlzKHZhbHVlLCBWaWV3KSkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcmFtKHZhbHVlLCBjb2x1bW4pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBlcShsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBzcWwgYCR7bGVmdH0gPSAke2JpbmRJZlBhcmFtKHJpZ2h0LCBsZWZ0KX1gO1xufVxuZnVuY3Rpb24gbmUobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gc3FsIGAke2xlZnR9IDw+ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59XG5mdW5jdGlvbiBhbmQoLi4udW5maWx0ZXJlZENvbmRpdGlvbnMpIHtcbiAgICBjb25zdCBjb25kaXRpb25zID0gdW5maWx0ZXJlZENvbmRpdGlvbnMuZmlsdGVyKChjKSA9PiBjICE9PSB1bmRlZmluZWQpO1xuICAgIGlmIChjb25kaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbnNbMF07XG4gICAgfVxuICAgIGNvbnN0IGNodW5rcyA9IFtzcWwucmF3KCcoJyldO1xuICAgIGZvciAoY29uc3QgW2luZGV4LCBjb25kaXRpb25dIG9mIGNvbmRpdGlvbnMuZW50cmllcygpKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgY2h1bmtzLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKHNxbCBgIGFuZCBgLCBjb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNodW5rcy5wdXNoKHNxbCBgKWApO1xuICAgIHJldHVybiBzcWwuZnJvbUxpc3QoY2h1bmtzKTtcbn1cbmZ1bmN0aW9uIG9yKC4uLnVuZmlsdGVyZWRDb25kaXRpb25zKSB7XG4gICAgY29uc3QgY29uZGl0aW9ucyA9IHVuZmlsdGVyZWRDb25kaXRpb25zLmZpbHRlcigoYykgPT4gYyAhPT0gdW5kZWZpbmVkKTtcbiAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGNvbmRpdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBjb25kaXRpb25zWzBdO1xuICAgIH1cbiAgICBjb25zdCBjaHVua3MgPSBbc3FsLnJhdygnKCcpXTtcbiAgICBmb3IgKGNvbnN0IFtpbmRleCwgY29uZGl0aW9uXSBvZiBjb25kaXRpb25zLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKGNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaHVua3MucHVzaChzcWwgYCBvciBgLCBjb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNodW5rcy5wdXNoKHNxbCBgKWApO1xuICAgIHJldHVybiBzcWwuZnJvbUxpc3QoY2h1bmtzKTtcbn1cbi8qKlxuICogTmVnYXRlIHRoZSBtZWFuaW5nIG9mIGFuIGV4cHJlc3Npb24gdXNpbmcgdGhlIGBub3RgIGtleXdvcmQuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGNhcnMgX25vdF8gbWFkZSBieSBHTSBvciBGb3JkLlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUobm90KGluQXJyYXkoY2Fycy5tYWtlLCBbJ0dNJywgJ0ZvcmQnXSkpKVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIG5vdChjb25kaXRpb24pIHtcbiAgICByZXR1cm4gc3FsIGBub3QgJHtjb25kaXRpb259YDtcbn1cbmZ1bmN0aW9uIGd0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIHNxbCBgJHtsZWZ0fSA+ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59XG5mdW5jdGlvbiBndGUobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gc3FsIGAke2xlZnR9ID49ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59XG5mdW5jdGlvbiBsdChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBzcWwgYCR7bGVmdH0gPCAke2JpbmRJZlBhcmFtKHJpZ2h0LCBsZWZ0KX1gO1xufVxuZnVuY3Rpb24gbHRlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIHNxbCBgJHtsZWZ0fSA8PSAke2JpbmRJZlBhcmFtKHJpZ2h0LCBsZWZ0KX1gO1xufVxuZnVuY3Rpb24gaW5BcnJheShjb2x1bW4sIHZhbHVlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW5BcnJheSByZXF1aXJlcyBhdCBsZWFzdCBvbmUgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gaW4gJHt2YWx1ZXMubWFwKCh2KSA9PiBiaW5kSWZQYXJhbSh2LCBjb2x1bW4pKX1gO1xuICAgIH1cbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gaW4gJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcbn1cbmZ1bmN0aW9uIG5vdEluQXJyYXkoY29sdW1uLCB2YWx1ZXMpIHtcbiAgICBpZiAoaXNTUUxXcmFwcGVyKHZhbHVlcykpIHtcbiAgICAgICAgcmV0dXJuIHNxbCBgJHtjb2x1bW59IG5vdCBpbiAke3ZhbHVlc31gO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2luQXJyYXkgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNxbCBgJHtjb2x1bW59IG5vdCBpbiAke3ZhbHVlcy5tYXAoKHYpID0+IGJpbmRJZlBhcmFtKHYsIGNvbHVtbikpfWA7XG4gICAgfVxuICAgIHJldHVybiBzcWwgYCR7Y29sdW1ufSBub3QgaW4gJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIGV4cHJlc3Npb24gaXMgTlVMTC4gQnkgdGhlIFNRTCBzdGFuZGFyZCxcbiAqIE5VTEwgaXMgbmVpdGhlciBlcXVhbCBub3Igbm90IGVxdWFsIHRvIGl0c2VsZiwgc29cbiAqIGl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIGBpc051bGxgIGFuZCBgbm90SXNOdWxsYCBmb3JcbiAqIGNvbXBhcmlzb25zIHRvIE5VTEwuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGNhcnMgdGhhdCBoYXZlIG5vIGRpc2NvbnRpbnVlZEF0IGRhdGUuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShpc051bGwoY2Fycy5kaXNjb250aW51ZWRBdCkpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGlzTm90TnVsbCBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmZ1bmN0aW9uIGlzTnVsbChjb2x1bW4pIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gaXMgbnVsbGA7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBleHByZXNzaW9uIGlzIG5vdCBOVUxMLiBCeSB0aGUgU1FMIHN0YW5kYXJkLFxuICogTlVMTCBpcyBuZWl0aGVyIGVxdWFsIG5vciBub3QgZXF1YWwgdG8gaXRzZWxmLCBzb1xuICogaXQncyByZWNvbW1lbmRlZCB0byB1c2UgYGlzTnVsbGAgYW5kIGBub3RJc051bGxgIGZvclxuICogY29tcGFyaXNvbnMgdG8gTlVMTC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgY2FycyB0aGF0IGhhdmUgYmVlbiBkaXNjb250aW51ZWQuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShpc05vdE51bGwoY2Fycy5kaXNjb250aW51ZWRBdCkpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGlzTnVsbCBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmZ1bmN0aW9uIGlzTm90TnVsbChjb2x1bW4pIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gaXMgbm90IG51bGxgO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBzdWJxdWVyeSBldmFsdWF0ZXMgdG8gaGF2ZSBhbnkgcm93cy5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBVc2VycyB3aG9zZSBgaG9tZUNpdHlgIGNvbHVtbiBoYXMgYSBtYXRjaCBpbiBhIGNpdGllc1xuICogLy8gdGFibGUuXG4gKiBkYlxuICogICAuc2VsZWN0KClcbiAqICAgLmZyb20odXNlcnMpXG4gKiAgIC53aGVyZShcbiAqICAgICBleGlzdHMoZGIuc2VsZWN0KClcbiAqICAgICAgIC5mcm9tKGNpdGllcylcbiAqICAgICAgIC53aGVyZShlcSh1c2Vycy5ob21lQ2l0eSwgY2l0aWVzLmlkKSkpLFxuICogICApO1xuICogYGBgXG4gKlxuICogQHNlZSBub3RFeGlzdHMgZm9yIHRoZSBpbnZlcnNlIG9mIHRoaXMgdGVzdFxuICovXG5mdW5jdGlvbiBleGlzdHMoc3VicXVlcnkpIHtcbiAgICByZXR1cm4gc3FsIGBleGlzdHMgKCR7c3VicXVlcnl9KWA7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHN1YnF1ZXJ5IGRvZXNuJ3QgaW5jbHVkZSBhbnkgcmVzdWx0XG4gKiByb3dzLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFVzZXJzIHdob3NlIGBob21lQ2l0eWAgY29sdW1uIGRvZXNuJ3QgbWF0Y2hcbiAqIC8vIGEgcm93IGluIHRoZSBjaXRpZXMgdGFibGUuXG4gKiBkYlxuICogICAuc2VsZWN0KClcbiAqICAgLmZyb20odXNlcnMpXG4gKiAgIC53aGVyZShcbiAqICAgICBub3RFeGlzdHMoZGIuc2VsZWN0KClcbiAqICAgICAgIC5mcm9tKGNpdGllcylcbiAqICAgICAgIC53aGVyZShlcSh1c2Vycy5ob21lQ2l0eSwgY2l0aWVzLmlkKSkpLFxuICogICApO1xuICogYGBgXG4gKlxuICogQHNlZSBleGlzdHMgZm9yIHRoZSBpbnZlcnNlIG9mIHRoaXMgdGVzdFxuICovXG5mdW5jdGlvbiBub3RFeGlzdHMoc3VicXVlcnkpIHtcbiAgICByZXR1cm4gc3FsIGBub3QgZXhpc3RzICgke3N1YnF1ZXJ5fSlgO1xufVxuZnVuY3Rpb24gYmV0d2Vlbihjb2x1bW4sIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIHNxbCBgJHtjb2x1bW59IGJldHdlZW4gJHtiaW5kSWZQYXJhbShtaW4sIGNvbHVtbil9IGFuZCAke2JpbmRJZlBhcmFtKG1heCwgY29sdW1uKX1gO1xufVxuZnVuY3Rpb24gbm90QmV0d2Vlbihjb2x1bW4sIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIHNxbCBgJHtjb2x1bW59IG5vdCBiZXR3ZWVuICR7YmluZElmUGFyYW0obWluLCBjb2x1bW4pfSBhbmQgJHtiaW5kSWZQYXJhbShtYXgsIGNvbHVtbil9YDtcbn1cbi8qKlxuICogQ29tcGFyZSBhIGNvbHVtbiB0byBhIHBhdHRlcm4sIHdoaWNoIGNhbiBpbmNsdWRlIGAlYCBhbmQgYF9gXG4gKiBjaGFyYWN0ZXJzIHRvIG1hdGNoIG11bHRpcGxlIHZhcmlhdGlvbnMuIEluY2x1ZGluZyBgJWBcbiAqIGluIHRoZSBwYXR0ZXJuIG1hdGNoZXMgemVybyBvciBtb3JlIGNoYXJhY3RlcnMsIGFuZCBpbmNsdWRpbmdcbiAqIGBfYCB3aWxsIG1hdGNoIGEgc2luZ2xlIGNoYXJhY3Rlci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgYWxsIGNhcnMgd2l0aCAnVHVyYm8nIGluIHRoZWlyIG5hbWVzLlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUobGlrZShjYXJzLm5hbWUsICclVHVyYm8lJykpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGlsaWtlIGZvciBhIGNhc2UtaW5zZW5zaXRpdmUgdmVyc2lvbiBvZiB0aGlzIGNvbmRpdGlvblxuICovXG5mdW5jdGlvbiBsaWtlKGNvbHVtbiwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gbGlrZSAke3ZhbHVlfWA7XG59XG4vKipcbiAqIFRoZSBpbnZlcnNlIG9mIGxpa2UgLSB0aGlzIHRlc3RzIHRoYXQgYSBnaXZlbiBjb2x1bW5cbiAqIGRvZXMgbm90IG1hdGNoIGEgcGF0dGVybiwgd2hpY2ggY2FuIGluY2x1ZGUgYCVgIGFuZCBgX2BcbiAqIGNoYXJhY3RlcnMgdG8gbWF0Y2ggbXVsdGlwbGUgdmFyaWF0aW9ucy4gSW5jbHVkaW5nIGAlYFxuICogaW4gdGhlIHBhdHRlcm4gbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgY2hhcmFjdGVycywgYW5kIGluY2x1ZGluZ1xuICogYF9gIHdpbGwgbWF0Y2ggYSBzaW5nbGUgY2hhcmFjdGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBhbGwgY2FycyB0aGF0IGRvbid0IGhhdmUgXCJST3ZlclwiIGluIHRoZWlyIG5hbWUuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShub3RMaWtlKGNhcnMubmFtZSwgJyVSb3ZlciUnKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgbGlrZSBmb3IgdGhlIGludmVyc2UgY29uZGl0aW9uXG4gKiBAc2VlIG5vdElsaWtlIGZvciBhIGNhc2UtaW5zZW5zaXRpdmUgdmVyc2lvbiBvZiB0aGlzIGNvbmRpdGlvblxuICovXG5mdW5jdGlvbiBub3RMaWtlKGNvbHVtbiwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gbm90IGxpa2UgJHt2YWx1ZX1gO1xufVxuLyoqXG4gKiBDYXNlLWluc2Vuc2l0aXZlbHkgY29tcGFyZSBhIGNvbHVtbiB0byBhIHBhdHRlcm4sXG4gKiB3aGljaCBjYW4gaW5jbHVkZSBgJWAgYW5kIGBfYFxuICogY2hhcmFjdGVycyB0byBtYXRjaCBtdWx0aXBsZSB2YXJpYXRpb25zLiBJbmNsdWRpbmcgYCVgXG4gKiBpbiB0aGUgcGF0dGVybiBtYXRjaGVzIHplcm8gb3IgbW9yZSBjaGFyYWN0ZXJzLCBhbmQgaW5jbHVkaW5nXG4gKiBgX2Agd2lsbCBtYXRjaCBhIHNpbmdsZSBjaGFyYWN0ZXIuXG4gKlxuICogVW5saWtlIGxpa2UsIHRoaXMgcGVyZm9ybXMgYSBjYXNlLWluc2Vuc2l0aXZlIGNvbXBhcmlzb24uXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGFsbCBjYXJzIHdpdGggJ1R1cmJvJyBpbiB0aGVpciBuYW1lcy5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKGlsaWtlKGNhcnMubmFtZSwgJyVUdXJibyUnKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgbGlrZSBmb3IgYSBjYXNlLXNlbnNpdGl2ZSB2ZXJzaW9uIG9mIHRoaXMgY29uZGl0aW9uXG4gKi9cbmZ1bmN0aW9uIGlsaWtlKGNvbHVtbiwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gaWxpa2UgJHt2YWx1ZX1gO1xufVxuLyoqXG4gKiBUaGUgaW52ZXJzZSBvZiBpbGlrZSAtIHRoaXMgY2FzZS1pbnNlbnNpdGl2ZWx5IHRlc3RzIHRoYXQgYSBnaXZlbiBjb2x1bW5cbiAqIGRvZXMgbm90IG1hdGNoIGEgcGF0dGVybiwgd2hpY2ggY2FuIGluY2x1ZGUgYCVgIGFuZCBgX2BcbiAqIGNoYXJhY3RlcnMgdG8gbWF0Y2ggbXVsdGlwbGUgdmFyaWF0aW9ucy4gSW5jbHVkaW5nIGAlYFxuICogaW4gdGhlIHBhdHRlcm4gbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgY2hhcmFjdGVycywgYW5kIGluY2x1ZGluZ1xuICogYF9gIHdpbGwgbWF0Y2ggYSBzaW5nbGUgY2hhcmFjdGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBhbGwgY2FycyB0aGF0IGRvbid0IGhhdmUgXCJSb3ZlclwiIGluIHRoZWlyIG5hbWUuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShub3RMaWtlKGNhcnMubmFtZSwgJyVSb3ZlciUnKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgaWxpa2UgZm9yIHRoZSBpbnZlcnNlIGNvbmRpdGlvblxuICogQHNlZSBub3RMaWtlIGZvciBhIGNhc2Utc2Vuc2l0aXZlIHZlcnNpb24gb2YgdGhpcyBjb25kaXRpb25cbiAqL1xuZnVuY3Rpb24gbm90SWxpa2UoY29sdW1uLCB2YWx1ZSkge1xuICAgIHJldHVybiBzcWwgYCR7Y29sdW1ufSBub3QgaWxpa2UgJHt2YWx1ZX1gO1xufVxuXG4vKipcbiAqIFVzZWQgaW4gc29ydGluZywgdGhpcyBzcGVjaWZpZXMgdGhhdCB0aGUgZ2l2ZW5cbiAqIGNvbHVtbiBvciBleHByZXNzaW9uIHNob3VsZCBiZSBzb3J0ZWQgaW4gYXNjZW5kaW5nXG4gKiBvcmRlci4gQnkgdGhlIFNRTCBzdGFuZGFyZCwgYXNjZW5kaW5nIG9yZGVyIGlzIHRoZVxuICogZGVmYXVsdCwgc28gaXQgaXMgbm90IHVzdWFsbHkgbmVjZXNzYXJ5IHRvIHNwZWNpZnlcbiAqIGFzY2VuZGluZyBzb3J0IG9yZGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFJldHVybiBjYXJzLCBzdGFydGluZyB3aXRoIHRoZSBvbGRlc3QgbW9kZWxzXG4gKiAvLyBhbmQgZ29pbmcgaW4gYXNjZW5kaW5nIG9yZGVyIHRvIHRoZSBuZXdlc3QuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC5vcmRlckJ5KGFzYyhjYXJzLnllYXIpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgZGVzYyB0byBzb3J0IGluIGRlc2NlbmRpbmcgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXNjKGNvbHVtbikge1xuICAgIHJldHVybiBzcWwgYCR7Y29sdW1ufSBhc2NgO1xufVxuLyoqXG4gKiBVc2VkIGluIHNvcnRpbmcsIHRoaXMgc3BlY2lmaWVzIHRoYXQgdGhlIGdpdmVuXG4gKiBjb2x1bW4gb3IgZXhwcmVzc2lvbiBzaG91bGQgYmUgc29ydGVkIGluIGRlc2NlbmRpbmdcbiAqIG9yZGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCB1c2Vycywgd2l0aCB0aGUgbW9zdCByZWNlbnRseSBjcmVhdGVkXG4gKiAvLyByZWNvcmRzIGNvbWluZyBmaXJzdC5cbiAqIGRiLnNlbGVjdCgpLmZyb20odXNlcnMpXG4gKiAgIC5vcmRlckJ5KGRlc2ModXNlcnMuY3JlYXRlZEF0KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGFzYyB0byBzb3J0IGluIGFzY2VuZGluZyBvcmRlclxuICovXG5mdW5jdGlvbiBkZXNjKGNvbHVtbikge1xuICAgIHJldHVybiBzcWwgYCR7Y29sdW1ufSBkZXNjYDtcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaW5kaWNhdGUgYSBwcmltaXRpdmUgcGFyYW0gdmFsdWUgdGhhdCBpcyB1c2VkIGluIGBzcWxgIHRhZy5cbiAqIEl0IGlzIG9ubHkgdXNlZCBvbiB0eXBlIGxldmVsIGFuZCBpcyBuZXZlciBpbnN0YW50aWF0ZWQgYXQgcnVudGltZS5cbiAqIElmIHlvdSBzZWUgYSB2YWx1ZSBvZiB0aGlzIHR5cGUgaW4gdGhlIGNvZGUsIGl0cyBydW50aW1lIHZhbHVlIGlzIGFjdHVhbGx5IHRoZSBwcmltaXRpdmUgcGFyYW0gdmFsdWUuXG4gKi9cbmNsYXNzIEZha2VQcmltaXRpdmVQYXJhbSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdGYWtlUHJpbWl0aXZlUGFyYW0nO1xufVxuZnVuY3Rpb24gaXNTUUxXcmFwcGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgJ2dldFNRTCcgaW4gdmFsdWVcbiAgICAgICAgJiYgdHlwZW9mIHZhbHVlLmdldFNRTCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIG1lcmdlUXVlcmllcyhxdWVyaWVzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0geyBzcWw6ICcnLCBwYXJhbXM6IFtdIH07XG4gICAgZm9yIChjb25zdCBxdWVyeSBvZiBxdWVyaWVzKSB7XG4gICAgICAgIHJlc3VsdC5zcWwgKz0gcXVlcnkuc3FsO1xuICAgICAgICByZXN1bHQucGFyYW1zLnB1c2goLi4ucXVlcnkucGFyYW1zKTtcbiAgICAgICAgaWYgKHF1ZXJ5LnR5cGluZ3M/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0LnR5cGluZ3MgPSByZXN1bHQudHlwaW5ncyB8fCBbXTtcbiAgICAgICAgICAgIHJlc3VsdC50eXBpbmdzLnB1c2goLi4ucXVlcnkudHlwaW5ncyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNsYXNzIFN0cmluZ0NodW5rIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1N0cmluZ0NodW5rJztcbiAgICB2YWx1ZTtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxufVxuY2xhc3MgU1FMIHtcbiAgICBxdWVyeUNodW5rcztcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTCc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGRlY29kZXIgPSBub29wRGVjb2RlcjtcbiAgICBzaG91bGRJbmxpbmVQYXJhbXMgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcihxdWVyeUNodW5rcykge1xuICAgICAgICB0aGlzLnF1ZXJ5Q2h1bmtzID0gcXVlcnlDaHVua3M7XG4gICAgfVxuICAgIGFwcGVuZChxdWVyeSkge1xuICAgICAgICB0aGlzLnF1ZXJ5Q2h1bmtzLnB1c2goLi4ucXVlcnkucXVlcnlDaHVua3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdG9RdWVyeShjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRyYWNlci5zdGFydEFjdGl2ZVNwYW4oJ2RyaXp6bGUuYnVpbGRTUUwnLCAoc3BhbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLmJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zKHRoaXMucXVlcnlDaHVua3MsIGNvbmZpZyk7XG4gICAgICAgICAgICBzcGFuPy5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAnZHJpenpsZS5xdWVyeS50ZXh0JzogcXVlcnkuc3FsLFxuICAgICAgICAgICAgICAgICdkcml6emxlLnF1ZXJ5LnBhcmFtcyc6IEpTT04uc3RyaW5naWZ5KHF1ZXJ5LnBhcmFtcyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBxdWVyeTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zKGNodW5rcywgX2NvbmZpZykge1xuICAgICAgICBjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBfY29uZmlnLCB7XG4gICAgICAgICAgICBpbmxpbmVQYXJhbXM6IF9jb25maWcuaW5saW5lUGFyYW1zIHx8IHRoaXMuc2hvdWxkSW5saW5lUGFyYW1zLFxuICAgICAgICAgICAgcGFyYW1TdGFydEluZGV4OiBfY29uZmlnLnBhcmFtU3RhcnRJbmRleCB8fCB7IHZhbHVlOiAwIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IGVzY2FwZU5hbWUsIGVzY2FwZVBhcmFtLCBwcmVwYXJlVHlwaW5nLCBpbmxpbmVQYXJhbXMsIHBhcmFtU3RhcnRJbmRleCwgfSA9IGNvbmZpZztcbiAgICAgICAgcmV0dXJuIG1lcmdlUXVlcmllcyhjaHVua3MubWFwKChjaHVuaykgPT4ge1xuICAgICAgICAgICAgaWYgKGlzKGNodW5rLCBTdHJpbmdDaHVuaykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzcWw6IGNodW5rLnZhbHVlLmpvaW4oJycpLCBwYXJhbXM6IFtdIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMoY2h1bmssIE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiBlc2NhcGVOYW1lKGNodW5rLnZhbHVlKSwgcGFyYW1zOiBbXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNodW5rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzcWw6ICcnLCBwYXJhbXM6IFtdIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaHVuaykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbbmV3IFN0cmluZ0NodW5rKCcoJyldO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ksIHBdIG9mIGNodW5rLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBjaHVuay5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgU3RyaW5nQ2h1bmsoJywgJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBTdHJpbmdDaHVuaygnKScpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZFF1ZXJ5RnJvbVNvdXJjZVBhcmFtcyhyZXN1bHQsIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMoY2h1bmssIFNRTCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZFF1ZXJ5RnJvbVNvdXJjZVBhcmFtcyhjaHVuay5xdWVyeUNodW5rcywge1xuICAgICAgICAgICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgICAgICAgICAgICAgIGlubGluZVBhcmFtczogaW5saW5lUGFyYW1zIHx8IGNodW5rLnNob3VsZElubGluZVBhcmFtcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpcyhjaHVuaywgVGFibGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NoZW1hTmFtZSA9IGNodW5rW1RhYmxlLlN5bWJvbC5TY2hlbWFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlTmFtZSA9IGNodW5rW1RhYmxlLlN5bWJvbC5OYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzcWw6IHNjaGVtYU5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBlc2NhcGVOYW1lKHRhYmxlTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZXNjYXBlTmFtZShzY2hlbWFOYW1lKSArICcuJyArIGVzY2FwZU5hbWUodGFibGVOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzKGNodW5rLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiBlc2NhcGVOYW1lKGNodW5rLnRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXSkgKyAnLicgKyBlc2NhcGVOYW1lKGNodW5rLm5hbWUpLCBwYXJhbXM6IFtdIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMoY2h1bmssIFZpZXcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NoZW1hTmFtZSA9IGNodW5rW1ZpZXdCYXNlQ29uZmlnXS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld05hbWUgPSBjaHVua1tWaWV3QmFzZUNvbmZpZ10ubmFtZTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzcWw6IHNjaGVtYU5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBlc2NhcGVOYW1lKHZpZXdOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBlc2NhcGVOYW1lKHNjaGVtYU5hbWUpICsgJy4nICsgZXNjYXBlTmFtZSh2aWV3TmFtZSksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpcyhjaHVuaywgUGFyYW0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkVmFsdWUgPSAoY2h1bmsudmFsdWUgPT09IG51bGwpID8gbnVsbCA6IGNodW5rLmVuY29kZXIubWFwVG9Ecml2ZXJWYWx1ZShjaHVuay52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzKG1hcHBlZFZhbHVlLCBTUUwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zKFttYXBwZWRWYWx1ZV0sIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmxpbmVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiB0aGlzLm1hcElubGluZVBhcmFtKG1hcHBlZFZhbHVlLCBjb25maWcpLCBwYXJhbXM6IFtdIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB0eXBpbmdzO1xuICAgICAgICAgICAgICAgIGlmIChwcmVwYXJlVHlwaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwaW5ncyA9IFtwcmVwYXJlVHlwaW5nKGNodW5rLmVuY29kZXIpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiBlc2NhcGVQYXJhbShwYXJhbVN0YXJ0SW5kZXgudmFsdWUrKywgbWFwcGVkVmFsdWUpLCBwYXJhbXM6IFttYXBwZWRWYWx1ZV0sIHR5cGluZ3MgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpcyhjaHVuaywgU1FMLkFsaWFzZWQpICYmIGNodW5rLmZpZWxkQWxpYXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHNxbDogZXNjYXBlTmFtZShjaHVuay5maWVsZEFsaWFzKSwgcGFyYW1zOiBbXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzKGNodW5rLCBTdWJxdWVyeSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2h1bmtbU3VicXVlcnlDb25maWddLmlzV2l0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzcWw6IGVzY2FwZU5hbWUoY2h1bmtbU3VicXVlcnlDb25maWddLmFsaWFzKSwgcGFyYW1zOiBbXSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZFF1ZXJ5RnJvbVNvdXJjZVBhcmFtcyhbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBTdHJpbmdDaHVuaygnKCcpLFxuICAgICAgICAgICAgICAgICAgICBjaHVua1tTdWJxdWVyeUNvbmZpZ10uc3FsLFxuICAgICAgICAgICAgICAgICAgICBuZXcgU3RyaW5nQ2h1bmsoJykgJyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBOYW1lKGNodW5rW1N1YnF1ZXJ5Q29uZmlnXS5hbGlhcyksXG4gICAgICAgICAgICAgICAgXSwgY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1NRTFdyYXBwZXIoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMoW1xuICAgICAgICAgICAgICAgICAgICBuZXcgU3RyaW5nQ2h1bmsoJygnKSxcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsuZ2V0U1FMKCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBTdHJpbmdDaHVuaygnKScpLFxuICAgICAgICAgICAgICAgIF0sIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMoY2h1bmssIFJlbGF0aW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zKFtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsuc291cmNlVGFibGUsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBTdHJpbmdDaHVuaygnLicpLFxuICAgICAgICAgICAgICAgICAgICBzcWwuaWRlbnRpZmllcihjaHVuay5maWVsZE5hbWUpLFxuICAgICAgICAgICAgICAgIF0sIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5saW5lUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiB0aGlzLm1hcElubGluZVBhcmFtKGNodW5rLCBjb25maWcpLCBwYXJhbXM6IFtdIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzcWw6IGVzY2FwZVBhcmFtKHBhcmFtU3RhcnRJbmRleC52YWx1ZSsrLCBjaHVuayksIHBhcmFtczogW2NodW5rXSB9O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIG1hcElubGluZVBhcmFtKGNodW5rLCB7IGVzY2FwZVN0cmluZyB9KSB7XG4gICAgICAgIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNodW5rID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgY2h1bmsgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIGNodW5rLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBlc2NhcGVTdHJpbmcoY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBtYXBwZWRWYWx1ZUFzU3RyaW5nID0gY2h1bmsudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChtYXBwZWRWYWx1ZUFzU3RyaW5nID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlc2NhcGVTdHJpbmcoSlNPTi5zdHJpbmdpZnkoY2h1bmspKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlc2NhcGVTdHJpbmcobWFwcGVkVmFsdWVBc1N0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHBhcmFtIHZhbHVlOiAnICsgY2h1bmspO1xuICAgIH1cbiAgICBnZXRTUUwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhcyhhbGlhcykge1xuICAgICAgICAvLyBUT0RPOiByZW1vdmUgd2l0aCBkZXByZWNhdGVkIG92ZXJsb2Fkc1xuICAgICAgICBpZiAoYWxpYXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTUUwuQWxpYXNlZCh0aGlzLCBhbGlhcyk7XG4gICAgfVxuICAgIG1hcFdpdGgoZGVjb2Rlcikge1xuICAgICAgICB0aGlzLmRlY29kZXIgPSB0eXBlb2YgZGVjb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IHsgbWFwRnJvbURyaXZlclZhbHVlOiBkZWNvZGVyIH0gOiBkZWNvZGVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaW5saW5lUGFyYW1zKCkge1xuICAgICAgICB0aGlzLnNob3VsZElubGluZVBhcmFtcyA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8qKlxuICogQW55IERCIG5hbWUgKHRhYmxlLCBjb2x1bW4sIGluZGV4IGV0Yy4pXG4gKi9cbmNsYXNzIE5hbWUge1xuICAgIHZhbHVlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTmFtZSc7XG4gICAgYnJhbmQ7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbi8qKlxuICogQW55IERCIG5hbWUgKHRhYmxlLCBjb2x1bW4sIGluZGV4IGV0Yy4pXG4gKiBAZGVwcmVjYXRlZCBVc2UgYHNxbC5pZGVudGlmaWVyYCBpbnN0ZWFkLlxuICovXG5mdW5jdGlvbiBuYW1lKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBOYW1lKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzRHJpdmVyVmFsdWVFbmNvZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgJ21hcFRvRHJpdmVyVmFsdWUnIGluIHZhbHVlXG4gICAgICAgICYmIHR5cGVvZiB2YWx1ZS5tYXBUb0RyaXZlclZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuY29uc3Qgbm9vcERlY29kZXIgPSB7XG4gICAgbWFwRnJvbURyaXZlclZhbHVlOiAodmFsdWUpID0+IHZhbHVlLFxufTtcbmNvbnN0IG5vb3BFbmNvZGVyID0ge1xuICAgIG1hcFRvRHJpdmVyVmFsdWU6ICh2YWx1ZSkgPT4gdmFsdWUsXG59O1xuY29uc3Qgbm9vcE1hcHBlciA9IHtcbiAgICAuLi5ub29wRGVjb2RlcixcbiAgICAuLi5ub29wRW5jb2Rlcixcbn07XG4vKiogUGFyYW1ldGVyIHZhbHVlIHRoYXQgaXMgb3B0aW9uYWxseSBib3VuZCB0byBhbiBlbmNvZGVyIChmb3IgZXhhbXBsZSwgYSBjb2x1bW4pLiAqL1xuY2xhc3MgUGFyYW0ge1xuICAgIHZhbHVlO1xuICAgIGVuY29kZXI7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQYXJhbSc7XG4gICAgYnJhbmQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHZhbHVlIC0gUGFyYW1ldGVyIHZhbHVlXG4gICAgICogQHBhcmFtIGVuY29kZXIgLSBFbmNvZGVyIHRvIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGEgZHJpdmVyIHBhcmFtZXRlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBlbmNvZGVyID0gbm9vcEVuY29kZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVuY29kZXIgPSBlbmNvZGVyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcmFtKHZhbHVlLCBlbmNvZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQYXJhbSh2YWx1ZSwgZW5jb2Rlcik7XG59XG4vKlxuICAgIFRoZSB0eXBlIG9mIGBwYXJhbXNgIGlzIHNwZWNpZmllZCBhcyBgU1FMU291cmNlUGFyYW1bXWAsIGJ1dCB0aGF0J3Mgc2xpZ2h0bHkgaW5jb3JyZWN0IC1cbiAgICBpbiBydW50aW1lLCB1c2VycyB3b24ndCBwYXNzIGBGYWtlUHJpbWl0aXZlUGFyYW1gIGluc3RhbmNlcyBhcyBgcGFyYW1zYCAtIHRoZXkgd2lsbCBwYXNzIHByaW1pdGl2ZSB2YWx1ZXNcbiAgICB3aGljaCB3aWxsIGJlIHdyYXBwZWQgaW4gYFBhcmFtYCB1c2luZyBgYnVpbGRDaHVua3NGcm9tUGFyYW0oLi4uKWAuIFRoYXQncyB3aHkgdGhlIG92ZXJsb2FkXG4gICAgc3BlY2lmeSBgcGFyYW1zYCBhcyBgYW55W11gIGFuZCBub3QgYXMgYFNRTFNvdXJjZVBhcmFtW11gLiBUaGlzIHR5cGUgaXMgdXNlZCB0byBtYWtlIG91ciBsaXZlcyBlYXNpZXIgYW5kXG4gICAgdGhlIHR5cGUgY2hlY2tlciBoYXBweS5cbiovXG5mdW5jdGlvbiBzcWwoc3RyaW5ncywgLi4ucGFyYW1zKSB7XG4gICAgY29uc3QgcXVlcnlDaHVua3MgPSBbXTtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA+IDAgfHwgKHN0cmluZ3MubGVuZ3RoID4gMCAmJiBzdHJpbmdzWzBdICE9PSAnJykpIHtcbiAgICAgICAgcXVlcnlDaHVua3MucHVzaChuZXcgU3RyaW5nQ2h1bmsoc3RyaW5nc1swXSkpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtwYXJhbUluZGV4LCBwYXJhbV0gb2YgcGFyYW1zLmVudHJpZXMoKSkge1xuICAgICAgICBxdWVyeUNodW5rcy5wdXNoKHBhcmFtLCBuZXcgU3RyaW5nQ2h1bmsoc3RyaW5nc1twYXJhbUluZGV4ICsgMV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTUUwocXVlcnlDaHVua3MpO1xufVxuKGZ1bmN0aW9uIChzcWwpIHtcbiAgICBmdW5jdGlvbiBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUwoW10pO1xuICAgIH1cbiAgICBzcWwuZW1wdHkgPSBlbXB0eTtcbiAgICBmdW5jdGlvbiBmcm9tTGlzdChsaXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMKGxpc3QpO1xuICAgIH1cbiAgICBzcWwuZnJvbUxpc3QgPSBmcm9tTGlzdDtcbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBjcmVhdGUgYW4gU1FMIHF1ZXJ5IGZyb20gYSByYXcgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBzdHIgVGhlIHJhdyBTUUwgcXVlcnkgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhdyhzdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUwoW25ldyBTdHJpbmdDaHVuayhzdHIpXSk7XG4gICAgfVxuICAgIHNxbC5yYXcgPSByYXc7XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gam9pbiBhIGxpc3Qgb2YgU1FMIGNodW5rcyB3aXRoIGEgc2VwYXJhdG9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oY2h1bmtzLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2ksIGNodW5rXSBvZiBjaHVua3MuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzcWwuZnJvbUxpc3QocmVzdWx0KTtcbiAgICB9XG4gICAgc3FsLmpvaW4gPSBqb2luO1xuICAgIC8qKlxuICAgICAqICBBbnkgREIgaWRlbnRpZmllciAodGFibGUgbmFtZSwgY29sdW1uIG5hbWUsIGluZGV4IG5hbWUgZXRjLilcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpZGVudGlmaWVyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuYW1lKHZhbHVlKTtcbiAgICB9XG4gICAgc3FsLmlkZW50aWZpZXIgPSBpZGVudGlmaWVyO1xufSkoc3FsIHx8IChzcWwgPSB7fSkpO1xuKGZ1bmN0aW9uIChTUUwpIHtcbiAgICBjbGFzcyBBbGlhc2VkIHtcbiAgICAgICAgc3FsO1xuICAgICAgICBmaWVsZEFsaWFzO1xuICAgICAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTC5BbGlhc2VkJztcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICBpc1NlbGVjdGlvbkZpZWxkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0cnVjdG9yKHNxbCwgZmllbGRBbGlhcykge1xuICAgICAgICAgICAgdGhpcy5zcWwgPSBzcWw7XG4gICAgICAgICAgICB0aGlzLmZpZWxkQWxpYXMgPSBmaWVsZEFsaWFzO1xuICAgICAgICB9XG4gICAgICAgIGdldFNRTCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNxbDtcbiAgICAgICAgfVxuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIGNsb25lKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbGlhc2VkKHRoaXMuc3FsLCB0aGlzLmZpZWxkQWxpYXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFNRTC5BbGlhc2VkID0gQWxpYXNlZDtcbn0pKFNRTCB8fCAoU1FMID0ge30pKTtcbmNsYXNzIFBsYWNlaG9sZGVyIHtcbiAgICBuYW1lO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGxhY2Vob2xkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG59XG5mdW5jdGlvbiBwbGFjZWhvbGRlcihuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBQbGFjZWhvbGRlcihuYW1lKTtcbn1cbmZ1bmN0aW9uIGZpbGxQbGFjZWhvbGRlcnMocGFyYW1zLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gcGFyYW1zLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAoaXMocCwgUGxhY2Vob2xkZXIpKSB7XG4gICAgICAgICAgICBpZiAoIShwLm5hbWUgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gdmFsdWUgZm9yIHBsYWNlaG9sZGVyIFwiJHtwLm5hbWV9XCIgd2FzIHByb3ZpZGVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzW3AubmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfSk7XG59XG5cbmNsYXNzIENvbHVtbkFsaWFzUHJveHlIYW5kbGVyIHtcbiAgICB0YWJsZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ0NvbHVtbkFsaWFzUHJveHlIYW5kbGVyJztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSkge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgfVxuICAgIGdldChjb2x1bW5PYmosIHByb3ApIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2x1bW5PYmpbcHJvcF07XG4gICAgfVxufVxuY2xhc3MgVGFibGVBbGlhc1Byb3h5SGFuZGxlciB7XG4gICAgYWxpYXM7XG4gICAgcmVwbGFjZU9yaWdpbmFsTmFtZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1RhYmxlQWxpYXNQcm94eUhhbmRsZXInO1xuICAgIGNvbnN0cnVjdG9yKGFsaWFzLCByZXBsYWNlT3JpZ2luYWxOYW1lKSB7XG4gICAgICAgIHRoaXMuYWxpYXMgPSBhbGlhcztcbiAgICAgICAgdGhpcy5yZXBsYWNlT3JpZ2luYWxOYW1lID0gcmVwbGFjZU9yaWdpbmFsTmFtZTtcbiAgICB9XG4gICAgZ2V0KHRhcmdldCwgcHJvcCkge1xuICAgICAgICBpZiAocHJvcCA9PT0gVGFibGUuU3ltYm9sLklzQWxpYXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wID09PSBUYWJsZS5TeW1ib2wuTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxpYXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVwbGFjZU9yaWdpbmFsTmFtZSAmJiBwcm9wID09PSBUYWJsZS5TeW1ib2wuT3JpZ2luYWxOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbGlhcztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcCA9PT0gVmlld0Jhc2VDb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4udGFyZ2V0W1ZpZXdCYXNlQ29uZmlnXSxcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmFsaWFzLFxuICAgICAgICAgICAgICAgIGlzQWxpYXM6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wID09PSBUYWJsZS5TeW1ib2wuQ29sdW1ucykge1xuICAgICAgICAgICAgY29uc3QgY29sdW1ucyA9IHRhcmdldFtUYWJsZS5TeW1ib2wuQ29sdW1uc107XG4gICAgICAgICAgICBpZiAoIWNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByb3hpZWRDb2x1bW5zID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjb2x1bW5zKS5tYXAoKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHByb3hpZWRDb2x1bW5zW2tleV0gPSBuZXcgUHJveHkoY29sdW1uc1trZXldLCBuZXcgQ29sdW1uQWxpYXNQcm94eUhhbmRsZXIobmV3IFByb3h5KHRhcmdldCwgdGhpcykpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb3hpZWRDb2x1bW5zO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuICAgICAgICBpZiAoaXModmFsdWUsIENvbHVtbikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkodmFsdWUsIG5ldyBDb2x1bW5BbGlhc1Byb3h5SGFuZGxlcihuZXcgUHJveHkodGFyZ2V0LCB0aGlzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5jbGFzcyBSZWxhdGlvblRhYmxlQWxpYXNQcm94eUhhbmRsZXIge1xuICAgIGFsaWFzO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUmVsYXRpb25UYWJsZUFsaWFzUHJveHlIYW5kbGVyJztcbiAgICBjb25zdHJ1Y3RvcihhbGlhcykge1xuICAgICAgICB0aGlzLmFsaWFzID0gYWxpYXM7XG4gICAgfVxuICAgIGdldCh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICdzb3VyY2VUYWJsZScpIHtcbiAgICAgICAgICAgIHJldHVybiBhbGlhc2VkVGFibGUodGFyZ2V0LnNvdXJjZVRhYmxlLCB0aGlzLmFsaWFzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFsaWFzZWRUYWJsZSh0YWJsZSwgdGFibGVBbGlhcykge1xuICAgIHJldHVybiBuZXcgUHJveHkodGFibGUsIG5ldyBUYWJsZUFsaWFzUHJveHlIYW5kbGVyKHRhYmxlQWxpYXMsIGZhbHNlKSk7XG59XG5mdW5jdGlvbiBhbGlhc2VkUmVsYXRpb24ocmVsYXRpb24sIHRhYmxlQWxpYXMpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KHJlbGF0aW9uLCBuZXcgUmVsYXRpb25UYWJsZUFsaWFzUHJveHlIYW5kbGVyKHRhYmxlQWxpYXMpKTtcbn1cbmZ1bmN0aW9uIGFsaWFzZWRUYWJsZUNvbHVtbihjb2x1bW4sIHRhYmxlQWxpYXMpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KGNvbHVtbiwgbmV3IENvbHVtbkFsaWFzUHJveHlIYW5kbGVyKG5ldyBQcm94eShjb2x1bW4udGFibGUsIG5ldyBUYWJsZUFsaWFzUHJveHlIYW5kbGVyKHRhYmxlQWxpYXMsIGZhbHNlKSkpKTtcbn1cbmZ1bmN0aW9uIG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzKHF1ZXJ5LCBhbGlhcykge1xuICAgIHJldHVybiBuZXcgU1FMLkFsaWFzZWQobWFwQ29sdW1uc0luU1FMVG9BbGlhcyhxdWVyeS5zcWwsIGFsaWFzKSwgcXVlcnkuZmllbGRBbGlhcyk7XG59XG5mdW5jdGlvbiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKHF1ZXJ5LCBhbGlhcykge1xuICAgIHJldHVybiBzcWwuZnJvbUxpc3QocXVlcnkucXVlcnlDaHVua3MubWFwKChjKSA9PiB7XG4gICAgICAgIGlmIChpcyhjLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxpYXNlZFRhYmxlQ29sdW1uKGMsIGFsaWFzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMoYywgU1FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcENvbHVtbnNJblNRTFRvQWxpYXMoYywgYWxpYXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcyhjLCBTUUwuQWxpYXNlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBDb2x1bW5zSW5BbGlhc2VkU1FMVG9BbGlhcyhjLCBhbGlhcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfSkpO1xufVxuXG5leHBvcnQgeyBjaGVjayBhcyAkLCBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzIGFzIEEsIG9yZGVyQnlPcGVyYXRvcnMgYXMgQiwgQ29sdW1uIGFzIEMsIG5vcm1hbGl6ZVJlbGF0aW9uIGFzIEQsIGFuZCBhcyBFLCBvciBhcyBGLCBhbGlhc2VkVGFibGUgYXMgRywgZXEgYXMgSCwgVHlwZWRRdWVyeUJ1aWxkZXIgYXMgSSwgZ2V0VGFibGVMaWtlTmFtZSBhcyBKLCBhcHBseU1peGlucyBhcyBLLCBDb2x1bW5CdWlsZGVyIGFzIEwsIFRhYmxlQWxpYXNQcm94eUhhbmRsZXIgYXMgTSwgUGdDb2x1bW5CdWlsZGVyIGFzIE4sIFBnQ29sdW1uIGFzIE8sIFBnRGlhbGVjdCBhcyBQLCBRdWVyeVByb21pc2UgYXMgUSwgUmVsYXRpb24gYXMgUiwgU1FMIGFzIFMsIFRhYmxlIGFzIFQsIHBnVGFibGVXaXRoU2NoZW1hIGFzIFUsIFZpZXcgYXMgViwgV2l0aFN1YnF1ZXJ5IGFzIFcsIHBnVmlld1dpdGhTY2hlbWEgYXMgWCwgcGdNYXRlcmlhbGl6ZWRWaWV3V2l0aFNjaGVtYSBhcyBZLCBDaGVja0J1aWxkZXIgYXMgWiwgQ2hlY2sgYXMgXywgZXh0cmFjdFRhYmxlc1JlbGF0aW9uYWxDb25maWcgYXMgYSwgUGdWaWV3Q29uZmlnIGFzIGEkLCBQZ0FycmF5QnVpbGRlciBhcyBhMCwgUGdBcnJheSBhcyBhMSwgUGdEYXRlQnVpbGRlciBhcyBhMiwgUGdEYXRlIGFzIGEzLCBQZ0RhdGVTdHJpbmdCdWlsZGVyIGFzIGE0LCBQZ0RhdGVTdHJpbmcgYXMgYTUsIGRhdGUgYXMgYTYsIFBnSnNvbkJ1aWxkZXIgYXMgYTcsIFBnSnNvbiBhcyBhOCwganNvbiBhcyBhOSwgcHJpbWFyeUtleSBhcyBhQSwgUHJpbWFyeUtleUJ1aWxkZXIgYXMgYUIsIFByaW1hcnlLZXkgYXMgYUMsIHVuaXF1ZSBhcyBhRCwgdW5pcXVlS2V5TmFtZSBhcyBhRSwgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIgYXMgYUYsIFVuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXIgYXMgYUcsIFVuaXF1ZUNvbnN0cmFpbnQgYXMgYUgsIFBnU2VsZWN0UXVlcnlCdWlsZGVyIGFzIGFJLCBQZ1NlbGVjdCBhcyBhSiwgSW5saW5lRm9yZWlnbktleXMgYXMgYUssIFBnVGFibGUgYXMgYUwsIHBnVGFibGUgYXMgYU0sIHBnVGFibGVDcmVhdG9yIGFzIGFOLCBnZXRUYWJsZUNvbmZpZyBhcyBhTywgZ2V0Vmlld0NvbmZpZyBhcyBhUCwgZ2V0TWF0ZXJpYWxpemVkVmlld0NvbmZpZyBhcyBhUSwgcGFyc2VQZ05lc3RlZEFycmF5IGFzIGFSLCBwYXJzZVBnQXJyYXkgYXMgYVMsIG1ha2VQZ0FycmF5IGFzIGFULCBEZWZhdWx0Vmlld0J1aWxkZXJDb3JlIGFzIGFVLCBWaWV3QnVpbGRlciBhcyBhViwgTWFudWFsVmlld0J1aWxkZXIgYXMgYVcsIE1hdGVyaWFsaXplZFZpZXdCdWlsZGVyQ29yZSBhcyBhWCwgTWF0ZXJpYWxpemVkVmlld0J1aWxkZXIgYXMgYVksIE1hbnVhbE1hdGVyaWFsaXplZFZpZXdCdWlsZGVyIGFzIGFaLCBQZ1ZpZXdCYXNlIGFzIGFfLCBQZ0pzb25iQnVpbGRlciBhcyBhYSwgUGdKc29uYiBhcyBhYiwganNvbmIgYXMgYWMsIFBnTnVtZXJpY0J1aWxkZXIgYXMgYWQsIFBnTnVtZXJpYyBhcyBhZSwgbnVtZXJpYyBhcyBhZiwgZGVjaW1hbCBhcyBhZywgUGdUaW1lQnVpbGRlciBhcyBhaCwgUGdUaW1lIGFzIGFpLCB0aW1lIGFzIGFqLCBQZ1RpbWVzdGFtcEJ1aWxkZXIgYXMgYWssIFBnVGltZXN0YW1wIGFzIGFsLCBQZ1RpbWVzdGFtcFN0cmluZ0J1aWxkZXIgYXMgYW0sIFBnVGltZXN0YW1wU3RyaW5nIGFzIGFuLCB0aW1lc3RhbXAgYXMgYW8sIFBnVVVJREJ1aWxkZXIgYXMgYXAsIFBnVVVJRCBhcyBhcSwgdXVpZCBhcyBhciwgRm9yZWlnbktleUJ1aWxkZXIgYXMgYXMsIEZvcmVpZ25LZXkgYXMgYXQsIGZvcmVpZ25LZXkgYXMgYXUsIEluZGV4QnVpbGRlck9uIGFzIGF2LCBJbmRleEJ1aWxkZXIgYXMgYXcsIEluZGV4IGFzIGF4LCBpbmRleCBhcyBheSwgdW5pcXVlSW5kZXggYXMgYXosIFBhcmFtIGFzIGIsIFBnVmlldyBhcyBiMCwgUGdNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnIGFzIGIxLCBQZ01hdGVyaWFsaXplZFZpZXcgYXMgYjIsIHBnVmlldyBhcyBiMywgcGdNYXRlcmlhbGl6ZWRWaWV3IGFzIGI0LCBDb2x1bW5BbGlhc1Byb3h5SGFuZGxlciBhcyBiNSwgUmVsYXRpb25UYWJsZUFsaWFzUHJveHlIYW5kbGVyIGFzIGI2LCBoYXNPd25FbnRpdHlLaW5kIGFzIGI3LCBiaW5kSWZQYXJhbSBhcyBiOCwgbmUgYXMgYjksIGlzU1FMV3JhcHBlciBhcyBiQSwgU3RyaW5nQ2h1bmsgYXMgYkIsIE5hbWUgYXMgYkMsIGlzRHJpdmVyVmFsdWVFbmNvZGVyIGFzIGJELCBub29wRGVjb2RlciBhcyBiRSwgbm9vcEVuY29kZXIgYXMgYkYsIG5vb3BNYXBwZXIgYXMgYkcsIFBsYWNlaG9sZGVyIGFzIGJILCBwbGFjZWhvbGRlciBhcyBiSSwgVGFibGVOYW1lIGFzIGJKLCBTY2hlbWEgYXMgYkssIENvbHVtbnMgYXMgYkwsIE9yaWdpbmFsTmFtZSBhcyBiTSwgQmFzZU5hbWUgYXMgYk4sIElzQWxpYXMgYXMgYk8sIEV4dHJhQ29uZmlnQnVpbGRlciBhcyBiUCwgaXNUYWJsZSBhcyBiUSwgaWlmZSBhcyBiUiwgbm90IGFzIGJhLCBndCBhcyBiYiwgZ3RlIGFzIGJjLCBsdCBhcyBiZCwgbHRlIGFzIGJlLCBpbkFycmF5IGFzIGJmLCBub3RJbkFycmF5IGFzIGJnLCBpc051bGwgYXMgYmgsIGlzTm90TnVsbCBhcyBiaSwgZXhpc3RzIGFzIGJqLCBub3RFeGlzdHMgYXMgYmssIGJldHdlZW4gYXMgYmwsIG5vdEJldHdlZW4gYXMgYm0sIGxpa2UgYXMgYm4sIG5vdExpa2UgYXMgYm8sIGlsaWtlIGFzIGJwLCBub3RJbGlrZSBhcyBicSwgYXNjIGFzIGJyLCBkZXNjIGFzIGJzLCBSZWxhdGlvbnMgYXMgYnQsIE9uZSBhcyBidSwgTWFueSBhcyBidiwgcmVsYXRpb25zIGFzIGJ3LCBjcmVhdGVPbmUgYXMgYngsIGNyZWF0ZU1hbnkgYXMgYnksIEZha2VQcmltaXRpdmVQYXJhbSBhcyBieiwgY3JlYXRlVGFibGVSZWxhdGlvbnNIZWxwZXJzIGFzIGMsIG1hcFVwZGF0ZVNldCBhcyBkLCBlbnRpdHlLaW5kIGFzIGUsIGZpbGxQbGFjZWhvbGRlcnMgYXMgZiwgbWFwUmVsYXRpb25hbFJvdyBhcyBnLCBRdWVyeUJ1aWxkZXIgYXMgaCwgaXMgYXMgaSwgU2VsZWN0aW9uUHJveHlIYW5kbGVyIGFzIGosIFBnU2VsZWN0QnVpbGRlciBhcyBrLCBnZXRUYWJsZUNvbHVtbnMgYXMgbCwgbWFwUmVzdWx0Um93IGFzIG0sIG5hbWUgYXMgbiwgb3JkZXJTZWxlY3RlZEZpZWxkcyBhcyBvLCBnZXRUYWJsZU5hbWUgYXMgcCwgU3VicXVlcnkgYXMgcSwgU3VicXVlcnlDb25maWcgYXMgciwgc3FsIGFzIHMsIHRyYWNlciBhcyB0LCBWaWV3QmFzZUNvbmZpZyBhcyB1LCBwYXJhbSBhcyB2LCBhbGlhc2VkVGFibGVDb2x1bW4gYXMgdywgYWxpYXNlZFJlbGF0aW9uIGFzIHgsIG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzIGFzIHksIG9wZXJhdG9ycyBhcyB6IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbGlhcy0zZTkyNmE1MC5tanMubWFwXG4iXSwibmFtZXMiOlsiZW50aXR5S2luZCIsIlN5bWJvbCIsImZvciIsImhhc093bkVudGl0eUtpbmQiLCJpcyIsInZhbHVlIiwidHlwZSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkVycm9yIiwibmFtZSIsImNscyIsImNvbnN0cnVjdG9yIiwiZ2V0UHJvdG90eXBlT2YiLCJDb2x1bW4iLCJ0YWJsZSIsImNvbmZpZyIsIm5vdE51bGwiLCJkZWZhdWx0IiwiaGFzRGVmYXVsdCIsInByaW1hcnkiLCJwcmltYXJ5S2V5IiwiaXNVbmlxdWUiLCJ1bmlxdWVOYW1lIiwidW5pcXVlVHlwZSIsIm1hcEZyb21Ecml2ZXJWYWx1ZSIsIm1hcFRvRHJpdmVyVmFsdWUiLCJUYWJsZU5hbWUiLCJTY2hlbWEiLCJDb2x1bW5zIiwiT3JpZ2luYWxOYW1lIiwiQmFzZU5hbWUiLCJJc0FsaWFzIiwiRXh0cmFDb25maWdCdWlsZGVyIiwiSXNEcml6emxlVGFibGUiLCJUYWJsZSIsIk5hbWUiLCJzY2hlbWEiLCJiYXNlTmFtZSIsInVuZGVmaW5lZCIsImlzVGFibGUiLCJnZXRUYWJsZU5hbWUiLCJDaGVja0J1aWxkZXIiLCJidWlsZCIsIkNoZWNrIiwiYnVpbGRlciIsImNoZWNrIiwiSW5saW5lRm9yZWlnbktleXMiLCJQZ1RhYmxlIiwiYXNzaWduIiwicGdUYWJsZVdpdGhTY2hlbWEiLCJjb2x1bW5zIiwiZXh0cmFDb25maWciLCJyYXdUYWJsZSIsImJ1aWx0Q29sdW1ucyIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsIm1hcCIsImNvbEJ1aWxkZXIiLCJjb2x1bW4iLCJwdXNoIiwiYnVpbGRGb3JlaWduS2V5cyIsInBnVGFibGUiLCJwZ1RhYmxlQ3JlYXRvciIsImN1c3RvbWl6ZVRhYmxlTmFtZSIsIlZpZXdCYXNlQ29uZmlnIiwiVmlldyIsInNlbGVjdGVkRmllbGRzIiwicXVlcnkiLCJvcmlnaW5hbE5hbWUiLCJpc0V4aXN0aW5nIiwiaXNBbGlhcyIsIkZvcmVpZ25LZXlCdWlsZGVyIiwiYWN0aW9ucyIsIl9vblVwZGF0ZSIsIl9vbkRlbGV0ZSIsInJlZmVyZW5jZSIsImZvcmVpZ25Db2x1bW5zIiwiZm9yZWlnblRhYmxlIiwib25VcGRhdGUiLCJvbkRlbGV0ZSIsImFjdGlvbiIsIkZvcmVpZ25LZXkiLCJnZXROYW1lIiwiY29sdW1uTmFtZXMiLCJmb3JlaWduQ29sdW1uTmFtZXMiLCJjaHVua3MiLCJqb2luIiwiZm9yZWlnbktleSIsIm1hcHBlZENvbmZpZyIsIkluZGV4QnVpbGRlck9uIiwidW5pcXVlIiwib24iLCJJbmRleEJ1aWxkZXIiLCJvbk9ubHkiLCJvbmx5IiwiY29uY3VycmVudGx5IiwidXNpbmciLCJtZXRob2QiLCJhc2MiLCJvcmRlciIsImRlc2MiLCJudWxsc0ZpcnN0IiwibnVsbHMiLCJudWxsc0xhc3QiLCJ3aGVyZSIsImNvbmRpdGlvbiIsIkluZGV4IiwiaW5kZXgiLCJ1bmlxdWVJbmRleCIsIlByaW1hcnlLZXlCdWlsZGVyIiwiUHJpbWFyeUtleSIsIlVuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXIiLCJ1bmlxdWVLZXlOYW1lIiwiVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIiLCJudWxsc05vdERpc3RpbmN0Q29uZmlnIiwibnVsbHNOb3REaXN0aW5jdCIsIlVuaXF1ZUNvbnN0cmFpbnQiLCJTdWJxdWVyeUNvbmZpZyIsIlN1YnF1ZXJ5Iiwic3FsIiwic2VsZWN0aW9uIiwiYWxpYXMiLCJpc1dpdGgiLCJXaXRoU3VicXVlcnkiLCJTZWxlY3Rpb25Qcm94eUhhbmRsZXIiLCJnZXQiLCJzdWJxdWVyeSIsInByb3AiLCJQcm94eSIsIlNRTCIsIkFsaWFzZWQiLCJzcWxBbGlhc2VkQmVoYXZpb3IiLCJpc1NlbGVjdGlvbkZpZWxkIiwibmV3VmFsdWUiLCJjbG9uZSIsInNxbEJlaGF2aW9yIiwiQ29sdW1uQWxpYXNQcm94eUhhbmRsZXIiLCJUYWJsZUFsaWFzUHJveHlIYW5kbGVyIiwicmVwbGFjZU9yaWdpbmFsTmFtZSIsIm1hcFJlc3VsdFJvdyIsInJvdyIsImpvaW5zTm90TnVsbGFibGVNYXAiLCJudWxsaWZ5TWFwIiwicmVzdWx0IiwicmVkdWNlIiwicGF0aCIsImZpZWxkIiwiY29sdW1uSW5kZXgiLCJkZWNvZGVyIiwibm9kZSIsInBhdGhDaHVua0luZGV4IiwicGF0aENodW5rIiwibGVuZ3RoIiwicmF3VmFsdWUiLCJvYmplY3ROYW1lIiwia2V5cyIsInRhYmxlTmFtZSIsIm9yZGVyU2VsZWN0ZWRGaWVsZHMiLCJmaWVsZHMiLCJwYXRoUHJlZml4IiwibmV3UGF0aCIsIm1hcFVwZGF0ZVNldCIsInZhbHVlcyIsImZpbHRlciIsImtleSIsIlBhcmFtIiwiYXBwbHlNaXhpbnMiLCJiYXNlQ2xhc3MiLCJleHRlbmRlZENsYXNzZXMiLCJleHRlbmRlZENsYXNzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiY3JlYXRlIiwiZ2V0VGFibGVDb2x1bW5zIiwiZ2V0VGFibGVMaWtlTmFtZSIsImlpZmUiLCJmbiIsImFyZ3MiLCJRdWVyeVByb21pc2UiLCJ0b1N0cmluZ1RhZyIsImNhdGNoIiwib25SZWplY3RlZCIsInRoZW4iLCJmaW5hbGx5Iiwib25GaW5hbGx5IiwicmVhc29uIiwib25GdWxmaWxsZWQiLCJleGVjdXRlIiwidHJhY2VyIiwic3RhcnRBY3RpdmVTcGFuIiwiUGdEaWFsZWN0IiwibWlncmF0ZSIsIm1pZ3JhdGlvbnMiLCJzZXNzaW9uIiwibWlncmF0aW9uVGFibGVDcmVhdGUiLCJkYk1pZ3JhdGlvbnMiLCJhbGwiLCJsYXN0RGJNaWdyYXRpb24iLCJ0cmFuc2FjdGlvbiIsInR4IiwibWlncmF0aW9uIiwiTnVtYmVyIiwiY3JlYXRlZF9hdCIsImZvbGRlck1pbGxpcyIsInN0bXQiLCJyYXciLCJoYXNoIiwiZXNjYXBlTmFtZSIsImVzY2FwZVBhcmFtIiwibnVtIiwiZXNjYXBlU3RyaW5nIiwic3RyIiwicmVwbGFjZSIsImJ1aWxkRGVsZXRlUXVlcnkiLCJyZXR1cm5pbmciLCJyZXR1cm5pbmdTcWwiLCJidWlsZFNlbGVjdGlvbiIsImlzU2luZ2xlVGFibGUiLCJ3aGVyZVNxbCIsImJ1aWxkVXBkYXRlU2V0Iiwic2V0Iiwic2V0RW50cmllcyIsInNldFNpemUiLCJmcm9tTGlzdCIsImZsYXRNYXAiLCJjb2xOYW1lIiwiaSIsImNvbCIsInJlcyIsImJ1aWxkVXBkYXRlUXVlcnkiLCJzZXRTcWwiLCJjb2x1bW5zTGVuIiwiY2h1bmsiLCJpZGVudGlmaWVyIiwiZmllbGRBbGlhcyIsInF1ZXJ5Q2h1bmtzIiwiYyIsIlBnQ29sdW1uIiwiYnVpbGRTZWxlY3RRdWVyeSIsIndpdGhMaXN0IiwiZmllbGRzRmxhdCIsImhhdmluZyIsImpvaW5zIiwib3JkZXJCeSIsImdyb3VwQnkiLCJsaW1pdCIsIm9mZnNldCIsImxvY2tpbmdDbGF1c2VzIiwiZGlzdGluY3QiLCJmaWVsZHNMaXN0IiwiZiIsIlBnVmlld0Jhc2UiLCJzb21lIiwid2l0aFNxbCIsIndpdGhTcWxDaHVua3MiLCJ3IiwiZGlzdGluY3RTcWwiLCJ0YWJsZVNxbCIsImZ1bGxOYW1lIiwiam9pbnNBcnJheSIsImpvaW5NZXRhIiwidGFibGVTY2hlbWEiLCJvcmlnVGFibGVOYW1lIiwiam9pblR5cGUiLCJqb2luc1NxbCIsImhhdmluZ1NxbCIsIm9yZGVyQnlMaXN0Iiwib3JkZXJCeVZhbHVlIiwib3JkZXJCeVNxbCIsImdyb3VwQnlMaXN0IiwiZ3JvdXBCeVZhbHVlIiwiZ3JvdXBCeVNxbCIsImxpbWl0U3FsIiwib2Zmc2V0U3FsIiwibG9ja2luZ0NsYXVzZXNTcWwiLCJlbXB0eSIsInN0cmVuZ3RoIiwiY2xhdXNlU3FsIiwib2YiLCJhcHBlbmQiLCJub1dhaXQiLCJza2lwTG9ja2VkIiwiYnVpbGRJbnNlcnRRdWVyeSIsIm9uQ29uZmxpY3QiLCJpc1NpbmdsZVZhbHVlIiwidmFsdWVzU3FsTGlzdCIsImNvbEVudHJpZXMiLCJmaWVsZE5hbWUiLCJpbnNlcnRPcmRlciIsInZhbHVlSW5kZXgiLCJ2YWx1ZUxpc3QiLCJjb2xWYWx1ZSIsInZhbHVlc1NxbCIsIm9uQ29uZmxpY3RTcWwiLCJidWlsZFJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3UXVlcnkiLCJ2aWV3Iiwid2l0aE5vRGF0YSIsImNvbmN1cnJlbnRseVNxbCIsIndpdGhOb0RhdGFTcWwiLCJwcmVwYXJlVHlwaW5nIiwiZW5jb2RlciIsIlBnSnNvbmIiLCJQZ0pzb24iLCJQZ051bWVyaWMiLCJQZ1RpbWUiLCJQZ1RpbWVzdGFtcCIsIlBnRGF0ZSIsIlBnVVVJRCIsInNxbFRvUXVlcnkiLCJ0b1F1ZXJ5IiwiYnVpbGRSZWxhdGlvbmFsUXVlcnkiLCJmdWxsU2NoZW1hIiwidGFibGVOYW1lc01hcCIsInRhYmxlQ29uZmlnIiwidGFibGVBbGlhcyIsInJlbGF0aW9uQ29sdW1ucyIsImlzUm9vdCIsInNlbGVjdGlvbkVudHJpZXMiLCJkYktleSIsInRzS2V5IiwidGFibGVUc0tleSIsImlzSnNvbiIsInRzTmFtZSIsImFsaWFzZWRDb2x1bW5zIiwiYWxpYXNlZFRhYmxlQ29sdW1uIiwiYWxpYXNlZFJlbGF0aW9ucyIsInJlbGF0aW9ucyIsImFsaWFzZWRSZWxhdGlvbiIsImFsaWFzZWRGaWVsZHMiLCJmaWVsZHNTZWxlY3Rpb24iLCJzZWxlY3RlZENvbHVtbnMiLCJzZWxlY3RlZEV4dHJhcyIsInNlbGVjdGVkUmVsYXRpb25zIiwiaXNJbmNsdWRlTW9kZSIsImluY2x1ZGVzIiwid2l0aCIsImVudHJ5IiwiZXh0cmFzIiwiZXh0cmFzT3JpZyIsIm1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzIiwib3BlcmF0b3JzIiwibWFwQ29sdW1uc0luU1FMVG9BbGlhcyIsIm9yZGVyQnlPcmlnIiwib3JkZXJCeU9wZXJhdG9ycyIsIkFycmF5IiwiaXNBcnJheSIsImJ1aWx0UmVsYXRpb25zIiwiYnVpbHRSZWxhdGlvbkZpZWxkcyIsInNlbGVjdGVkUmVsYXRpb25JbmRleCIsInNlbGVjdGVkUmVsYXRpb25LZXkiLCJzZWxlY3RlZFJlbGF0aW9uVmFsdWUiLCJyZWxhdGlvbiIsInJlbGF0aW9uS2V5IiwicmVsYXRpb25WYWx1ZSIsIlJlbGF0aW9uIiwibm9ybWFsaXplZFJlbGF0aW9uIiwibm9ybWFsaXplUmVsYXRpb24iLCJyZWxhdGlvbkFsaWFzIiwicmVsYXRpb25Db25maWciLCJyZWZlcmVuY2VkVGFibGUiLCJidWlsdFJlbGF0aW9uIiwicmVmZXJlbmNlcyIsInJlbGF0aW9uV2hlcmUiLCJhbmQiLCJvciIsImFsaWFzZWRUYWJsZSIsImVxIiwicmVsYXRpb25BbGlhc2VkQ29sdW1ucyIsInJlbGF0aW9uQWxpYXNlZFJlbGF0aW9ucyIsInJlbGF0aW9uQWxpYXNlZEZpZWxkcyIsInJlbGF0aW9uT3JkZXJCeSIsInJlbGF0aW9uT3JkZXJCeVNxbCIsImVsc2VGaWVsZCIsImNvdW50U3FsIiwiYXMiLCJidWlsdFJlbGF0aW9uRmllbGQiLCJmaW5hbEZpZWxkc1NlbGVjdGlvbiIsImZpbmFsRmllbGRzRmxhdCIsIlR5cGVkUXVlcnlCdWlsZGVyIiwiZ2V0U2VsZWN0ZWRGaWVsZHMiLCJfIiwiUGdTZWxlY3RCdWlsZGVyIiwiZGlhbGVjdCIsImZyb20iLCJzb3VyY2UiLCJpc1BhcnRpYWxTZWxlY3QiLCJQZ1NlbGVjdCIsIlBnU2VsZWN0UXVlcnlCdWlsZGVyIiwibGVmdEpvaW4iLCJjcmVhdGVKb2luIiwicmlnaHRKb2luIiwiaW5uZXJKb2luIiwiZnVsbEpvaW4iLCJiYXNlVGFibGVOYW1lIiwiZ2V0U1FMIiwidG9TUUwiLCJ0eXBpbmdzIiwiX3R5cGluZ3MiLCJyZXN0IiwiX3ByZXBhcmUiLCJwcmVwYXJlUXVlcnkiLCJwcmVwYXJlIiwicGxhY2Vob2xkZXJWYWx1ZXMiLCJRdWVyeUJ1aWxkZXIiLCIkd2l0aCIsInF1ZXJ5QnVpbGRlciIsInFiIiwicXVlcmllcyIsInNlbGYiLCJzZWxlY3QiLCJnZXREaWFsZWN0Iiwic2VsZWN0RGlzdGluY3QiLCJzZWxlY3REaXN0aW5jdE9uIiwiRGVmYXVsdFZpZXdCdWlsZGVyQ29yZSIsIlZpZXdCdWlsZGVyIiwic2VsZWN0aW9uUHJveHkiLCJhbGlhc2VkU2VsZWN0aW9uIiwiUGdWaWV3IiwicGdDb25maWciLCJpbmxpbmVQYXJhbXMiLCJNYW51YWxWaWV3QnVpbGRlciIsImV4aXN0aW5nIiwiTWF0ZXJpYWxpemVkVmlld0J1aWxkZXJDb3JlIiwidGFibGVzcGFjZSIsIk1hdGVyaWFsaXplZFZpZXdCdWlsZGVyIiwiUGdNYXRlcmlhbGl6ZWRWaWV3IiwiTWFudWFsTWF0ZXJpYWxpemVkVmlld0J1aWxkZXIiLCJQZ1ZpZXdDb25maWciLCJQZ01hdGVyaWFsaXplZFZpZXdDb25maWciLCJwZ1ZpZXdXaXRoU2NoZW1hIiwicGdNYXRlcmlhbGl6ZWRWaWV3V2l0aFNjaGVtYSIsInBnVmlldyIsInBnTWF0ZXJpYWxpemVkVmlldyIsImdldFRhYmxlQ29uZmlnIiwiaW5kZXhlcyIsImNoZWNrcyIsInByaW1hcnlLZXlzIiwiZm9yZWlnbktleXMiLCJ1bmlxdWVDb25zdHJhaW50cyIsImV4dHJhQ29uZmlnQnVpbGRlciIsImdldFZpZXdDb25maWciLCJnZXRNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnIiwicGFyc2VQZ0FycmF5VmFsdWUiLCJhcnJheVN0cmluZyIsInN0YXJ0RnJvbSIsImluUXVvdGVzIiwiY2hhciIsInNsaWNlIiwicGFyc2VQZ05lc3RlZEFycmF5IiwibGFzdENoYXJJc0NvbW1hIiwibmV3U3RhcnRGcm9tIiwicGFyc2VQZ0FycmF5IiwibWFrZVBnQXJyYXkiLCJhcnJheSIsIml0ZW0iLCJDb2x1bW5CdWlsZGVyIiwiJHR5cGUiLCJQZ0NvbHVtbkJ1aWxkZXIiLCJzaXplIiwiUGdBcnJheUJ1aWxkZXIiLCJyZWYiLCJmb3JlaWduS2V5Q29uZmlncyIsImZvcmVpZ25Db2x1bW4iLCJiYXNlQnVpbGRlciIsImJhc2VDb2x1bW4iLCJQZ0FycmF5IiwicmFuZ2UiLCJnZXRTUUxUeXBlIiwidiIsImlzTmVzdGVkQXJyYXkiLCJhIiwiUGdEYXRlQ29sdW1uQmFzZUJ1aWxkZXIiLCJkZWZhdWx0Tm93IiwiUGdEYXRlQnVpbGRlciIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIlBnRGF0ZVN0cmluZ0J1aWxkZXIiLCJQZ0RhdGVTdHJpbmciLCJkYXRlIiwibW9kZSIsIlBnSnNvbkJ1aWxkZXIiLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJqc29uIiwiUGdKc29uYkJ1aWxkZXIiLCJqc29uYiIsIlBnTnVtZXJpY0J1aWxkZXIiLCJwcmVjaXNpb24iLCJzY2FsZSIsIm51bWVyaWMiLCJkZWNpbWFsIiwiUGdUaW1lQnVpbGRlciIsIndpdGhUaW1lem9uZSIsInRpbWUiLCJQZ1RpbWVzdGFtcEJ1aWxkZXIiLCJ0b1VUQ1N0cmluZyIsIlBnVGltZXN0YW1wU3RyaW5nQnVpbGRlciIsIlBnVGltZXN0YW1wU3RyaW5nIiwidGltZXN0YW1wIiwiUGdVVUlEQnVpbGRlciIsImRlZmF1bHRSYW5kb20iLCJ1dWlkIiwic291cmNlVGFibGUiLCJyZWxhdGlvbk5hbWUiLCJyZWZlcmVuY2VkVGFibGVOYW1lIiwiUmVsYXRpb25zIiwiT25lIiwiaXNOdWxsYWJsZSIsIndpdGhGaWVsZE5hbWUiLCJNYW55IiwiZXh0cmFjdFRhYmxlc1JlbGF0aW9uYWxDb25maWciLCJjb25maWdIZWxwZXJzIiwicmVsYXRpb25zQnVmZmVyIiwidGFibGVzQ29uZmlnIiwiZGJOYW1lIiwiYnVmZmVyZWRSZWxhdGlvbnMiLCJjb25maWdFbnRyeSIsInRhYmxlcyIsImhlbHBlcnMiLCJjcmVhdGVPbmUiLCJvbmUiLCJjcmVhdGVNYW55IiwibWFueSIsInJlZmVyZW5jZWRUYWJsZVRzTmFtZSIsInJlZmVyZW5jZWRUYWJsZUZpZWxkcyIsInNvdXJjZVRhYmxlVHNOYW1lIiwicmV2ZXJzZVJlbGF0aW9ucyIsInJlZmVyZW5jZWRUYWJsZVJlbGF0aW9uIiwiY3JlYXRlVGFibGVSZWxhdGlvbnNIZWxwZXJzIiwibWFwUmVsYXRpb25hbFJvdyIsImJ1aWxkUXVlcnlSZXN1bHRTZWxlY3Rpb24iLCJtYXBDb2x1bW5WYWx1ZSIsInNlbGVjdGlvbkl0ZW1JbmRleCIsInNlbGVjdGlvbkl0ZW0iLCJyYXdTdWJSb3dzIiwic3ViUm93cyIsInN1YlJvdyIsImJpbmRJZlBhcmFtIiwiaXNEcml2ZXJWYWx1ZUVuY29kZXIiLCJpc1NRTFdyYXBwZXIiLCJQbGFjZWhvbGRlciIsImxlZnQiLCJyaWdodCIsIm5lIiwidW5maWx0ZXJlZENvbmRpdGlvbnMiLCJjb25kaXRpb25zIiwibm90IiwiZ3QiLCJndGUiLCJsdCIsImx0ZSIsImluQXJyYXkiLCJub3RJbkFycmF5IiwiaXNOdWxsIiwiaXNOb3ROdWxsIiwiZXhpc3RzIiwibm90RXhpc3RzIiwiYmV0d2VlbiIsIm1pbiIsIm1heCIsIm5vdEJldHdlZW4iLCJsaWtlIiwibm90TGlrZSIsImlsaWtlIiwibm90SWxpa2UiLCJGYWtlUHJpbWl0aXZlUGFyYW0iLCJtZXJnZVF1ZXJpZXMiLCJwYXJhbXMiLCJTdHJpbmdDaHVuayIsIm5vb3BEZWNvZGVyIiwic2hvdWxkSW5saW5lUGFyYW1zIiwic3BhbiIsImJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zIiwic2V0QXR0cmlidXRlcyIsIl9jb25maWciLCJwYXJhbVN0YXJ0SW5kZXgiLCJwIiwic2NoZW1hTmFtZSIsInZpZXdOYW1lIiwibWFwcGVkVmFsdWUiLCJtYXBJbmxpbmVQYXJhbSIsInRvU3RyaW5nIiwibWFwcGVkVmFsdWVBc1N0cmluZyIsIm1hcFdpdGgiLCJub29wRW5jb2RlciIsIm5vb3BNYXBwZXIiLCJwYXJhbSIsInN0cmluZ3MiLCJwYXJhbUluZGV4IiwibGlzdCIsInNlcGFyYXRvciIsInBsYWNlaG9sZGVyIiwiZmlsbFBsYWNlaG9sZGVycyIsImNvbHVtbk9iaiIsInRhcmdldCIsInByb3hpZWRDb2x1bW5zIiwiUmVsYXRpb25UYWJsZUFsaWFzUHJveHlIYW5kbGVyIiwiJCIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiSSIsIkoiLCJLIiwiTCIsIk0iLCJOIiwiTyIsIlAiLCJRIiwiUiIsIlMiLCJUIiwiVSIsIlYiLCJXIiwiWCIsIlkiLCJaIiwiYSQiLCJhMCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJhNiIsImE3IiwiYTgiLCJhOSIsImFBIiwiYUIiLCJhQyIsImFEIiwiYUUiLCJhRiIsImFHIiwiYUgiLCJhSSIsImFKIiwiYUsiLCJhTCIsImFNIiwiYU4iLCJhTyIsImFQIiwiYVEiLCJhUiIsImFTIiwiYVQiLCJhVSIsImFWIiwiYVciLCJhWCIsImFZIiwiYVoiLCJhXyIsImFhIiwiYWIiLCJhYyIsImFkIiwiYWUiLCJhZiIsImFnIiwiYWgiLCJhaSIsImFqIiwiYWsiLCJhbCIsImFtIiwiYW4iLCJhbyIsImFwIiwiYXEiLCJhciIsImF0IiwiYXUiLCJhdiIsImF3IiwiYXgiLCJheSIsImF6IiwiYiIsImIwIiwiYjEiLCJiMiIsImIzIiwiYjQiLCJiNSIsImI2IiwiYjciLCJiOCIsImI5IiwiYkEiLCJiQiIsImJDIiwiYkQiLCJiRSIsImJGIiwiYkciLCJiSCIsImJJIiwiYkoiLCJiSyIsImJMIiwiYk0iLCJiTiIsImJPIiwiYlAiLCJiUSIsImJSIiwiYmEiLCJiYiIsImJjIiwiYmQiLCJiZSIsImJmIiwiYmciLCJiaCIsImJpIiwiYmoiLCJiayIsImJsIiwiYm0iLCJibiIsImJvIiwiYnAiLCJicSIsImJyIiwiYnMiLCJidCIsImJ1IiwiYnYiLCJidyIsImJ4IiwiYnkiLCJieiIsImQiLCJlIiwiZyIsImgiLCJqIiwiayIsImwiLCJtIiwibiIsIm8iLCJxIiwiciIsInMiLCJ0IiwidSIsIngiLCJ5IiwieiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/alias-3e926a50.mjs\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/errors-fed11085.mjs":
/*!*********************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/errors-fed11085.mjs ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   D: () => (/* binding */ DrizzleError),\n/* harmony export */   T: () => (/* binding */ TransactionRollbackError)\n/* harmony export */ });\n/* harmony import */ var _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alias-3e926a50.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/alias-3e926a50.mjs\");\n\nclass DrizzleError extends Error {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"DrizzleError\";\n    }\n    constructor(message){\n        super(message);\n        this.name = \"DrizzleError\";\n    }\n    static wrap(error, message) {\n        return error instanceof Error // eslint-disable-line no-instanceof/no-instanceof\n         ? new DrizzleError(message ? `${message}: ${error.message}` : error.message) : new DrizzleError(message ?? String(error));\n    }\n}\nclass TransactionRollbackError extends DrizzleError {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"TransactionRollbackError\";\n    }\n    constructor(){\n        super(\"Rollback\");\n    }\n}\n //# sourceMappingURL=errors-fed11085.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMjcuMl9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vZXJyb3JzLWZlZDExMDg1Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFFdkQsTUFBTUUscUJBQXFCQzs7WUFDaEIsQ0FBQ0Ysa0RBQVVBLENBQUMsR0FBRzs7SUFDdEJHLFlBQVlDLE9BQU8sQ0FBRTtRQUNqQixLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDQyxJQUFJLEdBQUc7SUFDaEI7SUFDQSxPQUFPQyxLQUFLQyxLQUFLLEVBQUVILE9BQU8sRUFBRTtRQUN4QixPQUFPRyxpQkFBaUJMLE1BQU0sa0RBQWtEO1dBQzFFLElBQUlELGFBQWFHLFVBQVUsQ0FBQyxFQUFFQSxRQUFRLEVBQUUsRUFBRUcsTUFBTUgsT0FBTyxDQUFDLENBQUMsR0FBR0csTUFBTUgsT0FBTyxJQUN6RSxJQUFJSCxhQUFhRyxXQUFXSSxPQUFPRDtJQUM3QztBQUNKO0FBQ0EsTUFBTUUsaUNBQWlDUjs7WUFDNUIsQ0FBQ0Qsa0RBQVVBLENBQUMsR0FBRzs7SUFDdEJHLGFBQWM7UUFDVixLQUFLLENBQUM7SUFDVjtBQUNKO0FBRTRELENBQzVELDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL0B0b2tlbnN0cmVhbS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMjcuMl9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vZXJyb3JzLWZlZDExMDg1Lm1qcz8wNzA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGUgYXMgZW50aXR5S2luZCB9IGZyb20gJy4vYWxpYXMtM2U5MjZhNTAubWpzJztcblxuY2xhc3MgRHJpenpsZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnRHJpenpsZUVycm9yJztcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRHJpenpsZUVycm9yJztcbiAgICB9XG4gICAgc3RhdGljIHdyYXAoZXJyb3IsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgID8gbmV3IERyaXp6bGVFcnJvcihtZXNzYWdlID8gYCR7bWVzc2FnZX06ICR7ZXJyb3IubWVzc2FnZX1gIDogZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgIDogbmV3IERyaXp6bGVFcnJvcihtZXNzYWdlID8/IFN0cmluZyhlcnJvcikpO1xuICAgIH1cbn1cbmNsYXNzIFRyYW5zYWN0aW9uUm9sbGJhY2tFcnJvciBleHRlbmRzIERyaXp6bGVFcnJvciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdUcmFuc2FjdGlvblJvbGxiYWNrRXJyb3InO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignUm9sbGJhY2snKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IERyaXp6bGVFcnJvciBhcyBELCBUcmFuc2FjdGlvblJvbGxiYWNrRXJyb3IgYXMgVCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLWZlZDExMDg1Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJlIiwiZW50aXR5S2luZCIsIkRyaXp6bGVFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwibmFtZSIsIndyYXAiLCJlcnJvciIsIlN0cmluZyIsIlRyYW5zYWN0aW9uUm9sbGJhY2tFcnJvciIsIkQiLCJUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/errors-fed11085.mjs\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/index.mjs":
/*!***********************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/index.mjs ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseName: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bN),\n/* harmony export */   Column: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   ColumnAliasProxyHandler: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.b5),\n/* harmony export */   ColumnBuilder: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.L),\n/* harmony export */   Columns: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bL),\n/* harmony export */   ConsoleLogWriter: () => (/* binding */ ConsoleLogWriter),\n/* harmony export */   DefaultLogger: () => (/* binding */ DefaultLogger),\n/* harmony export */   DrizzleError: () => (/* reexport safe */ _errors_fed11085_mjs__WEBPACK_IMPORTED_MODULE_1__.D),\n/* harmony export */   ExtraConfigBuilder: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bP),\n/* harmony export */   FakePrimitiveParam: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bz),\n/* harmony export */   IsAlias: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bO),\n/* harmony export */   Many: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bv),\n/* harmony export */   Name: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bC),\n/* harmony export */   NoopLogger: () => (/* binding */ NoopLogger),\n/* harmony export */   One: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bu),\n/* harmony export */   OriginalName: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bM),\n/* harmony export */   Param: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   Placeholder: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bH),\n/* harmony export */   QueryPromise: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.Q),\n/* harmony export */   Relation: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.R),\n/* harmony export */   RelationTableAliasProxyHandler: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.b6),\n/* harmony export */   Relations: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bt),\n/* harmony export */   SQL: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S),\n/* harmony export */   Schema: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bK),\n/* harmony export */   SelectionProxyHandler: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   StringChunk: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bB),\n/* harmony export */   Subquery: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.q),\n/* harmony export */   SubqueryConfig: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.r),\n/* harmony export */   Table: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T),\n/* harmony export */   TableAliasProxyHandler: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.M),\n/* harmony export */   TableName: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bJ),\n/* harmony export */   TransactionRollbackError: () => (/* reexport safe */ _errors_fed11085_mjs__WEBPACK_IMPORTED_MODULE_1__.T),\n/* harmony export */   View: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.V),\n/* harmony export */   ViewBaseConfig: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.u),\n/* harmony export */   WithSubquery: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.W),\n/* harmony export */   aliasedRelation: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.x),\n/* harmony export */   aliasedTable: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.G),\n/* harmony export */   aliasedTableColumn: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w),\n/* harmony export */   and: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.E),\n/* harmony export */   applyMixins: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.K),\n/* harmony export */   asc: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.br),\n/* harmony export */   between: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bl),\n/* harmony export */   bindIfParam: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.b8),\n/* harmony export */   createMany: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.by),\n/* harmony export */   createOne: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bx),\n/* harmony export */   createTableRelationsHelpers: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   desc: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bs),\n/* harmony export */   entityKind: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e),\n/* harmony export */   eq: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.H),\n/* harmony export */   exists: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bj),\n/* harmony export */   extractTablesRelationalConfig: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   fillPlaceholders: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   getTableColumns: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.l),\n/* harmony export */   getTableLikeName: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.J),\n/* harmony export */   getTableName: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   gt: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bb),\n/* harmony export */   gte: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bc),\n/* harmony export */   hasOwnEntityKind: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.b7),\n/* harmony export */   iife: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bR),\n/* harmony export */   ilike: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bp),\n/* harmony export */   inArray: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bf),\n/* harmony export */   is: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   isDriverValueEncoder: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bD),\n/* harmony export */   isNotNull: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bi),\n/* harmony export */   isNull: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bh),\n/* harmony export */   isSQLWrapper: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bA),\n/* harmony export */   isTable: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bQ),\n/* harmony export */   like: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bn),\n/* harmony export */   lt: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bd),\n/* harmony export */   lte: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.be),\n/* harmony export */   mapColumnsInAliasedSQLToAlias: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.y),\n/* harmony export */   mapColumnsInSQLToAlias: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.A),\n/* harmony export */   mapRelationalRow: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   mapResultRow: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   mapUpdateSet: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.d),\n/* harmony export */   name: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   ne: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.b9),\n/* harmony export */   noopDecoder: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bE),\n/* harmony export */   noopEncoder: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bF),\n/* harmony export */   noopMapper: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bG),\n/* harmony export */   normalizeRelation: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.D),\n/* harmony export */   not: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.ba),\n/* harmony export */   notBetween: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bm),\n/* harmony export */   notExists: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bk),\n/* harmony export */   notIlike: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bq),\n/* harmony export */   notInArray: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bg),\n/* harmony export */   notLike: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bo),\n/* harmony export */   operators: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.z),\n/* harmony export */   or: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.F),\n/* harmony export */   orderByOperators: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.B),\n/* harmony export */   orderSelectedFields: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   param: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.v),\n/* harmony export */   placeholder: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bI),\n/* harmony export */   relations: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.bw),\n/* harmony export */   sql: () => (/* reexport safe */ _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s)\n/* harmony export */ });\n/* harmony import */ var _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alias-3e926a50.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/alias-3e926a50.mjs\");\n/* harmony import */ var _errors_fed11085_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors-fed11085.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/errors-fed11085.mjs\");\n\n\n\nclass ConsoleLogWriter {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"ConsoleLogWriter\";\n    }\n    write(message) {\n        console.log(message);\n    }\n}\nclass DefaultLogger {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"DefaultLogger\";\n    }\n    constructor(config){\n        this.writer = config?.writer ?? new ConsoleLogWriter();\n    }\n    logQuery(query, params) {\n        const stringifiedParams = params.map((p)=>{\n            try {\n                return JSON.stringify(p);\n            } catch  {\n                return String(p);\n            }\n        });\n        const paramsStr = stringifiedParams.length ? ` -- params: [${stringifiedParams.join(\", \")}]` : \"\";\n        this.writer.write(`Query: ${query}${paramsStr}`);\n    }\n}\nclass NoopLogger {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"NoopLogger\";\n    }\n    logQuery() {\n    // noop\n    }\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMjcuMl9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDeWlEO0FBQ3ZnRDtBQUV6RixNQUFNc0w7O1lBQ0ssQ0FBQ3JMLGtEQUFVQSxDQUFDLEdBQUc7O0lBQ3RCc0wsTUFBTUMsT0FBTyxFQUFFO1FBQ1hDLFFBQVFDLEdBQUcsQ0FBQ0Y7SUFDaEI7QUFDSjtBQUNBLE1BQU1HOztZQUNLLENBQUMxTCxrREFBVUEsQ0FBQyxHQUFHOztJQUV0QjJMLFlBQVlDLE1BQU0sQ0FBRTtRQUNoQixJQUFJLENBQUNDLE1BQU0sR0FBR0QsUUFBUUMsVUFBVSxJQUFJUjtJQUN4QztJQUNBUyxTQUFTQyxLQUFLLEVBQUVDLE1BQU0sRUFBRTtRQUNwQixNQUFNQyxvQkFBb0JELE9BQU9FLEdBQUcsQ0FBQyxDQUFDakc7WUFDbEMsSUFBSTtnQkFDQSxPQUFPa0csS0FBS0MsU0FBUyxDQUFDbkc7WUFDMUIsRUFDQSxPQUFNO2dCQUNGLE9BQU9vRyxPQUFPcEc7WUFDbEI7UUFDSjtRQUNBLE1BQU1xRyxZQUFZTCxrQkFBa0JNLE1BQU0sR0FBRyxDQUFDLGFBQWEsRUFBRU4sa0JBQWtCTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRztRQUMvRixJQUFJLENBQUNYLE1BQU0sQ0FBQ1AsS0FBSyxDQUFDLENBQUMsT0FBTyxFQUFFUyxNQUFNLEVBQUVPLFVBQVUsQ0FBQztJQUNuRDtBQUNKO0FBQ0EsTUFBTUc7O1lBQ0ssQ0FBQ3pNLGtEQUFVQSxDQUFDLEdBQUc7O0lBQ3RCOEwsV0FBVztJQUNQLE9BQU87SUFDWDtBQUNKO0FBRW1FLENBQ25FLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL0B0b2tlbnN0cmVhbS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMjcuMl9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vaW5kZXgubWpzPzJkMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZSBhcyBlbnRpdHlLaW5kIH0gZnJvbSAnLi9hbGlhcy0zZTkyNmE1MC5tanMnO1xuZXhwb3J0IHsgYk4gYXMgQmFzZU5hbWUsIEMgYXMgQ29sdW1uLCBiNSBhcyBDb2x1bW5BbGlhc1Byb3h5SGFuZGxlciwgTCBhcyBDb2x1bW5CdWlsZGVyLCBiTCBhcyBDb2x1bW5zLCBiUCBhcyBFeHRyYUNvbmZpZ0J1aWxkZXIsIGJ6IGFzIEZha2VQcmltaXRpdmVQYXJhbSwgYk8gYXMgSXNBbGlhcywgYnYgYXMgTWFueSwgYkMgYXMgTmFtZSwgYnUgYXMgT25lLCBiTSBhcyBPcmlnaW5hbE5hbWUsIGIgYXMgUGFyYW0sIGJIIGFzIFBsYWNlaG9sZGVyLCBRIGFzIFF1ZXJ5UHJvbWlzZSwgUiBhcyBSZWxhdGlvbiwgYjYgYXMgUmVsYXRpb25UYWJsZUFsaWFzUHJveHlIYW5kbGVyLCBidCBhcyBSZWxhdGlvbnMsIFMgYXMgU1FMLCBiSyBhcyBTY2hlbWEsIGogYXMgU2VsZWN0aW9uUHJveHlIYW5kbGVyLCBiQiBhcyBTdHJpbmdDaHVuaywgcSBhcyBTdWJxdWVyeSwgciBhcyBTdWJxdWVyeUNvbmZpZywgVCBhcyBUYWJsZSwgTSBhcyBUYWJsZUFsaWFzUHJveHlIYW5kbGVyLCBiSiBhcyBUYWJsZU5hbWUsIFYgYXMgVmlldywgdSBhcyBWaWV3QmFzZUNvbmZpZywgVyBhcyBXaXRoU3VicXVlcnksIHggYXMgYWxpYXNlZFJlbGF0aW9uLCBHIGFzIGFsaWFzZWRUYWJsZSwgdyBhcyBhbGlhc2VkVGFibGVDb2x1bW4sIEUgYXMgYW5kLCBLIGFzIGFwcGx5TWl4aW5zLCBiciBhcyBhc2MsIGJsIGFzIGJldHdlZW4sIGI4IGFzIGJpbmRJZlBhcmFtLCBieSBhcyBjcmVhdGVNYW55LCBieCBhcyBjcmVhdGVPbmUsIGMgYXMgY3JlYXRlVGFibGVSZWxhdGlvbnNIZWxwZXJzLCBicyBhcyBkZXNjLCBIIGFzIGVxLCBiaiBhcyBleGlzdHMsIGEgYXMgZXh0cmFjdFRhYmxlc1JlbGF0aW9uYWxDb25maWcsIGYgYXMgZmlsbFBsYWNlaG9sZGVycywgbCBhcyBnZXRUYWJsZUNvbHVtbnMsIEogYXMgZ2V0VGFibGVMaWtlTmFtZSwgcCBhcyBnZXRUYWJsZU5hbWUsIGJiIGFzIGd0LCBiYyBhcyBndGUsIGI3IGFzIGhhc093bkVudGl0eUtpbmQsIGJSIGFzIGlpZmUsIGJwIGFzIGlsaWtlLCBiZiBhcyBpbkFycmF5LCBpIGFzIGlzLCBiRCBhcyBpc0RyaXZlclZhbHVlRW5jb2RlciwgYmkgYXMgaXNOb3ROdWxsLCBiaCBhcyBpc051bGwsIGJBIGFzIGlzU1FMV3JhcHBlciwgYlEgYXMgaXNUYWJsZSwgYm4gYXMgbGlrZSwgYmQgYXMgbHQsIGJlIGFzIGx0ZSwgeSBhcyBtYXBDb2x1bW5zSW5BbGlhc2VkU1FMVG9BbGlhcywgQSBhcyBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzLCBnIGFzIG1hcFJlbGF0aW9uYWxSb3csIG0gYXMgbWFwUmVzdWx0Um93LCBkIGFzIG1hcFVwZGF0ZVNldCwgbiBhcyBuYW1lLCBiOSBhcyBuZSwgYkUgYXMgbm9vcERlY29kZXIsIGJGIGFzIG5vb3BFbmNvZGVyLCBiRyBhcyBub29wTWFwcGVyLCBEIGFzIG5vcm1hbGl6ZVJlbGF0aW9uLCBiYSBhcyBub3QsIGJtIGFzIG5vdEJldHdlZW4sIGJrIGFzIG5vdEV4aXN0cywgYnEgYXMgbm90SWxpa2UsIGJnIGFzIG5vdEluQXJyYXksIGJvIGFzIG5vdExpa2UsIHogYXMgb3BlcmF0b3JzLCBGIGFzIG9yLCBCIGFzIG9yZGVyQnlPcGVyYXRvcnMsIG8gYXMgb3JkZXJTZWxlY3RlZEZpZWxkcywgdiBhcyBwYXJhbSwgYkkgYXMgcGxhY2Vob2xkZXIsIGJ3IGFzIHJlbGF0aW9ucywgcyBhcyBzcWwgfSBmcm9tICcuL2FsaWFzLTNlOTI2YTUwLm1qcyc7XG5leHBvcnQgeyBEIGFzIERyaXp6bGVFcnJvciwgVCBhcyBUcmFuc2FjdGlvblJvbGxiYWNrRXJyb3IgfSBmcm9tICcuL2Vycm9ycy1mZWQxMTA4NS5tanMnO1xuXG5jbGFzcyBDb25zb2xlTG9nV3JpdGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ0NvbnNvbGVMb2dXcml0ZXInO1xuICAgIHdyaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgfVxufVxuY2xhc3MgRGVmYXVsdExvZ2dlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdEZWZhdWx0TG9nZ2VyJztcbiAgICB3cml0ZXI7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMud3JpdGVyID0gY29uZmlnPy53cml0ZXIgPz8gbmV3IENvbnNvbGVMb2dXcml0ZXIoKTtcbiAgICB9XG4gICAgbG9nUXVlcnkocXVlcnksIHBhcmFtcykge1xuICAgICAgICBjb25zdCBzdHJpbmdpZmllZFBhcmFtcyA9IHBhcmFtcy5tYXAoKHApID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcocCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwYXJhbXNTdHIgPSBzdHJpbmdpZmllZFBhcmFtcy5sZW5ndGggPyBgIC0tIHBhcmFtczogWyR7c3RyaW5naWZpZWRQYXJhbXMuam9pbignLCAnKX1dYCA6ICcnO1xuICAgICAgICB0aGlzLndyaXRlci53cml0ZShgUXVlcnk6ICR7cXVlcnl9JHtwYXJhbXNTdHJ9YCk7XG4gICAgfVxufVxuY2xhc3MgTm9vcExvZ2dlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdOb29wTG9nZ2VyJztcbiAgICBsb2dRdWVyeSgpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgIH1cbn1cblxuZXhwb3J0IHsgQ29uc29sZUxvZ1dyaXRlciwgRGVmYXVsdExvZ2dlciwgTm9vcExvZ2dlciwgZW50aXR5S2luZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbImUiLCJlbnRpdHlLaW5kIiwiYk4iLCJCYXNlTmFtZSIsIkMiLCJDb2x1bW4iLCJiNSIsIkNvbHVtbkFsaWFzUHJveHlIYW5kbGVyIiwiTCIsIkNvbHVtbkJ1aWxkZXIiLCJiTCIsIkNvbHVtbnMiLCJiUCIsIkV4dHJhQ29uZmlnQnVpbGRlciIsImJ6IiwiRmFrZVByaW1pdGl2ZVBhcmFtIiwiYk8iLCJJc0FsaWFzIiwiYnYiLCJNYW55IiwiYkMiLCJOYW1lIiwiYnUiLCJPbmUiLCJiTSIsIk9yaWdpbmFsTmFtZSIsImIiLCJQYXJhbSIsImJIIiwiUGxhY2Vob2xkZXIiLCJRIiwiUXVlcnlQcm9taXNlIiwiUiIsIlJlbGF0aW9uIiwiYjYiLCJSZWxhdGlvblRhYmxlQWxpYXNQcm94eUhhbmRsZXIiLCJidCIsIlJlbGF0aW9ucyIsIlMiLCJTUUwiLCJiSyIsIlNjaGVtYSIsImoiLCJTZWxlY3Rpb25Qcm94eUhhbmRsZXIiLCJiQiIsIlN0cmluZ0NodW5rIiwicSIsIlN1YnF1ZXJ5IiwiciIsIlN1YnF1ZXJ5Q29uZmlnIiwiVCIsIlRhYmxlIiwiTSIsIlRhYmxlQWxpYXNQcm94eUhhbmRsZXIiLCJiSiIsIlRhYmxlTmFtZSIsIlYiLCJWaWV3IiwidSIsIlZpZXdCYXNlQ29uZmlnIiwiVyIsIldpdGhTdWJxdWVyeSIsIngiLCJhbGlhc2VkUmVsYXRpb24iLCJHIiwiYWxpYXNlZFRhYmxlIiwidyIsImFsaWFzZWRUYWJsZUNvbHVtbiIsIkUiLCJhbmQiLCJLIiwiYXBwbHlNaXhpbnMiLCJiciIsImFzYyIsImJsIiwiYmV0d2VlbiIsImI4IiwiYmluZElmUGFyYW0iLCJieSIsImNyZWF0ZU1hbnkiLCJieCIsImNyZWF0ZU9uZSIsImMiLCJjcmVhdGVUYWJsZVJlbGF0aW9uc0hlbHBlcnMiLCJicyIsImRlc2MiLCJIIiwiZXEiLCJiaiIsImV4aXN0cyIsImEiLCJleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZyIsImYiLCJmaWxsUGxhY2Vob2xkZXJzIiwibCIsImdldFRhYmxlQ29sdW1ucyIsIkoiLCJnZXRUYWJsZUxpa2VOYW1lIiwicCIsImdldFRhYmxlTmFtZSIsImJiIiwiZ3QiLCJiYyIsImd0ZSIsImI3IiwiaGFzT3duRW50aXR5S2luZCIsImJSIiwiaWlmZSIsImJwIiwiaWxpa2UiLCJiZiIsImluQXJyYXkiLCJpIiwiaXMiLCJiRCIsImlzRHJpdmVyVmFsdWVFbmNvZGVyIiwiYmkiLCJpc05vdE51bGwiLCJiaCIsImlzTnVsbCIsImJBIiwiaXNTUUxXcmFwcGVyIiwiYlEiLCJpc1RhYmxlIiwiYm4iLCJsaWtlIiwiYmQiLCJsdCIsImJlIiwibHRlIiwieSIsIm1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzIiwiQSIsIm1hcENvbHVtbnNJblNRTFRvQWxpYXMiLCJnIiwibWFwUmVsYXRpb25hbFJvdyIsIm0iLCJtYXBSZXN1bHRSb3ciLCJkIiwibWFwVXBkYXRlU2V0IiwibiIsIm5hbWUiLCJiOSIsIm5lIiwiYkUiLCJub29wRGVjb2RlciIsImJGIiwibm9vcEVuY29kZXIiLCJiRyIsIm5vb3BNYXBwZXIiLCJEIiwibm9ybWFsaXplUmVsYXRpb24iLCJiYSIsIm5vdCIsImJtIiwibm90QmV0d2VlbiIsImJrIiwibm90RXhpc3RzIiwiYnEiLCJub3RJbGlrZSIsImJnIiwibm90SW5BcnJheSIsImJvIiwibm90TGlrZSIsInoiLCJvcGVyYXRvcnMiLCJGIiwib3IiLCJCIiwib3JkZXJCeU9wZXJhdG9ycyIsIm8iLCJvcmRlclNlbGVjdGVkRmllbGRzIiwidiIsInBhcmFtIiwiYkkiLCJwbGFjZWhvbGRlciIsImJ3IiwicmVsYXRpb25zIiwicyIsInNxbCIsIkRyaXp6bGVFcnJvciIsIlRyYW5zYWN0aW9uUm9sbGJhY2tFcnJvciIsIkNvbnNvbGVMb2dXcml0ZXIiLCJ3cml0ZSIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwiRGVmYXVsdExvZ2dlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwid3JpdGVyIiwibG9nUXVlcnkiLCJxdWVyeSIsInBhcmFtcyIsInN0cmluZ2lmaWVkUGFyYW1zIiwibWFwIiwiSlNPTiIsInN0cmluZ2lmeSIsIlN0cmluZyIsInBhcmFtc1N0ciIsImxlbmd0aCIsImpvaW4iLCJOb29wTG9nZ2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/index.mjs\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/libsql/index.mjs":
/*!******************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/libsql/index.mjs ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LibSQLSession: () => (/* binding */ LibSQLSession),\n/* harmony export */   LibSQLTransaction: () => (/* binding */ LibSQLTransaction),\n/* harmony export */   PreparedQuery: () => (/* binding */ PreparedQuery),\n/* harmony export */   drizzle: () => (/* binding */ drizzle)\n/* harmony export */ });\n/* harmony import */ var _index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/index.mjs\");\n/* harmony import */ var _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../alias-3e926a50.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/alias-3e926a50.mjs\");\n/* harmony import */ var _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../session-8302855c.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/session-8302855c.mjs\");\n\n\n\n\nclass LibSQLSession extends _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.S {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"LibSQLSession\";\n    }\n    constructor(client, dialect, schema, options, tx){\n        super(dialect);\n        this.client = client;\n        this.schema = schema;\n        this.options = options;\n        this.tx = tx;\n        this.logger = options.logger ?? new _index_mjs__WEBPACK_IMPORTED_MODULE_2__.NoopLogger();\n    }\n    prepareQuery(query, fields, customResultMapper) {\n        return new PreparedQuery(this.client, query.sql, query.params, this.logger, fields, this.tx, customResultMapper);\n    }\n    /*override */ batch(queries) {\n        const builtQueries = queries.map((query)=>{\n            const builtQuery = this.dialect.sqlToQuery(query);\n            return {\n                sql: builtQuery.sql,\n                args: builtQuery.params\n            };\n        });\n        return this.client.batch(builtQueries);\n    }\n    async transaction(transaction, _config) {\n        // TODO: support transaction behavior\n        const libsqlTx = await this.client.transaction();\n        const session = new LibSQLSession(this.client, this.dialect, this.schema, this.options, libsqlTx);\n        const tx = new LibSQLTransaction(\"async\", this.dialect, session, this.schema);\n        try {\n            const result = await transaction(tx);\n            await libsqlTx.commit();\n            return result;\n        } catch (err) {\n            await libsqlTx.rollback();\n            throw err;\n        }\n    }\n}\nclass LibSQLTransaction extends _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.a {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"LibSQLTransaction\";\n    }\n    async transaction(transaction) {\n        const savepointName = `sp${this.nestedIndex}`;\n        const tx = new LibSQLTransaction(\"async\", this.dialect, this.session, this.schema, this.nestedIndex + 1);\n        await this.session.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.s.raw(`savepoint ${savepointName}`));\n        try {\n            const result = await transaction(tx);\n            await this.session.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.s.raw(`release savepoint ${savepointName}`));\n            return result;\n        } catch (err) {\n            await this.session.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.s.raw(`rollback to savepoint ${savepointName}`));\n            throw err;\n        }\n    }\n}\nclass PreparedQuery extends _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.P {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"LibSQLPreparedQuery\";\n    }\n    constructor(client, queryString, params, logger, fields, tx, customResultMapper){\n        super();\n        this.client = client;\n        this.queryString = queryString;\n        this.params = params;\n        this.logger = logger;\n        this.fields = fields;\n        this.tx = tx;\n        this.customResultMapper = customResultMapper;\n    }\n    run(placeholderValues) {\n        const params = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.f)(this.params, placeholderValues ?? {});\n        this.logger.logQuery(this.queryString, params);\n        const stmt = {\n            sql: this.queryString,\n            args: params\n        };\n        return this.tx ? this.tx.execute(stmt) : this.client.execute(stmt);\n    }\n    async all(placeholderValues) {\n        const { fields, joinsNotNullableMap, logger, queryString, tx, client, customResultMapper } = this;\n        if (!fields && !customResultMapper) {\n            const params = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.f)(this.params, placeholderValues ?? {});\n            logger.logQuery(queryString, params);\n            const stmt = {\n                sql: queryString,\n                args: params\n            };\n            return (tx ? tx.execute(stmt) : client.execute(stmt)).then(({ rows })=>rows.map((row)=>normalizeRow(row)));\n        }\n        const rows = await this.values(placeholderValues);\n        if (customResultMapper) {\n            return customResultMapper(rows, normalizeFieldValue);\n        }\n        return rows.map((row)=>{\n            return (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.m)(fields, Array.prototype.slice.call(row).map((v)=>normalizeFieldValue(v)), joinsNotNullableMap);\n        });\n    }\n    async get(placeholderValues) {\n        const { fields, joinsNotNullableMap, logger, queryString, tx, client, customResultMapper } = this;\n        if (!fields && !customResultMapper) {\n            const params = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.f)(this.params, placeholderValues ?? {});\n            logger.logQuery(queryString, params);\n            const stmt = {\n                sql: queryString,\n                args: params\n            };\n            return (tx ? tx.execute(stmt) : client.execute(stmt)).then(({ rows })=>normalizeRow(rows[0]));\n        }\n        const rows = await this.values(placeholderValues);\n        if (!rows[0]) {\n            return undefined;\n        }\n        if (customResultMapper) {\n            return customResultMapper(rows, normalizeFieldValue);\n        }\n        return (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.m)(fields, Array.prototype.slice.call(rows[0]).map((v)=>normalizeFieldValue(v)), joinsNotNullableMap);\n    }\n    values(placeholderValues) {\n        const params = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.f)(this.params, placeholderValues ?? {});\n        this.logger.logQuery(this.queryString, params);\n        const stmt = {\n            sql: this.queryString,\n            args: params\n        };\n        return (this.tx ? this.tx.execute(stmt) : this.client.execute(stmt)).then(({ rows })=>rows);\n    }\n}\nfunction normalizeRow(obj) {\n    // The libSQL node-sqlite3 compatibility wrapper returns rows\n    // that can be accessed both as objects and arrays. Let's\n    // turn them into objects what's what other SQLite drivers\n    // do.\n    return Object.keys(obj).reduce((acc, key)=>{\n        if (Object.prototype.propertyIsEnumerable.call(obj, key)) {\n            acc[key] = obj[key];\n        }\n        return acc;\n    }, {});\n}\nfunction normalizeFieldValue(value) {\n    if (value instanceof ArrayBuffer) {\n        if (typeof Buffer !== \"undefined\") {\n            if (!(value instanceof Buffer)) {\n                return Buffer.from(value);\n            }\n            return value;\n        }\n        if (typeof TextDecoder !== \"undefined\") {\n            return new TextDecoder().decode(value);\n        }\n        throw new Error(\"TextDecoder is not available. Please provide either Buffer or TextDecoder polyfill.\");\n    }\n    return value;\n}\nfunction drizzle(client, config = {}) {\n    const dialect = new _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.c();\n    let logger;\n    if (config.logger === true) {\n        logger = new _index_mjs__WEBPACK_IMPORTED_MODULE_2__.DefaultLogger();\n    } else if (config.logger !== false) {\n        logger = config.logger;\n    }\n    let schema;\n    if (config.schema) {\n        const tablesConfig = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.a)(config.schema, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.c);\n        schema = {\n            fullSchema: config.schema,\n            schema: tablesConfig.tables,\n            tableNamesMap: tablesConfig.tableNamesMap\n        };\n    }\n    const session = new LibSQLSession(client, dialect, schema, {\n        logger\n    }, undefined);\n    return new _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.B(\"async\", dialect, session, schema);\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMjcuMl9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vbGlic3FsL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXlEO0FBQ3lIO0FBQ3JCO0FBQzdIO0FBRWhDLE1BQU1zQixzQkFBc0JQLG9EQUFhQTs7WUFLOUIsQ0FBQ1osa0RBQVVBLENBQUMsR0FBRzs7SUFFdEJvQixZQUFZQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLEVBQUUsQ0FBRTtRQUM5QyxLQUFLLENBQUNIO1FBQ04sSUFBSSxDQUFDRCxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDRSxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxPQUFPLEdBQUdBO1FBQ2YsSUFBSSxDQUFDQyxFQUFFLEdBQUdBO1FBQ1YsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFFBQVFFLE1BQU0sSUFBSSxJQUFJN0Isa0RBQVVBO0lBQ2xEO0lBQ0E4QixhQUFhQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsa0JBQWtCLEVBQUU7UUFDNUMsT0FBTyxJQUFJQyxjQUFjLElBQUksQ0FBQ1YsTUFBTSxFQUFFTyxNQUFNMUIsR0FBRyxFQUFFMEIsTUFBTUksTUFBTSxFQUFFLElBQUksQ0FBQ04sTUFBTSxFQUFFRyxRQUFRLElBQUksQ0FBQ0osRUFBRSxFQUFFSztJQUNqRztJQUNBLFdBQVcsR0FBR0csTUFBTUMsT0FBTyxFQUFFO1FBQ3pCLE1BQU1DLGVBQWVELFFBQVFFLEdBQUcsQ0FBQyxDQUFDUjtZQUM5QixNQUFNUyxhQUFhLElBQUksQ0FBQ2YsT0FBTyxDQUFDZ0IsVUFBVSxDQUFDVjtZQUMzQyxPQUFPO2dCQUFFMUIsS0FBS21DLFdBQVduQyxHQUFHO2dCQUFFcUMsTUFBTUYsV0FBV0wsTUFBTTtZQUFDO1FBQzFEO1FBQ0EsT0FBTyxJQUFJLENBQUNYLE1BQU0s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SUFDSixJQUFJaUUsT0FBT2pFLE1BQU0sRUFBRTtRQUNmLE1BQU1rRSxlQUFlakYsc0RBQTZCQSxDQUFDZ0YsT0FBT2pFLE1BQU0sRUFBRWIsa0RBQTJCQTtRQUM3RmEsU0FBUztZQUNMbUUsWUFBWUYsT0FBT2pFLE1BQU07WUFDekJBLFFBQVFrRSxhQUFhRSxNQUFNO1lBQzNCQyxlQUFlSCxhQUFhRyxhQUFhO1FBQzdDO0lBQ0o7SUFDQSxNQUFNakQsVUFBVSxJQUFJeEIsY0FBY0UsUUFBUUMsU0FBU0MsUUFBUTtRQUFFRztJQUFPLEdBQUc4QztJQUN2RSxPQUFPLElBQUl2RCxvREFBa0JBLENBQUMsU0FBU0ssU0FBU3FCLFNBQVNwQjtBQUM3RDtBQUVvRSxDQUNwRSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG9rZW5zdHJlYW0vd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjI3LjJfQGxpYnNxbCtjbGllbnRAMC4zLjQvbm9kZV9tb2R1bGVzL2RyaXp6bGUtb3JtL2xpYnNxbC9pbmRleC5tanM/ZjJhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb29wTG9nZ2VyLCBEZWZhdWx0TG9nZ2VyIH0gZnJvbSAnLi4vaW5kZXgubWpzJztcbmltcG9ydCB7IGUgYXMgZW50aXR5S2luZCwgcyBhcyBzcWwsIGYgYXMgZmlsbFBsYWNlaG9sZGVycywgbSBhcyBtYXBSZXN1bHRSb3csIGEgYXMgZXh0cmFjdFRhYmxlc1JlbGF0aW9uYWxDb25maWcsIGMgYXMgY3JlYXRlVGFibGVSZWxhdGlvbnNIZWxwZXJzIH0gZnJvbSAnLi4vYWxpYXMtM2U5MjZhNTAubWpzJztcbmltcG9ydCB7IFMgYXMgU1FMaXRlU2Vzc2lvbiwgYSBhcyBTUUxpdGVUcmFuc2FjdGlvbiwgUCBhcyBQcmVwYXJlZFF1ZXJ5JDEsIEIgYXMgQmFzZVNRTGl0ZURhdGFiYXNlLCBjIGFzIFNRTGl0ZUFzeW5jRGlhbGVjdCB9IGZyb20gJy4uL3Nlc3Npb24tODMwMjg1NWMubWpzJztcbmltcG9ydCAnLi4vZXJyb3JzLWZlZDExMDg1Lm1qcyc7XG5cbmNsYXNzIExpYlNRTFNlc3Npb24gZXh0ZW5kcyBTUUxpdGVTZXNzaW9uIHtcbiAgICBjbGllbnQ7XG4gICAgc2NoZW1hO1xuICAgIG9wdGlvbnM7XG4gICAgdHg7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdMaWJTUUxTZXNzaW9uJztcbiAgICBsb2dnZXI7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCBkaWFsZWN0LCBzY2hlbWEsIG9wdGlvbnMsIHR4KSB7XG4gICAgICAgIHN1cGVyKGRpYWxlY3QpO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBvcHRpb25zLmxvZ2dlciA/PyBuZXcgTm9vcExvZ2dlcigpO1xuICAgIH1cbiAgICBwcmVwYXJlUXVlcnkocXVlcnksIGZpZWxkcywgY3VzdG9tUmVzdWx0TWFwcGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJlcGFyZWRRdWVyeSh0aGlzLmNsaWVudCwgcXVlcnkuc3FsLCBxdWVyeS5wYXJhbXMsIHRoaXMubG9nZ2VyLCBmaWVsZHMsIHRoaXMudHgsIGN1c3RvbVJlc3VsdE1hcHBlcik7XG4gICAgfVxuICAgIC8qb3ZlcnJpZGUgKi8gYmF0Y2gocXVlcmllcykge1xuICAgICAgICBjb25zdCBidWlsdFF1ZXJpZXMgPSBxdWVyaWVzLm1hcCgocXVlcnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1aWx0UXVlcnkgPSB0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeShxdWVyeSk7XG4gICAgICAgICAgICByZXR1cm4geyBzcWw6IGJ1aWx0UXVlcnkuc3FsLCBhcmdzOiBidWlsdFF1ZXJ5LnBhcmFtcyB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmJhdGNoKGJ1aWx0UXVlcmllcyk7XG4gICAgfVxuICAgIGFzeW5jIHRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uLCBfY29uZmlnKSB7XG4gICAgICAgIC8vIFRPRE86IHN1cHBvcnQgdHJhbnNhY3Rpb24gYmVoYXZpb3JcbiAgICAgICAgY29uc3QgbGlic3FsVHggPSBhd2FpdCB0aGlzLmNsaWVudC50cmFuc2FjdGlvbigpO1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gbmV3IExpYlNRTFNlc3Npb24odGhpcy5jbGllbnQsIHRoaXMuZGlhbGVjdCwgdGhpcy5zY2hlbWEsIHRoaXMub3B0aW9ucywgbGlic3FsVHgpO1xuICAgICAgICBjb25zdCB0eCA9IG5ldyBMaWJTUUxUcmFuc2FjdGlvbignYXN5bmMnLCB0aGlzLmRpYWxlY3QsIHNlc3Npb24sIHRoaXMuc2NoZW1hKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRyYW5zYWN0aW9uKHR4KTtcbiAgICAgICAgICAgIGF3YWl0IGxpYnNxbFR4LmNvbW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCBsaWJzcWxUeC5yb2xsYmFjaygpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgTGliU1FMVHJhbnNhY3Rpb24gZXh0ZW5kcyBTUUxpdGVUcmFuc2FjdGlvbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdMaWJTUUxUcmFuc2FjdGlvbic7XG4gICAgYXN5bmMgdHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgICAgICAgY29uc3Qgc2F2ZXBvaW50TmFtZSA9IGBzcCR7dGhpcy5uZXN0ZWRJbmRleH1gO1xuICAgICAgICBjb25zdCB0eCA9IG5ldyBMaWJTUUxUcmFuc2FjdGlvbignYXN5bmMnLCB0aGlzLmRpYWxlY3QsIHRoaXMuc2Vzc2lvbiwgdGhpcy5zY2hlbWEsIHRoaXMubmVzdGVkSW5kZXggKyAxKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uLnJ1bihzcWwucmF3KGBzYXZlcG9pbnQgJHtzYXZlcG9pbnROYW1lfWApKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRyYW5zYWN0aW9uKHR4KTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvbi5ydW4oc3FsLnJhdyhgcmVsZWFzZSBzYXZlcG9pbnQgJHtzYXZlcG9pbnROYW1lfWApKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uLnJ1bihzcWwucmF3KGByb2xsYmFjayB0byBzYXZlcG9pbnQgJHtzYXZlcG9pbnROYW1lfWApKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFByZXBhcmVkUXVlcnkgZXh0ZW5kcyBQcmVwYXJlZFF1ZXJ5JDEge1xuICAgIGNsaWVudDtcbiAgICBxdWVyeVN0cmluZztcbiAgICBwYXJhbXM7XG4gICAgbG9nZ2VyO1xuICAgIGZpZWxkcztcbiAgICB0eDtcbiAgICBjdXN0b21SZXN1bHRNYXBwZXI7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdMaWJTUUxQcmVwYXJlZFF1ZXJ5JztcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHF1ZXJ5U3RyaW5nLCBwYXJhbXMsIGxvZ2dlciwgZmllbGRzLCB0eCwgY3VzdG9tUmVzdWx0TWFwcGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgICAgICB0aGlzLnF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmc7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgdGhpcy5jdXN0b21SZXN1bHRNYXBwZXIgPSBjdXN0b21SZXN1bHRNYXBwZXI7XG4gICAgfVxuICAgIHJ1bihwbGFjZWhvbGRlclZhbHVlcykge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBmaWxsUGxhY2Vob2xkZXJzKHRoaXMucGFyYW1zLCBwbGFjZWhvbGRlclZhbHVlcyA/PyB7fSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZ1F1ZXJ5KHRoaXMucXVlcnlTdHJpbmcsIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IHN0bXQgPSB7IHNxbDogdGhpcy5xdWVyeVN0cmluZywgYXJnczogcGFyYW1zIH07XG4gICAgICAgIHJldHVybiB0aGlzLnR4ID8gdGhpcy50eC5leGVjdXRlKHN0bXQpIDogdGhpcy5jbGllbnQuZXhlY3V0ZShzdG10KTtcbiAgICB9XG4gICAgYXN5bmMgYWxsKHBsYWNlaG9sZGVyVmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHsgZmllbGRzLCBqb2luc05vdE51bGxhYmxlTWFwLCBsb2dnZXIsIHF1ZXJ5U3RyaW5nLCB0eCwgY2xpZW50LCBjdXN0b21SZXN1bHRNYXBwZXIgfSA9IHRoaXM7XG4gICAgICAgIGlmICghZmllbGRzICYmICFjdXN0b21SZXN1bHRNYXBwZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGZpbGxQbGFjZWhvbGRlcnModGhpcy5wYXJhbXMsIHBsYWNlaG9sZGVyVmFsdWVzID8/IHt9KTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2dRdWVyeShxdWVyeVN0cmluZywgcGFyYW1zKTtcbiAgICAgICAgICAgIGNvbnN0IHN0bXQgPSB7IHNxbDogcXVlcnlTdHJpbmcsIGFyZ3M6IHBhcmFtcyB9O1xuICAgICAgICAgICAgcmV0dXJuICh0eCA/IHR4LmV4ZWN1dGUoc3RtdCkgOiBjbGllbnQuZXhlY3V0ZShzdG10KSkudGhlbigoeyByb3dzIH0pID0+IHJvd3MubWFwKChyb3cpID0+IG5vcm1hbGl6ZVJvdyhyb3cpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm93cyA9IGF3YWl0IHRoaXMudmFsdWVzKHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICAgICAgaWYgKGN1c3RvbVJlc3VsdE1hcHBlcikge1xuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbVJlc3VsdE1hcHBlcihyb3dzLCBub3JtYWxpemVGaWVsZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm93cy5tYXAoKHJvdykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG1hcFJlc3VsdFJvdyhmaWVsZHMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJvdykubWFwKCh2KSA9PiBub3JtYWxpemVGaWVsZFZhbHVlKHYpKSwgam9pbnNOb3ROdWxsYWJsZU1hcCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBnZXQocGxhY2Vob2xkZXJWYWx1ZXMpIHtcbiAgICAgICAgY29uc3QgeyBmaWVsZHMsIGpvaW5zTm90TnVsbGFibGVNYXAsIGxvZ2dlciwgcXVlcnlTdHJpbmcsIHR4LCBjbGllbnQsIGN1c3RvbVJlc3VsdE1hcHBlciB9ID0gdGhpcztcbiAgICAgICAgaWYgKCFmaWVsZHMgJiYgIWN1c3RvbVJlc3VsdE1hcHBlcikge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gZmlsbFBsYWNlaG9sZGVycyh0aGlzLnBhcmFtcywgcGxhY2Vob2xkZXJWYWx1ZXMgPz8ge30pO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZ1F1ZXJ5KHF1ZXJ5U3RyaW5nLCBwYXJhbXMpO1xuICAgICAgICAgICAgY29uc3Qgc3RtdCA9IHsgc3FsOiBxdWVyeVN0cmluZywgYXJnczogcGFyYW1zIH07XG4gICAgICAgICAgICByZXR1cm4gKHR4ID8gdHguZXhlY3V0ZShzdG10KSA6IGNsaWVudC5leGVjdXRlKHN0bXQpKS50aGVuKCh7IHJvd3MgfSkgPT4gbm9ybWFsaXplUm93KHJvd3NbMF0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByb3dzID0gYXdhaXQgdGhpcy52YWx1ZXMocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgICAgICBpZiAoIXJvd3NbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1c3RvbVJlc3VsdE1hcHBlcikge1xuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbVJlc3VsdE1hcHBlcihyb3dzLCBub3JtYWxpemVGaWVsZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwUmVzdWx0Um93KGZpZWxkcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocm93c1swXSkubWFwKCh2KSA9PiBub3JtYWxpemVGaWVsZFZhbHVlKHYpKSwgam9pbnNOb3ROdWxsYWJsZU1hcCk7XG4gICAgfVxuICAgIHZhbHVlcyhwbGFjZWhvbGRlclZhbHVlcykge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBmaWxsUGxhY2Vob2xkZXJzKHRoaXMucGFyYW1zLCBwbGFjZWhvbGRlclZhbHVlcyA/PyB7fSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZ1F1ZXJ5KHRoaXMucXVlcnlTdHJpbmcsIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IHN0bXQgPSB7IHNxbDogdGhpcy5xdWVyeVN0cmluZywgYXJnczogcGFyYW1zIH07XG4gICAgICAgIHJldHVybiAodGhpcy50eCA/IHRoaXMudHguZXhlY3V0ZShzdG10KSA6IHRoaXMuY2xpZW50LmV4ZWN1dGUoc3RtdCkpLnRoZW4oKHsgcm93cyB9KSA9PiByb3dzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVSb3cob2JqKSB7XG4gICAgLy8gVGhlIGxpYlNRTCBub2RlLXNxbGl0ZTMgY29tcGF0aWJpbGl0eSB3cmFwcGVyIHJldHVybnMgcm93c1xuICAgIC8vIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJvdGggYXMgb2JqZWN0cyBhbmQgYXJyYXlzLiBMZXQnc1xuICAgIC8vIHR1cm4gdGhlbSBpbnRvIG9iamVjdHMgd2hhdCdzIHdoYXQgb3RoZXIgU1FMaXRlIGRyaXZlcnNcbiAgICAvLyBkby5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplRmllbGRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBCdWZmZXIpKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIFRleHREZWNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0RGVjb2RlciBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgcHJvdmlkZSBlaXRoZXIgQnVmZmVyIG9yIFRleHREZWNvZGVyIHBvbHlmaWxsLicpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRyaXp6bGUoY2xpZW50LCBjb25maWcgPSB7fSkge1xuICAgIGNvbnN0IGRpYWxlY3QgPSBuZXcgU1FMaXRlQXN5bmNEaWFsZWN0KCk7XG4gICAgbGV0IGxvZ2dlcjtcbiAgICBpZiAoY29uZmlnLmxvZ2dlciA9PT0gdHJ1ZSkge1xuICAgICAgICBsb2dnZXIgPSBuZXcgRGVmYXVsdExvZ2dlcigpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb25maWcubG9nZ2VyICE9PSBmYWxzZSkge1xuICAgICAgICBsb2dnZXIgPSBjb25maWcubG9nZ2VyO1xuICAgIH1cbiAgICBsZXQgc2NoZW1hO1xuICAgIGlmIChjb25maWcuc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IHRhYmxlc0NvbmZpZyA9IGV4dHJhY3RUYWJsZXNSZWxhdGlvbmFsQ29uZmlnKGNvbmZpZy5zY2hlbWEsIGNyZWF0ZVRhYmxlUmVsYXRpb25zSGVscGVycyk7XG4gICAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgICAgIGZ1bGxTY2hlbWE6IGNvbmZpZy5zY2hlbWEsXG4gICAgICAgICAgICBzY2hlbWE6IHRhYmxlc0NvbmZpZy50YWJsZXMsXG4gICAgICAgICAgICB0YWJsZU5hbWVzTWFwOiB0YWJsZXNDb25maWcudGFibGVOYW1lc01hcCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc2Vzc2lvbiA9IG5ldyBMaWJTUUxTZXNzaW9uKGNsaWVudCwgZGlhbGVjdCwgc2NoZW1hLCB7IGxvZ2dlciB9LCB1bmRlZmluZWQpO1xuICAgIHJldHVybiBuZXcgQmFzZVNRTGl0ZURhdGFiYXNlKCdhc3luYycsIGRpYWxlY3QsIHNlc3Npb24sIHNjaGVtYSk7XG59XG5cbmV4cG9ydCB7IExpYlNRTFNlc3Npb24sIExpYlNRTFRyYW5zYWN0aW9uLCBQcmVwYXJlZFF1ZXJ5LCBkcml6emxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOlsiTm9vcExvZ2dlciIsIkRlZmF1bHRMb2dnZXIiLCJlIiwiZW50aXR5S2luZCIsInMiLCJzcWwiLCJmIiwiZmlsbFBsYWNlaG9sZGVycyIsIm0iLCJtYXBSZXN1bHRSb3ciLCJhIiwiZXh0cmFjdFRhYmxlc1JlbGF0aW9uYWxDb25maWciLCJjIiwiY3JlYXRlVGFibGVSZWxhdGlvbnNIZWxwZXJzIiwiUyIsIlNRTGl0ZVNlc3Npb24iLCJTUUxpdGVUcmFuc2FjdGlvbiIsIlAiLCJQcmVwYXJlZFF1ZXJ5JDEiLCJCIiwiQmFzZVNRTGl0ZURhdGFiYXNlIiwiU1FMaXRlQXN5bmNEaWFsZWN0IiwiTGliU1FMU2Vzc2lvbiIsImNvbnN0cnVjdG9yIiwiY2xpZW50IiwiZGlhbGVjdCIsInNjaGVtYSIsIm9wdGlvbnMiLCJ0eCIsImxvZ2dlciIsInByZXBhcmVRdWVyeSIsInF1ZXJ5IiwiZmllbGRzIiwiY3VzdG9tUmVzdWx0TWFwcGVyIiwiUHJlcGFyZWRRdWVyeSIsInBhcmFtcyIsImJhdGNoIiwicXVlcmllcyIsImJ1aWx0UXVlcmllcyIsIm1hcCIsImJ1aWx0UXVlcnkiLCJzcWxUb1F1ZXJ5IiwiYXJncyIsInRyYW5zYWN0aW9uIiwiX2NvbmZpZyIsImxpYnNxbFR4Iiwic2Vzc2lvbiIsIkxpYlNRTFRyYW5zYWN0aW9uIiwicmVzdWx0IiwiY29tbWl0IiwiZXJyIiwicm9sbGJhY2siLCJzYXZlcG9pbnROYW1lIiwibmVzdGVkSW5kZXgiLCJydW4iLCJyYXciLCJxdWVyeVN0cmluZyIsInBsYWNlaG9sZGVyVmFsdWVzIiwibG9nUXVlcnkiLCJzdG10IiwiZXhlY3V0ZSIsImFsbCIsImpvaW5zTm90TnVsbGFibGVNYXAiLCJ0aGVuIiwicm93cyIsInJvdyIsIm5vcm1hbGl6ZVJvdyIsInZhbHVlcyIsIm5vcm1hbGl6ZUZpZWxkVmFsdWUiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsInYiLCJnZXQiLCJ1bmRlZmluZWQiLCJvYmoiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwiYWNjIiwia2V5IiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ2YWx1ZSIsIkFycmF5QnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwiRXJyb3IiLCJkcml6emxlIiwiY29uZmlnIiwidGFibGVzQ29uZmlnIiwiZnVsbFNjaGVtYSIsInRhYmxlcyIsInRhYmxlTmFtZXNNYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/libsql/index.mjs\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/session-8302855c.mjs":
/*!**********************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/session-8302855c.mjs ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   B: () => (/* binding */ BaseSQLiteDatabase),\n/* harmony export */   I: () => (/* binding */ InlineForeignKeys),\n/* harmony export */   M: () => (/* binding */ ManualViewBuilder),\n/* harmony export */   P: () => (/* binding */ PreparedQuery$1),\n/* harmony export */   Q: () => (/* binding */ QueryBuilder),\n/* harmony export */   S: () => (/* binding */ SQLiteSession),\n/* harmony export */   V: () => (/* binding */ ViewBuilderCore),\n/* harmony export */   a: () => (/* binding */ SQLiteTransaction),\n/* harmony export */   b: () => (/* binding */ SQLiteSyncDialect),\n/* harmony export */   c: () => (/* binding */ SQLiteAsyncDialect),\n/* harmony export */   d: () => (/* binding */ SQLiteTable),\n/* harmony export */   e: () => (/* binding */ SQLiteViewConfig),\n/* harmony export */   f: () => (/* binding */ SQLiteDialect),\n/* harmony export */   g: () => (/* binding */ SQLiteDelete),\n/* harmony export */   h: () => (/* binding */ SQLiteInsertBuilder),\n/* harmony export */   i: () => (/* binding */ SQLiteInsert),\n/* harmony export */   j: () => (/* binding */ SQLiteSelectBuilder),\n/* harmony export */   k: () => (/* binding */ SQLiteSelectQueryBuilder),\n/* harmony export */   l: () => (/* binding */ SQLiteSelect),\n/* harmony export */   m: () => (/* binding */ SQLiteUpdateBuilder),\n/* harmony export */   n: () => (/* binding */ SQLiteUpdate),\n/* harmony export */   o: () => (/* binding */ sqliteTableCreator),\n/* harmony export */   p: () => (/* binding */ ViewBuilder),\n/* harmony export */   q: () => (/* binding */ SQLiteViewBase),\n/* harmony export */   r: () => (/* binding */ SQLiteView),\n/* harmony export */   s: () => (/* binding */ sqliteTable),\n/* harmony export */   t: () => (/* binding */ sqliteView),\n/* harmony export */   v: () => (/* binding */ view)\n/* harmony export */ });\n/* harmony import */ var _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alias-3e926a50.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/alias-3e926a50.mjs\");\n/* harmony import */ var _errors_fed11085_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors-fed11085.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/errors-fed11085.mjs\");\n\n\n/** @internal */ const InlineForeignKeys = Symbol.for(\"drizzle:SQLiteInlineForeignKeys\");\nlet prop, prop1;\nclass SQLiteTable extends _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T {\n    static{\n        prop = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns;\n        prop1 = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.ExtraConfigBuilder;\n    }\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteTable\";\n    }\n    static{\n        /** @internal */ this.Symbol = Object.assign({}, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol, {\n            InlineForeignKeys: InlineForeignKeys\n        });\n    }\n    constructor(...args){\n        super(...args);\n        /** @internal */ this[InlineForeignKeys] = [];\n        /** @internal */ this[prop1] = undefined;\n    }\n}\nfunction sqliteTableBase(name, columns, extraConfig, schema, baseName = name) {\n    const rawTable = new SQLiteTable(name, schema, baseName);\n    const builtColumns = Object.fromEntries(Object.entries(columns).map(([name, colBuilder])=>{\n        const column = colBuilder.build(rawTable);\n        rawTable[InlineForeignKeys].push(...colBuilder.buildForeignKeys(column, rawTable));\n        return [\n            name,\n            column\n        ];\n    }));\n    const table = Object.assign(rawTable, builtColumns);\n    table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns] = builtColumns;\n    if (extraConfig) {\n        table[SQLiteTable.Symbol.ExtraConfigBuilder] = extraConfig;\n    }\n    return table;\n}\nconst sqliteTable = (name, columns, extraConfig)=>{\n    return sqliteTableBase(name, columns, extraConfig);\n};\nfunction sqliteTableCreator(customizeTableName) {\n    return (name, columns, extraConfig)=>{\n        return sqliteTableBase(customizeTableName(name), columns, extraConfig, undefined, name);\n    };\n}\nclass SQLiteDelete {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteDelete\";\n    }\n    constructor(table, session, dialect){\n        this.run = (placeholderValues)=>{\n            return this.prepare(true).run(placeholderValues);\n        };\n        this.all = (placeholderValues)=>{\n            return this.prepare(true).all(placeholderValues);\n        };\n        this.get = (placeholderValues)=>{\n            return this.prepare(true).get(placeholderValues);\n        };\n        this.values = (placeholderValues)=>{\n            return this.prepare(true).values(placeholderValues);\n        };\n        this.table = table;\n        this.session = session;\n        this.dialect = dialect;\n        this.config = {\n            table\n        };\n    }\n    where(where) {\n        this.config.where = where;\n        return this;\n    }\n    returning(fields = this.table[SQLiteTable.Symbol.Columns]) {\n        this.config.returning = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(fields);\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildDeleteQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    prepare(isOneTimeQuery) {\n        return this.session[isOneTimeQuery ? \"prepareOneTimeQuery\" : \"prepareQuery\"](this.dialect.sqlToQuery(this.getSQL()), this.config.returning);\n    }\n}\nclass SQLiteInsertBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteInsertBuilder\";\n    }\n    constructor(table, session, dialect){\n        this.table = table;\n        this.session = session;\n        this.dialect = dialect;\n    }\n    values(values) {\n        values = Array.isArray(values) ? values : [\n            values\n        ];\n        if (values.length === 0) {\n            throw new Error(\"values() must be called with at least one value\");\n        }\n        const mappedValues = values.map((entry)=>{\n            const result = {};\n            const cols = this.table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns];\n            for (const colKey of Object.keys(entry)){\n                const colValue = entry[colKey];\n                result[colKey] = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(colValue, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S) ? colValue : new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.b(colValue, cols[colKey]);\n            }\n            return result;\n        });\n        return new SQLiteInsert(this.table, mappedValues, this.session, this.dialect);\n    }\n}\nclass SQLiteInsert {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteInsert\";\n    }\n    constructor(table, values, session, dialect){\n        this.run = (placeholderValues)=>{\n            return this.prepare(true).run(placeholderValues);\n        };\n        this.all = (placeholderValues)=>{\n            return this.prepare(true).all(placeholderValues);\n        };\n        this.get = (placeholderValues)=>{\n            return this.prepare(true).get(placeholderValues);\n        };\n        this.values = (placeholderValues)=>{\n            return this.prepare(true).values(placeholderValues);\n        };\n        this.session = session;\n        this.dialect = dialect;\n        this.config = {\n            table,\n            values\n        };\n    }\n    returning(fields = this.config.table[SQLiteTable.Symbol.Columns]) {\n        this.config.returning = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(fields);\n        return this;\n    }\n    onConflictDoNothing(config = {}) {\n        if (config.target === undefined) {\n            this.config.onConflict = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`do nothing`;\n        } else {\n            const targetSql = Array.isArray(config.target) ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${config.target}` : _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${[\n                config.target\n            ]}`;\n            const whereSql = config.where ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` where ${config.where}` : _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s``;\n            this.config.onConflict = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${targetSql}${whereSql} do nothing`;\n        }\n        return this;\n    }\n    onConflictDoUpdate(config) {\n        const targetSql = Array.isArray(config.target) ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${config.target}` : _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${[\n            config.target\n        ]}`;\n        const whereSql = config.where ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` where ${config.where}` : _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s``;\n        const setSql = this.dialect.buildUpdateSet(this.config.table, (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(this.config.table, config.set));\n        this.config.onConflict = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${targetSql}${whereSql} do update set ${setSql}`;\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildInsertQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    prepare(isOneTimeQuery) {\n        return this.session[isOneTimeQuery ? \"prepareOneTimeQuery\" : \"prepareQuery\"](this.dialect.sqlToQuery(this.getSQL()), this.config.returning);\n    }\n}\nclass ViewBuilderCore {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteViewBuilderCore\";\n    }\n    constructor(name){\n        this.config = {};\n        this.name = name;\n    }\n}\nclass ViewBuilder extends ViewBuilderCore {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteViewBuilder\";\n    }\n    as(qb) {\n        if (typeof qb === \"function\") {\n            qb = qb(new QueryBuilder());\n        }\n        const selectionProxy = new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        });\n        // const aliasedSelectedFields = new Proxy(qb.getSelectedFields(), selectionProxy);\n        const aliasedSelectedFields = qb.getSelectedFields();\n        return new Proxy(new SQLiteView({\n            sqliteConfig: this.config,\n            config: {\n                name: this.name,\n                schema: undefined,\n                selectedFields: aliasedSelectedFields,\n                query: qb.getSQL().inlineParams()\n            }\n        }), selectionProxy);\n    }\n}\nclass ManualViewBuilder extends ViewBuilderCore {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteManualViewBuilder\";\n    }\n    constructor(name, columns){\n        super(name);\n        this.columns = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.l)(sqliteTable(name, columns));\n    }\n    existing() {\n        return new Proxy(new SQLiteView({\n            sqliteConfig: undefined,\n            config: {\n                name: this.name,\n                schema: undefined,\n                selectedFields: this.columns,\n                query: undefined\n            }\n        }), new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n    as(query) {\n        return new Proxy(new SQLiteView({\n            sqliteConfig: this.config,\n            config: {\n                name: this.name,\n                schema: undefined,\n                selectedFields: this.columns,\n                query: query.inlineParams()\n            }\n        }), new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n}\nclass SQLiteViewBase extends _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.V {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteViewBase\";\n    }\n}\nconst SQLiteViewConfig = Symbol.for(\"drizzle:SQLiteViewConfig\");\nclass SQLiteView extends SQLiteViewBase {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteView\";\n    }\n    constructor({ sqliteConfig, config }){\n        super(config);\n        this[SQLiteViewConfig] = sqliteConfig;\n    }\n}\nfunction sqliteView(name, selection) {\n    if (selection) {\n        return new ManualViewBuilder(name, selection);\n    }\n    return new ViewBuilder(name);\n}\nconst view = sqliteView;\nclass SQLiteDialect {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteDialect\";\n    }\n    escapeName(name) {\n        return `\"${name}\"`;\n    }\n    escapeParam(_num) {\n        return \"?\";\n    }\n    escapeString(str) {\n        return `'${str.replace(/'/g, \"''\")}'`;\n    }\n    buildDeleteQuery({ table, where, returning }) {\n        const returningSql = returning ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const whereSql = where ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` where ${where}` : undefined;\n        return _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`delete from ${table}${whereSql}${returningSql}`;\n    }\n    buildUpdateSet(table, set) {\n        const setEntries = Object.entries(set);\n        const setSize = setEntries.length;\n        return _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.fromList(setEntries.flatMap(([colName, value], i)=>{\n            const col = table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns][colName];\n            const res = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(col.name)} = ${value}`;\n            if (i < setSize - 1) {\n                return [\n                    res,\n                    _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(\", \")\n                ];\n            }\n            return [\n                res\n            ];\n        }));\n    }\n    buildUpdateQuery({ table, set, where, returning }) {\n        const setSql = this.buildUpdateSet(table, set);\n        const returningSql = returning ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const whereSql = where ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` where ${where}` : undefined;\n        return _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`update ${table} set ${setSql}${whereSql}${returningSql}`;\n    }\n    /**\n     * Builds selection SQL with provided fields/expressions\n     *\n     * Examples:\n     *\n     * `select <selection> from`\n     *\n     * `insert ... returning <selection>`\n     *\n     * If `isSingleTable` is true, then columns won't be prefixed with table name\n     */ buildSelection(fields, { isSingleTable = false } = {}) {\n        const columnsLen = fields.length;\n        const chunks = fields.flatMap(({ field }, i)=>{\n            const chunk = [];\n            if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) && field.isSelectionField) {\n                chunk.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(field.fieldAlias));\n            } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) || (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S)) {\n                const query = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) ? field.sql : field;\n                if (isSingleTable) {\n                    chunk.push(new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S(query.queryChunks.map((c)=>{\n                        if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(c, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.C)) {\n                            return (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(c.name);\n                        }\n                        return c;\n                    })));\n                } else {\n                    chunk.push(query);\n                }\n                if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased)) {\n                    chunk.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` as ${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(field.fieldAlias)}`);\n                }\n            } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.C)) {\n                const tableName = field.table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name];\n                const columnName = field.name;\n                if (isSingleTable) {\n                    chunk.push((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(columnName));\n                } else {\n                    chunk.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(tableName)}.${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(columnName)}`);\n                }\n            }\n            if (i < columnsLen - 1) {\n                chunk.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `);\n            }\n            return chunk;\n        });\n        return _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.fromList(chunks);\n    }\n    buildSelectQuery({ withList, fields, fieldsFlat, where, having, table, joins, orderBy, groupBy, limit, offset, distinct }) {\n        const fieldsList = fieldsFlat ?? (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(fields);\n        for (const f of fieldsList){\n            if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(f.field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.C) && (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(f.field.table) !== ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.q) ? table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.r].alias : (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, SQLiteViewBase) ? table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.u].name : (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S) ? undefined : (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(table)) && !((table)=>joins.some(({ alias })=>alias === (table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.IsAlias] ? (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(table) : table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.BaseName])))(f.field.table)) {\n                const tableName = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(f.field.table);\n                throw new Error(`Your \"${f.path.join(\"->\")}\" field references a column \"${tableName}\".\"${f.field.name}\", but the table \"${tableName}\" is not part of the query! Did you forget to join it?`);\n            }\n        }\n        const isSingleTable = joins.length === 0;\n        let withSql;\n        if (withList?.length) {\n            const withSqlChunks = [\n                _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`with `\n            ];\n            for (const [i, w] of withList.entries()){\n                withSqlChunks.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(w[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.r].alias)} as (${w[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.r].sql})`);\n                if (i < withList.length - 1) {\n                    withSqlChunks.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `);\n                }\n            }\n            withSqlChunks.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` `);\n            withSql = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.fromList(withSqlChunks);\n        }\n        const distinctSql = distinct ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` distinct` : undefined;\n        const selection = this.buildSelection(fieldsList, {\n            isSingleTable\n        });\n        const tableSql = (()=>{\n            if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T) && table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.OriginalName] !== table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name]) {\n                return _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.OriginalName])} ${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name])}`;\n            }\n            return table;\n        })();\n        const joinsArray = [];\n        for (const [index, joinMeta] of joins.entries()){\n            if (index === 0) {\n                joinsArray.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` `);\n            }\n            const table = joinMeta.table;\n            if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, SQLiteTable)) {\n                const tableName = table[SQLiteTable.Symbol.Name];\n                const tableSchema = table[SQLiteTable.Symbol.Schema];\n                const origTableName = table[SQLiteTable.Symbol.OriginalName];\n                const alias = tableName === origTableName ? undefined : joinMeta.alias;\n                joinsArray.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(joinMeta.joinType)} join ${tableSchema ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(tableSchema)}.` : undefined}${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(origTableName)}${alias && _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` ${(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(alias)}`} on ${joinMeta.on}`);\n            } else {\n                joinsArray.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(joinMeta.joinType)} join ${table} on ${joinMeta.on}`);\n            }\n            if (index < joins.length - 1) {\n                joinsArray.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` `);\n            }\n        }\n        const joinsSql = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.fromList(joinsArray);\n        const whereSql = where ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` where ${where}` : undefined;\n        const havingSql = having ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` having ${having}` : undefined;\n        const orderByList = [];\n        for (const [index, orderByValue] of orderBy.entries()){\n            orderByList.push(orderByValue);\n            if (index < orderBy.length - 1) {\n                orderByList.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `);\n            }\n        }\n        const groupByList = [];\n        for (const [index, groupByValue] of groupBy.entries()){\n            groupByList.push(groupByValue);\n            if (index < groupBy.length - 1) {\n                groupByList.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `);\n            }\n        }\n        const groupBySql = groupByList.length > 0 ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` group by ${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.fromList(groupByList)}` : undefined;\n        const orderBySql = orderByList.length > 0 ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` order by ${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.fromList(orderByList)}` : undefined;\n        const limitSql = limit ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` limit ${limit}` : undefined;\n        const offsetSql = offset ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` offset ${offset}` : undefined;\n        return _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${withSql}select${distinctSql} ${selection} from ${tableSql}${joinsSql}${whereSql}${groupBySql}${havingSql}${orderBySql}${limitSql}${offsetSql}`;\n    }\n    buildInsertQuery({ table, values, onConflict, returning }) {\n        const isSingleValue = values.length === 1;\n        const valuesSqlList = [];\n        const columns = table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns];\n        const colEntries = isSingleValue ? Object.keys(values[0]).map((fieldName)=>[\n                fieldName,\n                columns[fieldName]\n            ]) : Object.entries(columns);\n        const insertOrder = colEntries.map(([, column])=>(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(column.name));\n        for (const [valueIndex, value] of values.entries()){\n            const valueList = [];\n            for (const [fieldName, col] of colEntries){\n                const colValue = value[fieldName];\n                if (colValue === undefined || (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(colValue, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.b) && colValue.value === undefined) {\n                    let defaultValue;\n                    if (col.default !== null && col.default !== undefined) {\n                        defaultValue = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(col.default, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S) ? col.default : (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(col.default, col);\n                    } else {\n                        defaultValue = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`null`;\n                    }\n                    valueList.push(defaultValue);\n                } else {\n                    valueList.push(colValue);\n                }\n            }\n            valuesSqlList.push(valueList);\n            if (valueIndex < values.length - 1) {\n                valuesSqlList.push(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `);\n            }\n        }\n        const valuesSql = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.fromList(valuesSqlList);\n        const returningSql = returning ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const onConflictSql = onConflict ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` on conflict ${onConflict}` : undefined;\n        return _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`insert into ${table} ${insertOrder} values ${valuesSql}${onConflictSql}${returningSql}`;\n    }\n    sqlToQuery(sql) {\n        return sql.toQuery({\n            escapeName: this.escapeName,\n            escapeParam: this.escapeParam,\n            escapeString: this.escapeString\n        });\n    }\n    buildRelationalQuery(fullSchema, schema, tableNamesMap, table, tableConfig, config, tableAlias, relationColumns, isRoot = false) {\n        if (config === true) {\n            const selectionEntries = Object.entries(tableConfig.columns);\n            const selection = selectionEntries.map(([key, value])=>({\n                    dbKey: value.name,\n                    tsKey: key,\n                    field: value,\n                    tableTsKey: undefined,\n                    isJson: false,\n                    selection: []\n                }));\n            return {\n                tableTsKey: tableConfig.tsName,\n                sql: table,\n                selection\n            };\n        }\n        const aliasedColumns = Object.fromEntries(Object.entries(tableConfig.columns).map(([key, value])=>[\n                key,\n                (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(value, tableAlias)\n            ]));\n        const aliasedRelations = Object.fromEntries(Object.entries(tableConfig.relations).map(([key, value])=>[\n                key,\n                (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(value, tableAlias)\n            ]));\n        const aliasedFields = Object.assign({}, aliasedColumns, aliasedRelations);\n        const fieldsSelection = {};\n        let selectedColumns = [];\n        let selectedExtras = [];\n        let selectedRelations = [];\n        if (config.columns) {\n            let isIncludeMode = false;\n            for (const [field, value] of Object.entries(config.columns)){\n                if (value === undefined) {\n                    continue;\n                }\n                if (field in tableConfig.columns) {\n                    if (!isIncludeMode && value === true) {\n                        isIncludeMode = true;\n                    }\n                    selectedColumns.push(field);\n                }\n            }\n            if (selectedColumns.length > 0) {\n                selectedColumns = isIncludeMode ? selectedColumns.filter((c)=>config.columns?.[c] === true) : Object.keys(tableConfig.columns).filter((key)=>!selectedColumns.includes(key));\n            }\n        }\n        if (config.with) {\n            selectedRelations = Object.entries(config.with).filter((entry)=>!!entry[1]).map(([key, value])=>({\n                    key,\n                    value\n                }));\n        }\n        if (!config.columns) {\n            selectedColumns = Object.keys(tableConfig.columns);\n        }\n        if (config.extras) {\n            const extrasOrig = typeof config.extras === \"function\" ? config.extras(aliasedFields, {\n                sql: _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s\n            }) : config.extras;\n            selectedExtras = Object.entries(extrasOrig).map(([key, value])=>({\n                    key,\n                    value: (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.y)(value, tableAlias)\n                }));\n        }\n        for (const field of selectedColumns){\n            const column = tableConfig.columns[field];\n            fieldsSelection[field] = column;\n        }\n        for (const { key, value } of selectedExtras){\n            fieldsSelection[key] = value;\n        }\n        let where;\n        if (config.where) {\n            const whereSql = typeof config.where === \"function\" ? config.where(aliasedFields, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.z) : config.where;\n            where = whereSql && (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.A)(whereSql, tableAlias);\n        }\n        const groupBy = (tableConfig.primaryKey.length ? tableConfig.primaryKey : Object.values(tableConfig.columns)).map((c)=>(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(c, tableAlias));\n        let orderByOrig = typeof config.orderBy === \"function\" ? config.orderBy(aliasedFields, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.B) : config.orderBy ?? [];\n        if (!Array.isArray(orderByOrig)) {\n            orderByOrig = [\n                orderByOrig\n            ];\n        }\n        const orderBy = orderByOrig.map((orderByValue)=>{\n            if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(orderByValue, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.C)) {\n                return (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(orderByValue, tableAlias);\n            }\n            return (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.A)(orderByValue, tableAlias);\n        });\n        const builtRelations = [];\n        const builtRelationFields = [];\n        let result;\n        let selectedRelationIndex = 0;\n        for (const { key: selectedRelationKey, value: selectedRelationValue } of selectedRelations){\n            let relation;\n            for (const [relationKey, relationValue] of Object.entries(tableConfig.relations)){\n                if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(relationValue, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.R) && relationKey === selectedRelationKey) {\n                    relation = relationValue;\n                    break;\n                }\n            }\n            if (!relation) {\n                throw new Error(`Relation ${selectedRelationKey} not found`);\n            }\n            const normalizedRelation = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.D)(schema, tableNamesMap, relation);\n            const relationAlias = `${tableAlias}_${selectedRelationKey}`;\n            const builtRelation = this.buildRelationalQuery(fullSchema, schema, tableNamesMap, fullSchema[tableNamesMap[relation.referencedTable[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name]]], schema[tableNamesMap[relation.referencedTable[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name]]], selectedRelationValue, relationAlias, normalizedRelation.references);\n            builtRelations.push({\n                key: selectedRelationKey,\n                value: builtRelation\n            });\n            let relationWhere;\n            if (typeof selectedRelationValue === \"object\" && selectedRelationValue.limit) {\n                const field = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(relationAlias)}.${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(\"__drizzle_row_number\")}`;\n                relationWhere = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(relationWhere, (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.F)((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${field} <= ${selectedRelationValue.limit}`), _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`(${field} is null)`));\n            }\n            const join = {\n                table: (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(builtRelation.sql, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T) ? (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(builtRelation.sql, relationAlias) : new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.q(builtRelation.sql, {}, relationAlias),\n                alias: relationAlias,\n                on: (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(...normalizedRelation.fields.map((field, i)=>(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.H)((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(field, tableAlias), (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(normalizedRelation.references[i], relationAlias)))),\n                joinType: \"left\"\n            };\n            const elseField = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`json_group_array(json_array(${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(builtRelation.selection.map(({ dbKey: key, isJson })=>{\n                const field = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(relationAlias)}.${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(key)}`;\n                return isJson ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`json(${field})` : field;\n            }), _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)}))`;\n            const countSql = normalizedRelation.references.length === 1 ? (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(normalizedRelation.references[0], relationAlias) : _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.fromList([\n                _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`coalesce(`,\n                _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(normalizedRelation.references.map((c)=>(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(c, relationAlias)), _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(\", \")),\n                _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(\")\")\n            ]);\n            const field = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`case when count(${countSql}) = 0 then '[]' else ${elseField} end`.as(selectedRelationKey);\n            const builtRelationField = {\n                path: [\n                    selectedRelationKey\n                ],\n                field\n            };\n            result = this.buildSelectQuery({\n                table: result ? new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.q(result, {}, tableAlias) : (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(table, tableAlias),\n                fields: {},\n                fieldsFlat: [\n                    {\n                        path: [],\n                        field: _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(tableAlias)}.*`\n                    },\n                    ...selectedRelationIndex === selectedRelations.length - 1 ? selectedExtras.map(({ key, value })=>({\n                            path: [\n                                key\n                            ],\n                            field: value\n                        })) : [],\n                    builtRelationField\n                ],\n                where: relationWhere,\n                groupBy,\n                orderBy: selectedRelationIndex === selectedRelations.length - 1 ? orderBy : [],\n                joins: [\n                    join\n                ]\n            });\n            builtRelationFields.push(builtRelationField);\n            selectedRelationIndex++;\n        }\n        const finalFieldsSelection = Object.entries(fieldsSelection).map(([key, value])=>{\n            return {\n                path: [\n                    key\n                ],\n                field: (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.C) ? (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(value, tableAlias) : value\n            };\n        });\n        const finalFieldsFlat = isRoot ? [\n            ...finalFieldsSelection.map(({ path, field })=>({\n                    path,\n                    field: (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(field.fieldAlias)}` : field\n                })),\n            ...builtRelationFields.map(({ path, field })=>({\n                    path,\n                    field: _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`json(${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(field.fieldAlias)})`\n                }))\n        ] : [\n            ...Object.entries(tableConfig.columns).map(([tsKey, column])=>({\n                    path: [\n                        tsKey\n                    ],\n                    field: (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(column, tableAlias)\n                })),\n            ...selectedExtras.map(({ key, value })=>({\n                    path: [\n                        key\n                    ],\n                    field: value\n                })),\n            ...builtRelationFields.map(({ path, field })=>({\n                    path,\n                    field: _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(tableAlias)}.${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(field.fieldAlias)}`\n                }))\n        ];\n        if (finalFieldsFlat.length === 0) {\n            finalFieldsFlat.push({\n                path: [],\n                field: _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(\"1\")\n            });\n        }\n        if (!isRoot && !config.limit && orderBy.length > 0) {\n            finalFieldsFlat.push({\n                path: [\n                    \"__drizzle_row_number\"\n                ],\n                field: _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`row_number() over(order by ${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(orderBy, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)})`\n            });\n        }\n        let limit, offset;\n        if (config.limit !== undefined || config.offset !== undefined) {\n            if (isRoot) {\n                limit = config.limit;\n                offset = config.offset;\n            } else {\n                finalFieldsFlat.push({\n                    path: [\n                        \"__drizzle_row_number\"\n                    ],\n                    field: _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`row_number() over(partition by ${relationColumns.map((c)=>(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(c, tableAlias))}${orderBy.length > 0 && !isRoot ? _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s` order by ${_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(orderBy, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)}` : undefined})`.as(\"__drizzle_row_number\")\n                });\n            }\n        }\n        result = this.buildSelectQuery({\n            table: result ? new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.q(result, {}, tableAlias) : (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(table, tableAlias),\n            fields: {},\n            fieldsFlat: finalFieldsFlat,\n            where,\n            groupBy: [],\n            orderBy: isRoot ? orderBy : [],\n            joins: [],\n            limit,\n            offset: offset\n        });\n        return {\n            tableTsKey: tableConfig.tsName,\n            sql: result,\n            selection: [\n                ...finalFieldsSelection.map(({ path, field })=>({\n                        dbKey: (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) ? field.fieldAlias : tableConfig.columns[path[0]].name,\n                        tsKey: path[0],\n                        field,\n                        tableTsKey: undefined,\n                        isJson: false,\n                        selection: []\n                    })),\n                ...builtRelations.map(({ key, value })=>({\n                        dbKey: key,\n                        tsKey: key,\n                        field: undefined,\n                        tableTsKey: value.tableTsKey,\n                        isJson: true,\n                        selection: value.selection\n                    }))\n            ]\n        };\n    }\n}\nclass SQLiteSyncDialect extends SQLiteDialect {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteSyncDialect\";\n    }\n    migrate(migrations, session) {\n        const migrationTableCreate = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`\n\t\t\tCREATE TABLE IF NOT EXISTS \"__drizzle_migrations\" (\n\t\t\t\tid SERIAL PRIMARY KEY,\n\t\t\t\thash text NOT NULL,\n\t\t\t\tcreated_at numeric\n\t\t\t)\n\t\t`;\n        session.run(migrationTableCreate);\n        const dbMigrations = session.values(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`SELECT id, hash, created_at FROM \"__drizzle_migrations\" ORDER BY created_at DESC LIMIT 1`);\n        const lastDbMigration = dbMigrations[0] ?? undefined;\n        session.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`BEGIN`);\n        try {\n            for (const migration of migrations){\n                if (!lastDbMigration || Number(lastDbMigration[2]) < migration.folderMillis) {\n                    for (const stmt of migration.sql){\n                        session.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(stmt));\n                    }\n                    session.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`INSERT INTO \"__drizzle_migrations\" (\"hash\", \"created_at\") VALUES(${migration.hash}, ${migration.folderMillis})`);\n                }\n            }\n            session.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`COMMIT`);\n        } catch (e) {\n            session.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`ROLLBACK`);\n            throw e;\n        }\n    }\n}\nclass SQLiteAsyncDialect extends SQLiteDialect {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteAsyncDialect\";\n    }\n    async migrate(migrations, session) {\n        const migrationTableCreate = _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`\n\t\t\tCREATE TABLE IF NOT EXISTS \"__drizzle_migrations\" (\n\t\t\t\tid SERIAL PRIMARY KEY,\n\t\t\t\thash text NOT NULL,\n\t\t\t\tcreated_at numeric\n\t\t\t)\n\t\t`;\n        await session.run(migrationTableCreate);\n        const dbMigrations = await session.values(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`SELECT id, hash, created_at FROM \"__drizzle_migrations\" ORDER BY created_at DESC LIMIT 1`);\n        const lastDbMigration = dbMigrations[0] ?? undefined;\n        await session.transaction(async (tx)=>{\n            for (const migration of migrations){\n                if (!lastDbMigration || Number(lastDbMigration[2]) < migration.folderMillis) {\n                    for (const stmt of migration.sql){\n                        await tx.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(stmt));\n                    }\n                    await tx.run(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.s`INSERT INTO \"__drizzle_migrations\" (\"hash\", \"created_at\") VALUES(${migration.hash}, ${migration.folderMillis})`);\n                }\n            }\n        });\n    }\n}\nclass SQLiteSelectBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteSelectBuilder\";\n    }\n    constructor(config){\n        this.fields = config.fields;\n        this.session = config.session;\n        this.dialect = config.dialect;\n        this.withList = config.withList;\n        this.distinct = config.distinct;\n    }\n    from(source) {\n        const isPartialSelect = !!this.fields;\n        let fields;\n        if (this.fields) {\n            fields = this.fields;\n        } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(source, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.q)) {\n            // This is required to use the proxy handler to get the correct field values from the subquery\n            fields = Object.fromEntries(Object.keys(source[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.r].selection).map((key)=>[\n                    key,\n                    source[key]\n                ]));\n        } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(source, SQLiteViewBase)) {\n            fields = source[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.u].selectedFields;\n        } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(source, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S)) {\n            fields = {};\n        } else {\n            fields = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.l)(source);\n        }\n        return new SQLiteSelect({\n            table: source,\n            fields,\n            isPartialSelect,\n            session: this.session,\n            dialect: this.dialect,\n            withList: this.withList,\n            distinct: this.distinct\n        });\n    }\n}\nclass SQLiteSelectQueryBuilder extends _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.I {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteSelectQueryBuilder\";\n    }\n    constructor({ table, fields, isPartialSelect, session, dialect, withList, distinct }){\n        super();\n        this.leftJoin = this.createJoin(\"left\");\n        this.rightJoin = this.createJoin(\"right\");\n        this.innerJoin = this.createJoin(\"inner\");\n        this.fullJoin = this.createJoin(\"full\");\n        this.config = {\n            withList,\n            table,\n            fields: {\n                ...fields\n            },\n            joins: [],\n            orderBy: [],\n            groupBy: [],\n            distinct\n        };\n        this.isPartialSelect = isPartialSelect;\n        this.session = session;\n        this.dialect = dialect;\n        this._ = {\n            selectedFields: fields\n        };\n        this.tableName = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(table);\n        this.joinsNotNullableMap = typeof this.tableName === \"string\" ? {\n            [this.tableName]: true\n        } : {};\n    }\n    createJoin(joinType) {\n        return (table, on)=>{\n            const baseTableName = this.tableName;\n            const tableName = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(table);\n            if (typeof tableName === \"string\" && this.config.joins.some((join)=>join.alias === tableName)) {\n                throw new Error(`Alias \"${tableName}\" is already used in this query`);\n            }\n            if (!this.isPartialSelect) {\n                // If this is the first join and this is not a partial select and we're not selecting from raw SQL, \"move\" the fields from the main table to the nested object\n                if (Object.keys(this.joinsNotNullableMap).length === 1 && typeof baseTableName === \"string\") {\n                    this.config.fields = {\n                        [baseTableName]: this.config.fields\n                    };\n                }\n                if (typeof tableName === \"string\" && !(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.S)) {\n                    const selection = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.q) ? table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.r].selection : (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.V) ? table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.u].selectedFields : table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns];\n                    this.config.fields[tableName] = selection;\n                }\n            }\n            if (typeof on === \"function\") {\n                on = on(new Proxy(this.config.fields, new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                    sqlAliasedBehavior: \"sql\",\n                    sqlBehavior: \"sql\"\n                })));\n            }\n            this.config.joins.push({\n                on,\n                table,\n                joinType,\n                alias: tableName\n            });\n            if (typeof tableName === \"string\") {\n                switch(joinType){\n                    case \"left\":\n                        {\n                            this.joinsNotNullableMap[tableName] = false;\n                            break;\n                        }\n                    case \"right\":\n                        {\n                            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key])=>[\n                                    key,\n                                    false\n                                ]));\n                            this.joinsNotNullableMap[tableName] = true;\n                            break;\n                        }\n                    case \"inner\":\n                        {\n                            this.joinsNotNullableMap[tableName] = true;\n                            break;\n                        }\n                    case \"full\":\n                        {\n                            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key])=>[\n                                    key,\n                                    false\n                                ]));\n                            this.joinsNotNullableMap[tableName] = false;\n                            break;\n                        }\n                }\n            }\n            return this;\n        };\n    }\n    where(where) {\n        if (typeof where === \"function\") {\n            where = where(new Proxy(this.config.fields, new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                sqlAliasedBehavior: \"sql\",\n                sqlBehavior: \"sql\"\n            })));\n        }\n        this.config.where = where;\n        return this;\n    }\n    having(having) {\n        if (typeof having === \"function\") {\n            having = having(new Proxy(this.config.fields, new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                sqlAliasedBehavior: \"sql\",\n                sqlBehavior: \"sql\"\n            })));\n        }\n        this.config.having = having;\n        return this;\n    }\n    groupBy(...columns) {\n        if (typeof columns[0] === \"function\") {\n            const groupBy = columns[0](new Proxy(this.config.fields, new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                sqlAliasedBehavior: \"alias\",\n                sqlBehavior: \"sql\"\n            })));\n            this.config.groupBy = Array.isArray(groupBy) ? groupBy : [\n                groupBy\n            ];\n        } else {\n            this.config.groupBy = columns;\n        }\n        return this;\n    }\n    orderBy(...columns) {\n        if (typeof columns[0] === \"function\") {\n            const orderBy = columns[0](new Proxy(this.config.fields, new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                sqlAliasedBehavior: \"alias\",\n                sqlBehavior: \"sql\"\n            })));\n            this.config.orderBy = Array.isArray(orderBy) ? orderBy : [\n                orderBy\n            ];\n        } else {\n            this.config.orderBy = columns;\n        }\n        return this;\n    }\n    limit(limit) {\n        this.config.limit = limit;\n        return this;\n    }\n    offset(offset) {\n        this.config.offset = offset;\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildSelectQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    as(alias) {\n        return new Proxy(new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.q(this.getSQL(), this.config.fields, alias), new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias,\n            sqlAliasedBehavior: \"alias\",\n            sqlBehavior: \"error\"\n        }));\n    }\n    getSelectedFields() {\n        return new Proxy(this.config.fields, new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias: this.tableName,\n            sqlAliasedBehavior: \"alias\",\n            sqlBehavior: \"error\"\n        }));\n    }\n}\nclass SQLiteSelect extends SQLiteSelectQueryBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteSelect\";\n    }\n    prepare(isOneTimeQuery) {\n        if (!this.session) {\n            throw new Error(\"Cannot execute a query on a query builder. Please use a database instance instead.\");\n        }\n        const fieldsList = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(this.config.fields);\n        const query = this.session[isOneTimeQuery ? \"prepareOneTimeQuery\" : \"prepareQuery\"](this.dialect.sqlToQuery(this.getSQL()), fieldsList);\n        query.joinsNotNullableMap = this.joinsNotNullableMap;\n        return query;\n    }\n    constructor(...args){\n        super(...args);\n        this.run = (placeholderValues)=>{\n            return this.prepare(true).run(placeholderValues);\n        };\n        this.all = (placeholderValues)=>{\n            return this.prepare(true).all(placeholderValues);\n        };\n        this.get = (placeholderValues)=>{\n            return this.prepare(true).get(placeholderValues);\n        };\n        this.values = (placeholderValues)=>{\n            return this.prepare(true).values(placeholderValues);\n        };\n    }\n}\nclass QueryBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteQueryBuilder\";\n    }\n    $with(alias) {\n        const queryBuilder = this;\n        return {\n            as (qb) {\n                if (typeof qb === \"function\") {\n                    qb = qb(queryBuilder);\n                }\n                return new Proxy(new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.W(qb.getSQL(), qb.getSelectedFields(), alias, true), new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                    alias,\n                    sqlAliasedBehavior: \"alias\",\n                    sqlBehavior: \"error\"\n                }));\n            }\n        };\n    }\n    with(...queries) {\n        const self = this;\n        function select(fields) {\n            return new SQLiteSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                withList: queries\n            });\n        }\n        function selectDistinct(fields) {\n            return new SQLiteSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                withList: queries,\n                distinct: true\n            });\n        }\n        return {\n            select,\n            selectDistinct\n        };\n    }\n    select(fields) {\n        return new SQLiteSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect()\n        });\n    }\n    selectDistinct(fields) {\n        return new SQLiteSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect(),\n            distinct: true\n        });\n    }\n    // Lazy load dialect to avoid circular dependency\n    getDialect() {\n        if (!this.dialect) {\n            this.dialect = new SQLiteSyncDialect();\n        }\n        return this.dialect;\n    }\n}\nclass SQLiteUpdateBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteUpdateBuilder\";\n    }\n    constructor(table, session, dialect){\n        this.table = table;\n        this.session = session;\n        this.dialect = dialect;\n    }\n    set(values) {\n        return new SQLiteUpdate(this.table, (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(this.table, values), this.session, this.dialect);\n    }\n}\nclass SQLiteUpdate {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteUpdate\";\n    }\n    constructor(table, set, session, dialect){\n        this.run = (placeholderValues)=>{\n            return this.prepare(true).run(placeholderValues);\n        };\n        this.all = (placeholderValues)=>{\n            return this.prepare(true).all(placeholderValues);\n        };\n        this.get = (placeholderValues)=>{\n            return this.prepare(true).get(placeholderValues);\n        };\n        this.values = (placeholderValues)=>{\n            return this.prepare(true).values(placeholderValues);\n        };\n        this.session = session;\n        this.dialect = dialect;\n        this.config = {\n            set,\n            table\n        };\n    }\n    where(where) {\n        this.config.where = where;\n        return this;\n    }\n    returning(fields = this.config.table[SQLiteTable.Symbol.Columns]) {\n        this.config.returning = (0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(fields);\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildUpdateQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    prepare(isOneTimeQuery) {\n        return this.session[isOneTimeQuery ? \"prepareOneTimeQuery\" : \"prepareQuery\"](this.dialect.sqlToQuery(this.getSQL()), this.config.returning);\n    }\n}\nclass AsyncRelationalQueryBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteAsyncRelationalQueryBuilder\";\n    }\n    constructor(fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session){\n        this.fullSchema = fullSchema;\n        this.schema = schema;\n        this.tableNamesMap = tableNamesMap;\n        this.table = table;\n        this.tableConfig = tableConfig;\n        this.dialect = dialect;\n        this.session = session;\n    }\n    findMany(config) {\n        return new SQLiteRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.dialect, this.session, config ? config : {}, \"many\");\n    }\n    findFirst(config) {\n        return new SQLiteRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.dialect, this.session, config ? {\n            ...config,\n            limit: 1\n        } : {\n            limit: 1\n        }, \"first\");\n    }\n}\nclass SyncRelationalQueryBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteSyncRelationalQueryBuilder\";\n    }\n    constructor(fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session){\n        this.fullSchema = fullSchema;\n        this.schema = schema;\n        this.tableNamesMap = tableNamesMap;\n        this.table = table;\n        this.tableConfig = tableConfig;\n        this.dialect = dialect;\n        this.session = session;\n    }\n    prepareFindMany(config) {\n        const query = new SQLiteRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.dialect, this.session, config ? config : {}, \"many\").prepare();\n        return {\n            execute: query.all.bind(query)\n        };\n    }\n    findMany(config) {\n        return this.prepareFindMany(config).execute();\n    }\n    prepareFindFirst(config) {\n        const query = new SQLiteRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.dialect, this.session, config ? {\n            ...config,\n            limit: 1\n        } : {\n            limit: 1\n        }, \"first\").prepare();\n        return {\n            execute: query.get.bind(query)\n        };\n    }\n    findFirst(config) {\n        return this.prepareFindFirst(config).execute();\n    }\n}\nclass SQLiteRelationalQuery {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteRelationalQuery\";\n    }\n    constructor(fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session, config, mode){\n        this.fullSchema = fullSchema;\n        this.schema = schema;\n        this.tableNamesMap = tableNamesMap;\n        this.table = table;\n        this.tableConfig = tableConfig;\n        this.dialect = dialect;\n        this.session = session;\n        this.config = config;\n        this.mode = mode;\n    }\n    prepare() {\n        const query = this.dialect.buildRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.config, this.tableConfig.tsName, [], true);\n        const builtQuery = this.dialect.sqlToQuery(query.sql);\n        return this.session.prepareQuery(builtQuery, undefined, (rawRows, mapColumnValue)=>{\n            const rows = rawRows.map((row)=>(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(this.schema, this.tableConfig, row, query.selection, mapColumnValue));\n            if (this.mode === \"first\") {\n                return rows[0];\n            }\n            return rows;\n        });\n    }\n    execute() {\n        if (this.mode === \"first\") {\n            return this.prepare().get();\n        }\n        return this.prepare().all();\n    }\n}\n(0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(SQLiteRelationalQuery, [\n    _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.Q\n]);\nclass BaseSQLiteDatabase {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"BaseSQLiteDatabase\";\n    }\n    constructor(resultKind, /** @internal */ dialect, /** @internal */ session, schema){\n        this.dialect = dialect;\n        this.session = session;\n        this._ = schema ? {\n            schema: schema.schema,\n            tableNamesMap: schema.tableNamesMap\n        } : {\n            schema: undefined,\n            tableNamesMap: {}\n        };\n        this.query = {};\n        if (this._.schema) {\n            for (const [tableName, columns] of Object.entries(this._.schema)){\n                this.query[tableName] = new (resultKind === \"async\" ? AsyncRelationalQueryBuilder : SyncRelationalQueryBuilder)(schema.fullSchema, this._.schema, this._.tableNamesMap, schema.fullSchema[tableName], columns, dialect, session);\n            }\n        }\n    }\n    $with(alias) {\n        return {\n            as (qb) {\n                if (typeof qb === \"function\") {\n                    qb = qb(new QueryBuilder());\n                }\n                return new Proxy(new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.W(qb.getSQL(), qb.getSelectedFields(), alias, true), new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                    alias,\n                    sqlAliasedBehavior: \"alias\",\n                    sqlBehavior: \"error\"\n                }));\n            }\n        };\n    }\n    with(...queries) {\n        const self = this;\n        function select(fields) {\n            return new SQLiteSelectBuilder({\n                fields: fields ?? undefined,\n                session: self.session,\n                dialect: self.dialect,\n                withList: queries\n            });\n        }\n        function selectDistinct(fields) {\n            return new SQLiteSelectBuilder({\n                fields: fields ?? undefined,\n                session: self.session,\n                dialect: self.dialect,\n                withList: queries,\n                distinct: true\n            });\n        }\n        return {\n            select,\n            selectDistinct\n        };\n    }\n    select(fields) {\n        return new SQLiteSelectBuilder({\n            fields: fields ?? undefined,\n            session: this.session,\n            dialect: this.dialect\n        });\n    }\n    selectDistinct(fields) {\n        return new SQLiteSelectBuilder({\n            fields: fields ?? undefined,\n            session: this.session,\n            dialect: this.dialect,\n            distinct: true\n        });\n    }\n    update(table) {\n        return new SQLiteUpdateBuilder(table, this.session, this.dialect);\n    }\n    insert(into) {\n        return new SQLiteInsertBuilder(into, this.session, this.dialect);\n    }\n    delete(from) {\n        return new SQLiteDelete(from, this.session, this.dialect);\n    }\n    run(query) {\n        return this.session.run(query.getSQL());\n    }\n    all(query) {\n        return this.session.all(query.getSQL());\n    }\n    get(query) {\n        return this.session.get(query.getSQL());\n    }\n    values(query) {\n        return this.session.values(query.getSQL());\n    }\n    transaction(transaction, config) {\n        return this.session.transaction(transaction, config);\n    }\n}\nlet PreparedQuery$1 = class PreparedQuery {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"PreparedQuery\";\n    }\n};\nclass SQLiteSession {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteSession\";\n    }\n    constructor(/** @internal */ dialect){\n        this.dialect = dialect;\n    }\n    prepareOneTimeQuery(query, fields) {\n        return this.prepareQuery(query, fields);\n    }\n    run(query) {\n        const staticQuery = this.dialect.sqlToQuery(query);\n        try {\n            return this.prepareOneTimeQuery(staticQuery, undefined).run();\n        } catch (err) {\n            throw _errors_fed11085_mjs__WEBPACK_IMPORTED_MODULE_1__.D.wrap(err, `Failed to run the query '${staticQuery.sql}'`);\n        }\n    }\n    all(query) {\n        return this.prepareOneTimeQuery(this.dialect.sqlToQuery(query), undefined).all();\n    }\n    get(query) {\n        return this.prepareOneTimeQuery(this.dialect.sqlToQuery(query), undefined).get();\n    }\n    values(query) {\n        return this.prepareOneTimeQuery(this.dialect.sqlToQuery(query), undefined).values();\n    }\n}\nclass SQLiteTransaction extends BaseSQLiteDatabase {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"SQLiteTransaction\";\n    }\n    constructor(resultType, dialect, session, schema, nestedIndex = 0){\n        super(resultType, dialect, session, schema);\n        this.schema = schema;\n        this.nestedIndex = nestedIndex;\n    }\n    rollback() {\n        throw new _errors_fed11085_mjs__WEBPACK_IMPORTED_MODULE_1__.T();\n    }\n}\n //# sourceMappingURL=session-8302855c.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMjcuMl9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vc2Vzc2lvbi04MzAyODU1Yy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlyQjtBQUN4bEI7QUFFekYsY0FBYyxHQUNkLE1BQU0wRSxvQkFBb0JDLE9BQU9DLEdBQUcsQ0FBQzs7QUFDckMsTUFBTUMsb0JBQW9CNUUsa0RBQUtBOztlQU8xQkEsa0RBQUtBLENBQUMwRSxNQUFNLENBQUNHLE9BQU87Z0JBSXBCN0Usa0RBQUtBLENBQUMwRSxNQUFNLENBQUNJLGtCQUFrQjs7O1lBVnpCLENBQUM1RSxrREFBVUEsQ0FBQyxHQUFHOzs7UUFDdEIsY0FBYyxRQUNQd0UsU0FBU0ssT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR2hGLGtEQUFLQSxDQUFDMEUsTUFBTSxFQUFFO1lBQzVDRCxtQkFBbUJBO1FBQ3ZCOzs7O1FBR0EsY0FBYyxPQUNkLENBQUNBLGtCQUFrQixHQUFHLEVBQUU7UUFDeEIsY0FBYyxPQUNkLE9BQWlDLEdBQUdROztBQUN4QztBQUNBLFNBQVNDLGdCQUFnQjVELElBQUksRUFBRTZELE9BQU8sRUFBRUMsV0FBVyxFQUFFQyxNQUFNLEVBQUVDLFdBQVdoRSxJQUFJO0lBQ3hFLE1BQU1pRSxXQUFXLElBQUlYLFlBQVl0RCxNQUFNK0QsUUFBUUM7SUFDL0MsTUFBTUUsZUFBZVQsT0FBT1UsV0FBVyxDQUFDVixPQUFPVyxPQUFPLENBQUNQLFNBQVNRLEdBQUcsQ0FBQyxDQUFDLENBQUNyRSxNQUFNc0UsV0FBVztRQUNuRixNQUFNQyxTQUFTRCxXQUFXRSxLQUFLLENBQUNQO1FBQ2hDQSxRQUFRLENBQUNkLGtCQUFrQixDQUFDc0IsSUFBSSxJQUFJSCxXQUFXSSxnQkFBZ0IsQ0FBQ0gsUUFBUU47UUFDeEUsT0FBTztZQUFDakU7WUFBTXVF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QUN0QztBQUNKO0FBRW9tQixDQUNwbUIsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHRva2Vuc3RyZWFtL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4yNy4yX0BsaWJzcWwrY2xpZW50QDAuMy40L25vZGVfbW9kdWxlcy9kcml6emxlLW9ybS9zZXNzaW9uLTgzMDI4NTVjLm1qcz8zYjAyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFQgYXMgVGFibGUsIGUgYXMgZW50aXR5S2luZCwgbyBhcyBvcmRlclNlbGVjdGVkRmllbGRzLCBpIGFzIGlzLCBTIGFzIFNRTCwgYiBhcyBQYXJhbSwgcyBhcyBzcWwsIGQgYXMgbWFwVXBkYXRlU2V0LCBqIGFzIFNlbGVjdGlvblByb3h5SGFuZGxlciwgbCBhcyBnZXRUYWJsZUNvbHVtbnMsIFYgYXMgVmlldywgbiBhcyBuYW1lLCBDIGFzIENvbHVtbiwgcCBhcyBnZXRUYWJsZU5hbWUsIHEgYXMgU3VicXVlcnksIHIgYXMgU3VicXVlcnlDb25maWcsIHUgYXMgVmlld0Jhc2VDb25maWcsIHYgYXMgcGFyYW0sIHcgYXMgYWxpYXNlZFRhYmxlQ29sdW1uLCB4IGFzIGFsaWFzZWRSZWxhdGlvbiwgeSBhcyBtYXBDb2x1bW5zSW5BbGlhc2VkU1FMVG9BbGlhcywgeiBhcyBvcGVyYXRvcnMsIEEgYXMgbWFwQ29sdW1uc0luU1FMVG9BbGlhcywgQiBhcyBvcmRlckJ5T3BlcmF0b3JzLCBSIGFzIFJlbGF0aW9uLCBEIGFzIG5vcm1hbGl6ZVJlbGF0aW9uLCBFIGFzIGFuZCwgRiBhcyBvciwgRyBhcyBhbGlhc2VkVGFibGUsIEggYXMgZXEsIEkgYXMgVHlwZWRRdWVyeUJ1aWxkZXIsIEogYXMgZ2V0VGFibGVMaWtlTmFtZSwgVyBhcyBXaXRoU3VicXVlcnksIEsgYXMgYXBwbHlNaXhpbnMsIFEgYXMgUXVlcnlQcm9taXNlLCBnIGFzIG1hcFJlbGF0aW9uYWxSb3cgfSBmcm9tICcuL2FsaWFzLTNlOTI2YTUwLm1qcyc7XG5pbXBvcnQgeyBEIGFzIERyaXp6bGVFcnJvciwgVCBhcyBUcmFuc2FjdGlvblJvbGxiYWNrRXJyb3IgfSBmcm9tICcuL2Vycm9ycy1mZWQxMTA4NS5tanMnO1xuXG4vKiogQGludGVybmFsICovXG5jb25zdCBJbmxpbmVGb3JlaWduS2V5cyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6U1FMaXRlSW5saW5lRm9yZWlnbktleXMnKTtcbmNsYXNzIFNRTGl0ZVRhYmxlIGV4dGVuZHMgVGFibGUge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlVGFibGUnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzdGF0aWMgU3ltYm9sID0gT2JqZWN0LmFzc2lnbih7fSwgVGFibGUuU3ltYm9sLCB7XG4gICAgICAgIElubGluZUZvcmVpZ25LZXlzOiBJbmxpbmVGb3JlaWduS2V5cyxcbiAgICB9KTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgW1RhYmxlLlN5bWJvbC5Db2x1bW5zXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgW0lubGluZUZvcmVpZ25LZXlzXSA9IFtdO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBbVGFibGUuU3ltYm9sLkV4dHJhQ29uZmlnQnVpbGRlcl0gPSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBzcWxpdGVUYWJsZUJhc2UobmFtZSwgY29sdW1ucywgZXh0cmFDb25maWcsIHNjaGVtYSwgYmFzZU5hbWUgPSBuYW1lKSB7XG4gICAgY29uc3QgcmF3VGFibGUgPSBuZXcgU1FMaXRlVGFibGUobmFtZSwgc2NoZW1hLCBiYXNlTmFtZSk7XG4gICAgY29uc3QgYnVpbHRDb2x1bW5zID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGNvbHVtbnMpLm1hcCgoW25hbWUsIGNvbEJ1aWxkZXJdKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGNvbEJ1aWxkZXIuYnVpbGQocmF3VGFibGUpO1xuICAgICAgICByYXdUYWJsZVtJbmxpbmVGb3JlaWduS2V5c10ucHVzaCguLi5jb2xCdWlsZGVyLmJ1aWxkRm9yZWlnbktleXMoY29sdW1uLCByYXdUYWJsZSkpO1xuICAgICAgICByZXR1cm4gW25hbWUsIGNvbHVtbl07XG4gICAgfSkpO1xuICAgIGNvbnN0IHRhYmxlID0gT2JqZWN0LmFzc2lnbihyYXdUYWJsZSwgYnVpbHRDb2x1bW5zKTtcbiAgICB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc10gPSBidWlsdENvbHVtbnM7XG4gICAgaWYgKGV4dHJhQ29uZmlnKSB7XG4gICAgICAgIHRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0J1aWxkZXJdID0gZXh0cmFDb25maWc7XG4gICAgfVxuICAgIHJldHVybiB0YWJsZTtcbn1cbmNvbnN0IHNxbGl0ZVRhYmxlID0gKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnKSA9PiB7XG4gICAgcmV0dXJuIHNxbGl0ZVRhYmxlQmFzZShuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZyk7XG59O1xuZnVuY3Rpb24gc3FsaXRlVGFibGVDcmVhdG9yKGN1c3RvbWl6ZVRhYmxlTmFtZSkge1xuICAgIHJldHVybiAobmFtZSwgY29sdW1ucywgZXh0cmFDb25maWcpID0+IHtcbiAgICAgICAgcmV0dXJuIHNxbGl0ZVRhYmxlQmFzZShjdXN0b21pemVUYWJsZU5hbWUobmFtZSksIGNvbHVtbnMsIGV4dHJhQ29uZmlnLCB1bmRlZmluZWQsIG5hbWUpO1xuICAgIH07XG59XG5cbmNsYXNzIFNRTGl0ZURlbGV0ZSB7XG4gICAgdGFibGU7XG4gICAgc2Vzc2lvbjtcbiAgICBkaWFsZWN0O1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlRGVsZXRlJztcbiAgICBjb25maWc7XG4gICAgY29uc3RydWN0b3IodGFibGUsIHNlc3Npb24sIGRpYWxlY3QpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHsgdGFibGUgfTtcbiAgICB9XG4gICAgd2hlcmUod2hlcmUpIHtcbiAgICAgICAgdGhpcy5jb25maWcud2hlcmUgPSB3aGVyZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybmluZyhmaWVsZHMgPSB0aGlzLnRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5Db2x1bW5zXSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5yZXR1cm5pbmcgPSBvcmRlclNlbGVjdGVkRmllbGRzKGZpZWxkcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZ2V0U1FMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaWFsZWN0LmJ1aWxkRGVsZXRlUXVlcnkodGhpcy5jb25maWcpO1xuICAgIH1cbiAgICB0b1NRTCgpIHtcbiAgICAgICAgY29uc3QgeyB0eXBpbmdzOiBfdHlwaW5ncywgLi4ucmVzdCB9ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSk7XG4gICAgICAgIHJldHVybiByZXN0O1xuICAgIH1cbiAgICBwcmVwYXJlKGlzT25lVGltZVF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25baXNPbmVUaW1lUXVlcnkgPyAncHJlcGFyZU9uZVRpbWVRdWVyeScgOiAncHJlcGFyZVF1ZXJ5J10odGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSksIHRoaXMuY29uZmlnLnJldHVybmluZyk7XG4gICAgfVxuICAgIHJ1biA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlKHRydWUpLnJ1bihwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgfTtcbiAgICBhbGwgPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSh0cnVlKS5hbGwocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgIH07XG4gICAgZ2V0ID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmUodHJ1ZSkuZ2V0KHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICB9O1xuICAgIHZhbHVlcyA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlKHRydWUpLnZhbHVlcyhwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgfTtcbn1cblxuY2xhc3MgU1FMaXRlSW5zZXJ0QnVpbGRlciB7XG4gICAgdGFibGU7XG4gICAgc2Vzc2lvbjtcbiAgICBkaWFsZWN0O1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlSW5zZXJ0QnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IodGFibGUsIHNlc3Npb24sIGRpYWxlY3QpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgIH1cbiAgICB2YWx1ZXModmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IEFycmF5LmlzQXJyYXkodmFsdWVzKSA/IHZhbHVlcyA6IFt2YWx1ZXNdO1xuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd2YWx1ZXMoKSBtdXN0IGJlIGNhbGxlZCB3aXRoIGF0IGxlYXN0IG9uZSB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hcHBlZFZhbHVlcyA9IHZhbHVlcy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGNvbHMgPSB0aGlzLnRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29sS2V5IG9mIE9iamVjdC5rZXlzKGVudHJ5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbFZhbHVlID0gZW50cnlbY29sS2V5XTtcbiAgICAgICAgICAgICAgICByZXN1bHRbY29sS2V5XSA9IGlzKGNvbFZhbHVlLCBTUUwpID8gY29sVmFsdWUgOiBuZXcgUGFyYW0oY29sVmFsdWUsIGNvbHNbY29sS2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVJbnNlcnQodGhpcy50YWJsZSwgbWFwcGVkVmFsdWVzLCB0aGlzLnNlc3Npb24sIHRoaXMuZGlhbGVjdCk7XG4gICAgfVxufVxuY2xhc3MgU1FMaXRlSW5zZXJ0IHtcbiAgICBzZXNzaW9uO1xuICAgIGRpYWxlY3Q7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVJbnNlcnQnO1xuICAgIGNvbmZpZztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgdmFsdWVzLCBzZXNzaW9uLCBkaWFsZWN0KSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgICAgIHRoaXMuY29uZmlnID0geyB0YWJsZSwgdmFsdWVzIH07XG4gICAgfVxuICAgIHJldHVybmluZyhmaWVsZHMgPSB0aGlzLmNvbmZpZy50YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuQ29sdW1uc10pIHtcbiAgICAgICAgdGhpcy5jb25maWcucmV0dXJuaW5nID0gb3JkZXJTZWxlY3RlZEZpZWxkcyhmaWVsZHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb25Db25mbGljdERvTm90aGluZyhjb25maWcgPSB7fSkge1xuICAgICAgICBpZiAoY29uZmlnLnRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5vbkNvbmZsaWN0ID0gc3FsIGBkbyBub3RoaW5nYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFNxbCA9IEFycmF5LmlzQXJyYXkoY29uZmlnLnRhcmdldCkgPyBzcWwgYCR7Y29uZmlnLnRhcmdldH1gIDogc3FsIGAke1tjb25maWcudGFyZ2V0XX1gO1xuICAgICAgICAgICAgY29uc3Qgd2hlcmVTcWwgPSBjb25maWcud2hlcmUgPyBzcWwgYCB3aGVyZSAke2NvbmZpZy53aGVyZX1gIDogc3FsIGBgO1xuICAgICAgICAgICAgdGhpcy5jb25maWcub25Db25mbGljdCA9IHNxbCBgJHt0YXJnZXRTcWx9JHt3aGVyZVNxbH0gZG8gbm90aGluZ2A7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG9uQ29uZmxpY3REb1VwZGF0ZShjb25maWcpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0U3FsID0gQXJyYXkuaXNBcnJheShjb25maWcudGFyZ2V0KSA/IHNxbCBgJHtjb25maWcudGFyZ2V0fWAgOiBzcWwgYCR7W2NvbmZpZy50YXJnZXRdfWA7XG4gICAgICAgIGNvbnN0IHdoZXJlU3FsID0gY29uZmlnLndoZXJlID8gc3FsIGAgd2hlcmUgJHtjb25maWcud2hlcmV9YCA6IHNxbCBgYDtcbiAgICAgICAgY29uc3Qgc2V0U3FsID0gdGhpcy5kaWFsZWN0LmJ1aWxkVXBkYXRlU2V0KHRoaXMuY29uZmlnLnRhYmxlLCBtYXBVcGRhdGVTZXQodGhpcy5jb25maWcudGFibGUsIGNvbmZpZy5zZXQpKTtcbiAgICAgICAgdGhpcy5jb25maWcub25Db25mbGljdCA9IHNxbCBgJHt0YXJnZXRTcWx9JHt3aGVyZVNxbH0gZG8gdXBkYXRlIHNldCAke3NldFNxbH1gO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGdldFNRTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlhbGVjdC5idWlsZEluc2VydFF1ZXJ5KHRoaXMuY29uZmlnKTtcbiAgICB9XG4gICAgdG9TUUwoKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwaW5nczogX3R5cGluZ3MsIC4uLnJlc3QgfSA9IHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHRoaXMuZ2V0U1FMKCkpO1xuICAgICAgICByZXR1cm4gcmVzdDtcbiAgICB9XG4gICAgcHJlcGFyZShpc09uZVRpbWVRdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uW2lzT25lVGltZVF1ZXJ5ID8gJ3ByZXBhcmVPbmVUaW1lUXVlcnknIDogJ3ByZXBhcmVRdWVyeSddKHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHRoaXMuZ2V0U1FMKCkpLCB0aGlzLmNvbmZpZy5yZXR1cm5pbmcpO1xuICAgIH1cbiAgICBydW4gPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSh0cnVlKS5ydW4ocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgIH07XG4gICAgYWxsID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmUodHJ1ZSkuYWxsKHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICB9O1xuICAgIGdldCA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlKHRydWUpLmdldChwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgfTtcbiAgICB2YWx1ZXMgPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSh0cnVlKS52YWx1ZXMocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgIH07XG59XG5cbmNsYXNzIFZpZXdCdWlsZGVyQ29yZSB7XG4gICAgbmFtZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZVZpZXdCdWlsZGVyQ29yZSc7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBjb25maWcgPSB7fTtcbn1cbmNsYXNzIFZpZXdCdWlsZGVyIGV4dGVuZHMgVmlld0J1aWxkZXJDb3JlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZVZpZXdCdWlsZGVyJztcbiAgICBhcyhxYikge1xuICAgICAgICBpZiAodHlwZW9mIHFiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBxYiA9IHFiKG5ldyBRdWVyeUJ1aWxkZXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uUHJveHkgPSBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHtcbiAgICAgICAgICAgIGFsaWFzOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzcWxCZWhhdmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJyxcbiAgICAgICAgICAgIHJlcGxhY2VPcmlnaW5hbE5hbWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjb25zdCBhbGlhc2VkU2VsZWN0ZWRGaWVsZHMgPSBuZXcgUHJveHkocWIuZ2V0U2VsZWN0ZWRGaWVsZHMoKSwgc2VsZWN0aW9uUHJveHkpO1xuICAgICAgICBjb25zdCBhbGlhc2VkU2VsZWN0ZWRGaWVsZHMgPSBxYi5nZXRTZWxlY3RlZEZpZWxkcygpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG5ldyBTUUxpdGVWaWV3KHtcbiAgICAgICAgICAgIHNxbGl0ZUNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZHM6IGFsaWFzZWRTZWxlY3RlZEZpZWxkcyxcbiAgICAgICAgICAgICAgICBxdWVyeTogcWIuZ2V0U1FMKCkuaW5saW5lUGFyYW1zKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSwgc2VsZWN0aW9uUHJveHkpO1xuICAgIH1cbn1cbmNsYXNzIE1hbnVhbFZpZXdCdWlsZGVyIGV4dGVuZHMgVmlld0J1aWxkZXJDb3JlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZU1hbnVhbFZpZXdCdWlsZGVyJztcbiAgICBjb2x1bW5zO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbHVtbnMpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGdldFRhYmxlQ29sdW1ucyhzcWxpdGVUYWJsZShuYW1lLCBjb2x1bW5zKSk7XG4gICAgfVxuICAgIGV4aXN0aW5nKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG5ldyBTUUxpdGVWaWV3KHtcbiAgICAgICAgICAgIHNxbGl0ZUNvbmZpZzogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiB0aGlzLmNvbHVtbnMsXG4gICAgICAgICAgICAgICAgcXVlcnk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHtcbiAgICAgICAgICAgIGFsaWFzOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzcWxCZWhhdmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJyxcbiAgICAgICAgICAgIHJlcGxhY2VPcmlnaW5hbE5hbWU6IHRydWUsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYXMocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgU1FMaXRlVmlldyh7XG4gICAgICAgICAgICBzcWxpdGVDb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiB0aGlzLmNvbHVtbnMsXG4gICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LmlubGluZVBhcmFtcygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoe1xuICAgICAgICAgICAgYWxpYXM6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHNxbEJlaGF2aW9yOiAnZXJyb3InLFxuICAgICAgICAgICAgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLFxuICAgICAgICAgICAgcmVwbGFjZU9yaWdpbmFsTmFtZTogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbmNsYXNzIFNRTGl0ZVZpZXdCYXNlIGV4dGVuZHMgVmlldyB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVWaWV3QmFzZSc7XG59XG5jb25zdCBTUUxpdGVWaWV3Q29uZmlnID0gU3ltYm9sLmZvcignZHJpenpsZTpTUUxpdGVWaWV3Q29uZmlnJyk7XG5jbGFzcyBTUUxpdGVWaWV3IGV4dGVuZHMgU1FMaXRlVmlld0Jhc2Uge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlVmlldyc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtTUUxpdGVWaWV3Q29uZmlnXTtcbiAgICBjb25zdHJ1Y3Rvcih7IHNxbGl0ZUNvbmZpZywgY29uZmlnIH0pIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgdGhpc1tTUUxpdGVWaWV3Q29uZmlnXSA9IHNxbGl0ZUNvbmZpZztcbiAgICB9XG59XG5mdW5jdGlvbiBzcWxpdGVWaWV3KG5hbWUsIHNlbGVjdGlvbikge1xuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYW51YWxWaWV3QnVpbGRlcihuYW1lLCBzZWxlY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFZpZXdCdWlsZGVyKG5hbWUpO1xufVxuY29uc3QgdmlldyA9IHNxbGl0ZVZpZXc7XG5cbmNsYXNzIFNRTGl0ZURpYWxlY3Qge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlRGlhbGVjdCc7XG4gICAgZXNjYXBlTmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBgXCIke25hbWV9XCJgO1xuICAgIH1cbiAgICBlc2NhcGVQYXJhbShfbnVtKSB7XG4gICAgICAgIHJldHVybiAnPyc7XG4gICAgfVxuICAgIGVzY2FwZVN0cmluZyhzdHIpIHtcbiAgICAgICAgcmV0dXJuIGAnJHtzdHIucmVwbGFjZSgvJy9nLCBcIicnXCIpfSdgO1xuICAgIH1cbiAgICBidWlsZERlbGV0ZVF1ZXJ5KHsgdGFibGUsIHdoZXJlLCByZXR1cm5pbmcgfSkge1xuICAgICAgICBjb25zdCByZXR1cm5pbmdTcWwgPSByZXR1cm5pbmdcbiAgICAgICAgICAgID8gc3FsIGAgcmV0dXJuaW5nICR7dGhpcy5idWlsZFNlbGVjdGlvbihyZXR1cm5pbmcsIHsgaXNTaW5nbGVUYWJsZTogdHJ1ZSB9KX1gXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgd2hlcmVTcWwgPSB3aGVyZSA/IHNxbCBgIHdoZXJlICR7d2hlcmV9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHNxbCBgZGVsZXRlIGZyb20gJHt0YWJsZX0ke3doZXJlU3FsfSR7cmV0dXJuaW5nU3FsfWA7XG4gICAgfVxuICAgIGJ1aWxkVXBkYXRlU2V0KHRhYmxlLCBzZXQpIHtcbiAgICAgICAgY29uc3Qgc2V0RW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHNldCk7XG4gICAgICAgIGNvbnN0IHNldFNpemUgPSBzZXRFbnRyaWVzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHNxbC5mcm9tTGlzdChzZXRFbnRyaWVzXG4gICAgICAgICAgICAuZmxhdE1hcCgoW2NvbE5hbWUsIHZhbHVlXSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29sID0gdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdW2NvbE5hbWVdO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gc3FsIGAke25hbWUoY29sLm5hbWUpfSA9ICR7dmFsdWV9YDtcbiAgICAgICAgICAgIGlmIChpIDwgc2V0U2l6ZSAtIDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3Jlcywgc3FsLnJhdygnLCAnKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3Jlc107XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYnVpbGRVcGRhdGVRdWVyeSh7IHRhYmxlLCBzZXQsIHdoZXJlLCByZXR1cm5pbmcgfSkge1xuICAgICAgICBjb25zdCBzZXRTcWwgPSB0aGlzLmJ1aWxkVXBkYXRlU2V0KHRhYmxlLCBzZXQpO1xuICAgICAgICBjb25zdCByZXR1cm5pbmdTcWwgPSByZXR1cm5pbmdcbiAgICAgICAgICAgID8gc3FsIGAgcmV0dXJuaW5nICR7dGhpcy5idWlsZFNlbGVjdGlvbihyZXR1cm5pbmcsIHsgaXNTaW5nbGVUYWJsZTogdHJ1ZSB9KX1gXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgd2hlcmVTcWwgPSB3aGVyZSA/IHNxbCBgIHdoZXJlICR7d2hlcmV9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHNxbCBgdXBkYXRlICR7dGFibGV9IHNldCAke3NldFNxbH0ke3doZXJlU3FsfSR7cmV0dXJuaW5nU3FsfWA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBzZWxlY3Rpb24gU1FMIHdpdGggcHJvdmlkZWQgZmllbGRzL2V4cHJlc3Npb25zXG4gICAgICpcbiAgICAgKiBFeGFtcGxlczpcbiAgICAgKlxuICAgICAqIGBzZWxlY3QgPHNlbGVjdGlvbj4gZnJvbWBcbiAgICAgKlxuICAgICAqIGBpbnNlcnQgLi4uIHJldHVybmluZyA8c2VsZWN0aW9uPmBcbiAgICAgKlxuICAgICAqIElmIGBpc1NpbmdsZVRhYmxlYCBpcyB0cnVlLCB0aGVuIGNvbHVtbnMgd29uJ3QgYmUgcHJlZml4ZWQgd2l0aCB0YWJsZSBuYW1lXG4gICAgICovXG4gICAgYnVpbGRTZWxlY3Rpb24oZmllbGRzLCB7IGlzU2luZ2xlVGFibGUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgY29sdW1uc0xlbiA9IGZpZWxkcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IGZpZWxkc1xuICAgICAgICAgICAgLmZsYXRNYXAoKHsgZmllbGQgfSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBbXTtcbiAgICAgICAgICAgIGlmIChpcyhmaWVsZCwgU1FMLkFsaWFzZWQpICYmIGZpZWxkLmlzU2VsZWN0aW9uRmllbGQpIHtcbiAgICAgICAgICAgICAgICBjaHVuay5wdXNoKHNxbC5pZGVudGlmaWVyKGZpZWxkLmZpZWxkQWxpYXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGZpZWxkLCBTUUwuQWxpYXNlZCkgfHwgaXMoZmllbGQsIFNRTCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGlzKGZpZWxkLCBTUUwuQWxpYXNlZCkgPyBmaWVsZC5zcWwgOiBmaWVsZDtcbiAgICAgICAgICAgICAgICBpZiAoaXNTaW5nbGVUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKG5ldyBTUUwocXVlcnkucXVlcnlDaHVua3MubWFwKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXMoYywgQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lKGMubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rLnB1c2gocXVlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXMoZmllbGQsIFNRTC5BbGlhc2VkKSkge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKHNxbCBgIGFzICR7bmFtZShmaWVsZC5maWVsZEFsaWFzKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhmaWVsZCwgQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlTmFtZSA9IGZpZWxkLnRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW5OYW1lID0gZmllbGQubmFtZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTaW5nbGVUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKG5hbWUoY29sdW1uTmFtZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwgYCR7bmFtZSh0YWJsZU5hbWUpfS4ke25hbWUoY29sdW1uTmFtZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPCBjb2x1bW5zTGVuIC0gMSkge1xuICAgICAgICAgICAgICAgIGNodW5rLnB1c2goc3FsIGAsIGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNodW5rO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNxbC5mcm9tTGlzdChjaHVua3MpO1xuICAgIH1cbiAgICBidWlsZFNlbGVjdFF1ZXJ5KHsgd2l0aExpc3QsIGZpZWxkcywgZmllbGRzRmxhdCwgd2hlcmUsIGhhdmluZywgdGFibGUsIGpvaW5zLCBvcmRlckJ5LCBncm91cEJ5LCBsaW1pdCwgb2Zmc2V0LCBkaXN0aW5jdCB9KSB7XG4gICAgICAgIGNvbnN0IGZpZWxkc0xpc3QgPSBmaWVsZHNGbGF0ID8/IG9yZGVyU2VsZWN0ZWRGaWVsZHMoZmllbGRzKTtcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIGZpZWxkc0xpc3QpIHtcbiAgICAgICAgICAgIGlmIChpcyhmLmZpZWxkLCBDb2x1bW4pXG4gICAgICAgICAgICAgICAgJiYgZ2V0VGFibGVOYW1lKGYuZmllbGQudGFibGUpXG4gICAgICAgICAgICAgICAgICAgICE9PSAoaXModGFibGUsIFN1YnF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0YWJsZVtTdWJxdWVyeUNvbmZpZ10uYWxpYXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXModGFibGUsIFNRTGl0ZVZpZXdCYXNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFibGVbVmlld0Jhc2VDb25maWddLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzKHRhYmxlLCBTUUwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0VGFibGVOYW1lKHRhYmxlKSlcbiAgICAgICAgICAgICAgICAmJiAhKCh0YWJsZSkgPT4gam9pbnMuc29tZSgoeyBhbGlhcyB9KSA9PiBhbGlhcyA9PT0gKHRhYmxlW1RhYmxlLlN5bWJvbC5Jc0FsaWFzXSA/IGdldFRhYmxlTmFtZSh0YWJsZSkgOiB0YWJsZVtUYWJsZS5TeW1ib2wuQmFzZU5hbWVdKSkpKGYuZmllbGQudGFibGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFibGVOYW1lID0gZ2V0VGFibGVOYW1lKGYuZmllbGQudGFibGUpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgWW91ciBcIiR7Zi5wYXRoLmpvaW4oJy0+Jyl9XCIgZmllbGQgcmVmZXJlbmNlcyBhIGNvbHVtbiBcIiR7dGFibGVOYW1lfVwiLlwiJHtmLmZpZWxkLm5hbWV9XCIsIGJ1dCB0aGUgdGFibGUgXCIke3RhYmxlTmFtZX1cIiBpcyBub3QgcGFydCBvZiB0aGUgcXVlcnkhIERpZCB5b3UgZm9yZ2V0IHRvIGpvaW4gaXQ/YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNTaW5nbGVUYWJsZSA9IGpvaW5zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgbGV0IHdpdGhTcWw7XG4gICAgICAgIGlmICh3aXRoTGlzdD8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB3aXRoU3FsQ2h1bmtzID0gW3NxbCBgd2l0aCBgXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2ksIHddIG9mIHdpdGhMaXN0LmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIHdpdGhTcWxDaHVua3MucHVzaChzcWwgYCR7bmFtZSh3W1N1YnF1ZXJ5Q29uZmlnXS5hbGlhcyl9IGFzICgke3dbU3VicXVlcnlDb25maWddLnNxbH0pYCk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCB3aXRoTGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpdGhTcWxDaHVua3MucHVzaChzcWwgYCwgYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2l0aFNxbENodW5rcy5wdXNoKHNxbCBgIGApO1xuICAgICAgICAgICAgd2l0aFNxbCA9IHNxbC5mcm9tTGlzdCh3aXRoU3FsQ2h1bmtzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXN0aW5jdFNxbCA9IGRpc3RpbmN0ID8gc3FsIGAgZGlzdGluY3RgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLmJ1aWxkU2VsZWN0aW9uKGZpZWxkc0xpc3QsIHsgaXNTaW5nbGVUYWJsZSB9KTtcbiAgICAgICAgY29uc3QgdGFibGVTcWwgPSAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzKHRhYmxlLCBUYWJsZSkgJiYgdGFibGVbVGFibGUuU3ltYm9sLk9yaWdpbmFsTmFtZV0gIT09IHRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcWwgYCR7bmFtZSh0YWJsZVtUYWJsZS5TeW1ib2wuT3JpZ2luYWxOYW1lXSl9ICR7bmFtZSh0YWJsZVtUYWJsZS5TeW1ib2wuTmFtZV0pfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIGNvbnN0IGpvaW5zQXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGpvaW5NZXRhXSBvZiBqb2lucy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gam9pbk1ldGEudGFibGU7XG4gICAgICAgICAgICBpZiAoaXModGFibGUsIFNRTGl0ZVRhYmxlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlTmFtZSA9IHRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5OYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJsZVNjaGVtYSA9IHRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5TY2hlbWFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdUYWJsZU5hbWUgPSB0YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuT3JpZ2luYWxOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGlhcyA9IHRhYmxlTmFtZSA9PT0gb3JpZ1RhYmxlTmFtZSA/IHVuZGVmaW5lZCA6IGpvaW5NZXRhLmFsaWFzO1xuICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCR7c3FsLnJhdyhqb2luTWV0YS5qb2luVHlwZSl9IGpvaW4gJHt0YWJsZVNjaGVtYSA/IHNxbCBgJHtzcWwuaWRlbnRpZmllcih0YWJsZVNjaGVtYSl9LmAgOiB1bmRlZmluZWR9JHtuYW1lKG9yaWdUYWJsZU5hbWUpfSR7YWxpYXMgJiYgc3FsIGAgJHtuYW1lKGFsaWFzKX1gfSBvbiAke2pvaW5NZXRhLm9ufWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgam9pbnNBcnJheS5wdXNoKHNxbCBgJHtzcWwucmF3KGpvaW5NZXRhLmpvaW5UeXBlKX0gam9pbiAke3RhYmxlfSBvbiAke2pvaW5NZXRhLm9ufWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGV4IDwgam9pbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqb2luc1NxbCA9IHNxbC5mcm9tTGlzdChqb2luc0FycmF5KTtcbiAgICAgICAgY29uc3Qgd2hlcmVTcWwgPSB3aGVyZSA/IHNxbCBgIHdoZXJlICR7d2hlcmV9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaGF2aW5nU3FsID0gaGF2aW5nID8gc3FsIGAgaGF2aW5nICR7aGF2aW5nfWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG9yZGVyQnlMaXN0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBvcmRlckJ5VmFsdWVdIG9mIG9yZGVyQnkuZW50cmllcygpKSB7XG4gICAgICAgICAgICBvcmRlckJ5TGlzdC5wdXNoKG9yZGVyQnlWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCBvcmRlckJ5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBvcmRlckJ5TGlzdC5wdXNoKHNxbCBgLCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cEJ5TGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgZ3JvdXBCeVZhbHVlXSBvZiBncm91cEJ5LmVudHJpZXMoKSkge1xuICAgICAgICAgICAgZ3JvdXBCeUxpc3QucHVzaChncm91cEJ5VmFsdWUpO1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgZ3JvdXBCeS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBCeUxpc3QucHVzaChzcWwgYCwgYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JvdXBCeVNxbCA9IGdyb3VwQnlMaXN0Lmxlbmd0aCA+IDAgPyBzcWwgYCBncm91cCBieSAke3NxbC5mcm9tTGlzdChncm91cEJ5TGlzdCl9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgb3JkZXJCeVNxbCA9IG9yZGVyQnlMaXN0Lmxlbmd0aCA+IDAgPyBzcWwgYCBvcmRlciBieSAke3NxbC5mcm9tTGlzdChvcmRlckJ5TGlzdCl9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbGltaXRTcWwgPSBsaW1pdCA/IHNxbCBgIGxpbWl0ICR7bGltaXR9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0U3FsID0gb2Zmc2V0ID8gc3FsIGAgb2Zmc2V0ICR7b2Zmc2V0fWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYCR7d2l0aFNxbH1zZWxlY3Qke2Rpc3RpbmN0U3FsfSAke3NlbGVjdGlvbn0gZnJvbSAke3RhYmxlU3FsfSR7am9pbnNTcWx9JHt3aGVyZVNxbH0ke2dyb3VwQnlTcWx9JHtoYXZpbmdTcWx9JHtvcmRlckJ5U3FsfSR7bGltaXRTcWx9JHtvZmZzZXRTcWx9YDtcbiAgICB9XG4gICAgYnVpbGRJbnNlcnRRdWVyeSh7IHRhYmxlLCB2YWx1ZXMsIG9uQ29uZmxpY3QsIHJldHVybmluZyB9KSB7XG4gICAgICAgIGNvbnN0IGlzU2luZ2xlVmFsdWUgPSB2YWx1ZXMubGVuZ3RoID09PSAxO1xuICAgICAgICBjb25zdCB2YWx1ZXNTcWxMaXN0ID0gW107XG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc107XG4gICAgICAgIGNvbnN0IGNvbEVudHJpZXMgPSBpc1NpbmdsZVZhbHVlXG4gICAgICAgICAgICA/IE9iamVjdC5rZXlzKHZhbHVlc1swXSkubWFwKChmaWVsZE5hbWUpID0+IFtmaWVsZE5hbWUsIGNvbHVtbnNbZmllbGROYW1lXV0pXG4gICAgICAgICAgICA6IE9iamVjdC5lbnRyaWVzKGNvbHVtbnMpO1xuICAgICAgICBjb25zdCBpbnNlcnRPcmRlciA9IGNvbEVudHJpZXMubWFwKChbLCBjb2x1bW5dKSA9PiBuYW1lKGNvbHVtbi5uYW1lKSk7XG4gICAgICAgIGZvciAoY29uc3QgW3ZhbHVlSW5kZXgsIHZhbHVlXSBvZiB2YWx1ZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2ZpZWxkTmFtZSwgY29sXSBvZiBjb2xFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sVmFsdWUgPSB2YWx1ZVtmaWVsZE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChjb2xWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IChpcyhjb2xWYWx1ZSwgUGFyYW0pICYmIGNvbFZhbHVlLnZhbHVlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wuZGVmYXVsdCAhPT0gbnVsbCAmJiBjb2wuZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBpcyhjb2wuZGVmYXVsdCwgU1FMKSA/IGNvbC5kZWZhdWx0IDogcGFyYW0oY29sLmRlZmF1bHQsIGNvbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBzcWwgYG51bGxgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlTGlzdC5wdXNoKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxpc3QucHVzaChjb2xWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzU3FsTGlzdC5wdXNoKHZhbHVlTGlzdCk7XG4gICAgICAgICAgICBpZiAodmFsdWVJbmRleCA8IHZhbHVlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzU3FsTGlzdC5wdXNoKHNxbCBgLCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZXNTcWwgPSBzcWwuZnJvbUxpc3QodmFsdWVzU3FsTGlzdCk7XG4gICAgICAgIGNvbnN0IHJldHVybmluZ1NxbCA9IHJldHVybmluZ1xuICAgICAgICAgICAgPyBzcWwgYCByZXR1cm5pbmcgJHt0aGlzLmJ1aWxkU2VsZWN0aW9uKHJldHVybmluZywgeyBpc1NpbmdsZVRhYmxlOiB0cnVlIH0pfWBcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBvbkNvbmZsaWN0U3FsID0gb25Db25mbGljdCA/IHNxbCBgIG9uIGNvbmZsaWN0ICR7b25Db25mbGljdH1gIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gc3FsIGBpbnNlcnQgaW50byAke3RhYmxlfSAke2luc2VydE9yZGVyfSB2YWx1ZXMgJHt2YWx1ZXNTcWx9JHtvbkNvbmZsaWN0U3FsfSR7cmV0dXJuaW5nU3FsfWA7XG4gICAgfVxuICAgIHNxbFRvUXVlcnkoc3FsKSB7XG4gICAgICAgIHJldHVybiBzcWwudG9RdWVyeSh7XG4gICAgICAgICAgICBlc2NhcGVOYW1lOiB0aGlzLmVzY2FwZU5hbWUsXG4gICAgICAgICAgICBlc2NhcGVQYXJhbTogdGhpcy5lc2NhcGVQYXJhbSxcbiAgICAgICAgICAgIGVzY2FwZVN0cmluZzogdGhpcy5lc2NhcGVTdHJpbmcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBidWlsZFJlbGF0aW9uYWxRdWVyeShmdWxsU2NoZW1hLCBzY2hlbWEsIHRhYmxlTmFtZXNNYXAsIHRhYmxlLCB0YWJsZUNvbmZpZywgY29uZmlnLCB0YWJsZUFsaWFzLCByZWxhdGlvbkNvbHVtbnMsIGlzUm9vdCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChjb25maWcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbkVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0YWJsZUNvbmZpZy5jb2x1bW5zKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHNlbGVjdGlvbkVudHJpZXMubWFwKChba2V5LCB2YWx1ZV0pID0+ICh7XG4gICAgICAgICAgICAgICAgZGJLZXk6IHZhbHVlLm5hbWUsXG4gICAgICAgICAgICAgICAgdHNLZXk6IGtleSxcbiAgICAgICAgICAgICAgICBmaWVsZDogdmFsdWUsXG4gICAgICAgICAgICAgICAgdGFibGVUc0tleTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGlzSnNvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbXSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGFibGVUc0tleTogdGFibGVDb25maWcudHNOYW1lLFxuICAgICAgICAgICAgICAgIHNxbDogdGFibGUsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbGlhc2VkQ29sdW1ucyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0YWJsZUNvbmZpZy5jb2x1bW5zKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW2tleSwgYWxpYXNlZFRhYmxlQ29sdW1uKHZhbHVlLCB0YWJsZUFsaWFzKV0pKTtcbiAgICAgICAgY29uc3QgYWxpYXNlZFJlbGF0aW9ucyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0YWJsZUNvbmZpZy5yZWxhdGlvbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCBhbGlhc2VkUmVsYXRpb24odmFsdWUsIHRhYmxlQWxpYXMpXSkpO1xuICAgICAgICBjb25zdCBhbGlhc2VkRmllbGRzID0gT2JqZWN0LmFzc2lnbih7fSwgYWxpYXNlZENvbHVtbnMsIGFsaWFzZWRSZWxhdGlvbnMpO1xuICAgICAgICBjb25zdCBmaWVsZHNTZWxlY3Rpb24gPSB7fTtcbiAgICAgICAgbGV0IHNlbGVjdGVkQ29sdW1ucyA9IFtdO1xuICAgICAgICBsZXQgc2VsZWN0ZWRFeHRyYXMgPSBbXTtcbiAgICAgICAgbGV0IHNlbGVjdGVkUmVsYXRpb25zID0gW107XG4gICAgICAgIGlmIChjb25maWcuY29sdW1ucykge1xuICAgICAgICAgICAgbGV0IGlzSW5jbHVkZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2ZpZWxkLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29uZmlnLmNvbHVtbnMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmaWVsZCBpbiB0YWJsZUNvbmZpZy5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNJbmNsdWRlTW9kZSAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbmNsdWRlTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDb2x1bW5zLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZENvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29sdW1ucyA9IGlzSW5jbHVkZU1vZGVcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3RlZENvbHVtbnMuZmlsdGVyKChjKSA9PiBjb25maWcuY29sdW1ucz8uW2NdID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5rZXlzKHRhYmxlQ29uZmlnLmNvbHVtbnMpLmZpbHRlcigoa2V5KSA9PiAhc2VsZWN0ZWRDb2x1bW5zLmluY2x1ZGVzKGtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcud2l0aCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRSZWxhdGlvbnMgPSBPYmplY3QuZW50cmllcyhjb25maWcud2l0aClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChlbnRyeSkgPT4gISFlbnRyeVsxXSlcbiAgICAgICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+ICh7IGtleSwgdmFsdWUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29uZmlnLmNvbHVtbnMpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkQ29sdW1ucyA9IE9iamVjdC5rZXlzKHRhYmxlQ29uZmlnLmNvbHVtbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuZXh0cmFzKSB7XG4gICAgICAgICAgICBjb25zdCBleHRyYXNPcmlnID0gdHlwZW9mIGNvbmZpZy5leHRyYXMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IGNvbmZpZy5leHRyYXMoYWxpYXNlZEZpZWxkcywgeyBzcWwgfSlcbiAgICAgICAgICAgICAgICA6IGNvbmZpZy5leHRyYXM7XG4gICAgICAgICAgICBzZWxlY3RlZEV4dHJhcyA9IE9iamVjdC5lbnRyaWVzKGV4dHJhc09yaWcpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoe1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWFwQ29sdW1uc0luQWxpYXNlZFNRTFRvQWxpYXModmFsdWUsIHRhYmxlQWxpYXMpLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2Ygc2VsZWN0ZWRDb2x1bW5zKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW4gPSB0YWJsZUNvbmZpZy5jb2x1bW5zW2ZpZWxkXTtcbiAgICAgICAgICAgIGZpZWxkc1NlbGVjdGlvbltmaWVsZF0gPSBjb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB7IGtleSwgdmFsdWUgfSBvZiBzZWxlY3RlZEV4dHJhcykge1xuICAgICAgICAgICAgZmllbGRzU2VsZWN0aW9uW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd2hlcmU7XG4gICAgICAgIGlmIChjb25maWcud2hlcmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHdoZXJlU3FsID0gdHlwZW9mIGNvbmZpZy53aGVyZSA9PT0gJ2Z1bmN0aW9uJyA/IGNvbmZpZy53aGVyZShhbGlhc2VkRmllbGRzLCBvcGVyYXRvcnMpIDogY29uZmlnLndoZXJlO1xuICAgICAgICAgICAgd2hlcmUgPSB3aGVyZVNxbCAmJiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKHdoZXJlU3FsLCB0YWJsZUFsaWFzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cEJ5ID0gKHRhYmxlQ29uZmlnLnByaW1hcnlLZXkubGVuZ3RoID8gdGFibGVDb25maWcucHJpbWFyeUtleSA6IE9iamVjdC52YWx1ZXModGFibGVDb25maWcuY29sdW1ucykpLm1hcCgoYykgPT4gYWxpYXNlZFRhYmxlQ29sdW1uKGMsIHRhYmxlQWxpYXMpKTtcbiAgICAgICAgbGV0IG9yZGVyQnlPcmlnID0gdHlwZW9mIGNvbmZpZy5vcmRlckJ5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGNvbmZpZy5vcmRlckJ5KGFsaWFzZWRGaWVsZHMsIG9yZGVyQnlPcGVyYXRvcnMpXG4gICAgICAgICAgICA6IGNvbmZpZy5vcmRlckJ5ID8/IFtdO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob3JkZXJCeU9yaWcpKSB7XG4gICAgICAgICAgICBvcmRlckJ5T3JpZyA9IFtvcmRlckJ5T3JpZ107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JkZXJCeSA9IG9yZGVyQnlPcmlnLm1hcCgob3JkZXJCeVZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXMob3JkZXJCeVZhbHVlLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsaWFzZWRUYWJsZUNvbHVtbihvcmRlckJ5VmFsdWUsIHRhYmxlQWxpYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hcENvbHVtbnNJblNRTFRvQWxpYXMob3JkZXJCeVZhbHVlLCB0YWJsZUFsaWFzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJ1aWx0UmVsYXRpb25zID0gW107XG4gICAgICAgIGNvbnN0IGJ1aWx0UmVsYXRpb25GaWVsZHMgPSBbXTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgbGV0IHNlbGVjdGVkUmVsYXRpb25JbmRleCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgeyBrZXk6IHNlbGVjdGVkUmVsYXRpb25LZXksIHZhbHVlOiBzZWxlY3RlZFJlbGF0aW9uVmFsdWUgfSBvZiBzZWxlY3RlZFJlbGF0aW9ucykge1xuICAgICAgICAgICAgbGV0IHJlbGF0aW9uO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbcmVsYXRpb25LZXksIHJlbGF0aW9uVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRhYmxlQ29uZmlnLnJlbGF0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXMocmVsYXRpb25WYWx1ZSwgUmVsYXRpb24pICYmIHJlbGF0aW9uS2V5ID09PSBzZWxlY3RlZFJlbGF0aW9uS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uID0gcmVsYXRpb25WYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZWxhdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVsYXRpb24gJHtzZWxlY3RlZFJlbGF0aW9uS2V5fSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRSZWxhdGlvbiA9IG5vcm1hbGl6ZVJlbGF0aW9uKHNjaGVtYSwgdGFibGVOYW1lc01hcCwgcmVsYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25BbGlhcyA9IGAke3RhYmxlQWxpYXN9XyR7c2VsZWN0ZWRSZWxhdGlvbktleX1gO1xuICAgICAgICAgICAgY29uc3QgYnVpbHRSZWxhdGlvbiA9IHRoaXMuYnVpbGRSZWxhdGlvbmFsUXVlcnkoZnVsbFNjaGVtYSwgc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCBmdWxsU2NoZW1hW3RhYmxlTmFtZXNNYXBbcmVsYXRpb24ucmVmZXJlbmNlZFRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXV1dLCBzY2hlbWFbdGFibGVOYW1lc01hcFtyZWxhdGlvbi5yZWZlcmVuY2VkVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdXV0sIHNlbGVjdGVkUmVsYXRpb25WYWx1ZSwgcmVsYXRpb25BbGlhcywgbm9ybWFsaXplZFJlbGF0aW9uLnJlZmVyZW5jZXMpO1xuICAgICAgICAgICAgYnVpbHRSZWxhdGlvbnMucHVzaCh7IGtleTogc2VsZWN0ZWRSZWxhdGlvbktleSwgdmFsdWU6IGJ1aWx0UmVsYXRpb24gfSk7XG4gICAgICAgICAgICBsZXQgcmVsYXRpb25XaGVyZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0ZWRSZWxhdGlvblZhbHVlID09PSAnb2JqZWN0JyAmJiBzZWxlY3RlZFJlbGF0aW9uVmFsdWUubGltaXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IHNxbCBgJHtzcWwuaWRlbnRpZmllcihyZWxhdGlvbkFsaWFzKX0uJHtzcWwuaWRlbnRpZmllcignX19kcml6emxlX3Jvd19udW1iZXInKX1gO1xuICAgICAgICAgICAgICAgIHJlbGF0aW9uV2hlcmUgPSBhbmQocmVsYXRpb25XaGVyZSwgb3IoYW5kKHNxbCBgJHtmaWVsZH0gPD0gJHtzZWxlY3RlZFJlbGF0aW9uVmFsdWUubGltaXR9YCksIHNxbCBgKCR7ZmllbGR9IGlzIG51bGwpYCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgam9pbiA9IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogaXMoYnVpbHRSZWxhdGlvbi5zcWwsIFRhYmxlKVxuICAgICAgICAgICAgICAgICAgICA/IGFsaWFzZWRUYWJsZShidWlsdFJlbGF0aW9uLnNxbCwgcmVsYXRpb25BbGlhcylcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgU3VicXVlcnkoYnVpbHRSZWxhdGlvbi5zcWwsIHt9LCByZWxhdGlvbkFsaWFzKSxcbiAgICAgICAgICAgICAgICBhbGlhczogcmVsYXRpb25BbGlhcyxcbiAgICAgICAgICAgICAgICBvbjogYW5kKC4uLm5vcm1hbGl6ZWRSZWxhdGlvbi5maWVsZHMubWFwKChmaWVsZCwgaSkgPT4gZXEoYWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSwgYWxpYXNlZFRhYmxlQ29sdW1uKG5vcm1hbGl6ZWRSZWxhdGlvbi5yZWZlcmVuY2VzW2ldLCByZWxhdGlvbkFsaWFzKSkpKSxcbiAgICAgICAgICAgICAgICBqb2luVHlwZTogJ2xlZnQnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVsc2VGaWVsZCA9IHNxbCBganNvbl9ncm91cF9hcnJheShqc29uX2FycmF5KCR7c3FsLmpvaW4oYnVpbHRSZWxhdGlvbi5zZWxlY3Rpb24ubWFwKCh7IGRiS2V5OiBrZXksIGlzSnNvbiB9KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBzcWwgYCR7c3FsLmlkZW50aWZpZXIocmVsYXRpb25BbGlhcyl9LiR7c3FsLmlkZW50aWZpZXIoa2V5KX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0pzb24gPyBzcWwgYGpzb24oJHtmaWVsZH0pYCA6IGZpZWxkO1xuICAgICAgICAgICAgfSksIHNxbCBgLCBgKX0pKWA7XG4gICAgICAgICAgICBjb25zdCBjb3VudFNxbCA9IG5vcm1hbGl6ZWRSZWxhdGlvbi5yZWZlcmVuY2VzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgID8gYWxpYXNlZFRhYmxlQ29sdW1uKG5vcm1hbGl6ZWRSZWxhdGlvbi5yZWZlcmVuY2VzWzBdLCByZWxhdGlvbkFsaWFzKVxuICAgICAgICAgICAgICAgIDogc3FsLmZyb21MaXN0KFtcbiAgICAgICAgICAgICAgICAgICAgc3FsIGBjb2FsZXNjZShgLFxuICAgICAgICAgICAgICAgICAgICBzcWwuam9pbihub3JtYWxpemVkUmVsYXRpb24ucmVmZXJlbmNlcy5tYXAoKGMpID0+IGFsaWFzZWRUYWJsZUNvbHVtbihjLCByZWxhdGlvbkFsaWFzKSksIHNxbC5yYXcoJywgJykpLFxuICAgICAgICAgICAgICAgICAgICBzcWwucmF3KCcpJyksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHNxbCBgY2FzZSB3aGVuIGNvdW50KCR7Y291bnRTcWx9KSA9IDAgdGhlbiAnW10nIGVsc2UgJHtlbHNlRmllbGR9IGVuZGAuYXMoc2VsZWN0ZWRSZWxhdGlvbktleSk7XG4gICAgICAgICAgICBjb25zdCBidWlsdFJlbGF0aW9uRmllbGQgPSB7XG4gICAgICAgICAgICAgICAgcGF0aDogW3NlbGVjdGVkUmVsYXRpb25LZXldLFxuICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYnVpbGRTZWxlY3RRdWVyeSh7XG4gICAgICAgICAgICAgICAgdGFibGU6IHJlc3VsdCA/IG5ldyBTdWJxdWVyeShyZXN1bHQsIHt9LCB0YWJsZUFsaWFzKSA6IGFsaWFzZWRUYWJsZSh0YWJsZSwgdGFibGVBbGlhcyksXG4gICAgICAgICAgICAgICAgZmllbGRzOiB7fSxcbiAgICAgICAgICAgICAgICBmaWVsZHNGbGF0OiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHNxbCBgJHtzcWwuaWRlbnRpZmllcih0YWJsZUFsaWFzKX0uKmAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC4uLihzZWxlY3RlZFJlbGF0aW9uSW5kZXggPT09IHNlbGVjdGVkUmVsYXRpb25zLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2VsZWN0ZWRFeHRyYXMubWFwKCh7IGtleSwgdmFsdWUgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogW10pLFxuICAgICAgICAgICAgICAgICAgICBidWlsdFJlbGF0aW9uRmllbGQsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB3aGVyZTogcmVsYXRpb25XaGVyZSxcbiAgICAgICAgICAgICAgICBncm91cEJ5LFxuICAgICAgICAgICAgICAgIG9yZGVyQnk6IHNlbGVjdGVkUmVsYXRpb25JbmRleCA9PT0gc2VsZWN0ZWRSZWxhdGlvbnMubGVuZ3RoIC0gMSA/IG9yZGVyQnkgOiBbXSxcbiAgICAgICAgICAgICAgICBqb2luczogW2pvaW5dLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBidWlsdFJlbGF0aW9uRmllbGRzLnB1c2goYnVpbHRSZWxhdGlvbkZpZWxkKTtcbiAgICAgICAgICAgIHNlbGVjdGVkUmVsYXRpb25JbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbmFsRmllbGRzU2VsZWN0aW9uID0gT2JqZWN0LmVudHJpZXMoZmllbGRzU2VsZWN0aW9uKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBba2V5XSxcbiAgICAgICAgICAgICAgICBmaWVsZDogaXModmFsdWUsIENvbHVtbikgPyBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpIDogdmFsdWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZmluYWxGaWVsZHNGbGF0ID0gaXNSb290XG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAuLi5maW5hbEZpZWxkc1NlbGVjdGlvbi5tYXAoKHsgcGF0aCwgZmllbGQgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGlzKGZpZWxkLCBTUUwuQWxpYXNlZCkgPyBzcWwgYCR7c3FsLmlkZW50aWZpZXIoZmllbGQuZmllbGRBbGlhcyl9YCA6IGZpZWxkLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAuLi5idWlsdFJlbGF0aW9uRmllbGRzLm1hcCgoeyBwYXRoLCBmaWVsZCB9KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogc3FsIGBqc29uKCR7c3FsLmlkZW50aWZpZXIoZmllbGQuZmllbGRBbGlhcyl9KWAsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmVudHJpZXModGFibGVDb25maWcuY29sdW1ucykubWFwKChbdHNLZXksIGNvbHVtbl0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFt0c0tleV0sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBhbGlhc2VkVGFibGVDb2x1bW4oY29sdW1uLCB0YWJsZUFsaWFzKSxcbiAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgLi4uc2VsZWN0ZWRFeHRyYXMubWFwKCh7IGtleSwgdmFsdWUgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgLi4uYnVpbHRSZWxhdGlvbkZpZWxkcy5tYXAoKHsgcGF0aCwgZmllbGQgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHNxbCBgJHtzcWwuaWRlbnRpZmllcih0YWJsZUFsaWFzKX0uJHtzcWwuaWRlbnRpZmllcihmaWVsZC5maWVsZEFsaWFzKX1gLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIGlmIChmaW5hbEZpZWxkc0ZsYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBmaW5hbEZpZWxkc0ZsYXQucHVzaCh7XG4gICAgICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICAgICAgZmllbGQ6IHNxbC5yYXcoJzEnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNSb290ICYmICFjb25maWcubGltaXQgJiYgb3JkZXJCeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmaW5hbEZpZWxkc0ZsYXQucHVzaCh7XG4gICAgICAgICAgICAgICAgcGF0aDogWydfX2RyaXp6bGVfcm93X251bWJlciddLFxuICAgICAgICAgICAgICAgIGZpZWxkOiBzcWwgYHJvd19udW1iZXIoKSBvdmVyKG9yZGVyIGJ5ICR7c3FsLmpvaW4ob3JkZXJCeSwgc3FsIGAsIGApfSlgLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxpbWl0LCBvZmZzZXQ7XG4gICAgICAgIGlmIChjb25maWcubGltaXQgIT09IHVuZGVmaW5lZCB8fCBjb25maWcub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgICAgICBsaW1pdCA9IGNvbmZpZy5saW1pdDtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBjb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluYWxGaWVsZHNGbGF0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBbJ19fZHJpenpsZV9yb3dfbnVtYmVyJ10sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzcWwgYHJvd19udW1iZXIoKSBvdmVyKHBhcnRpdGlvbiBieSAke3JlbGF0aW9uQ29sdW1ucy5tYXAoKGMpID0+IGFsaWFzZWRUYWJsZUNvbHVtbihjLCB0YWJsZUFsaWFzKSl9JHsob3JkZXJCeS5sZW5ndGggPiAwICYmICFpc1Jvb3QpID8gc3FsIGAgb3JkZXIgYnkgJHtzcWwuam9pbihvcmRlckJ5LCBzcWwgYCwgYCl9YCA6IHVuZGVmaW5lZH0pYFxuICAgICAgICAgICAgICAgICAgICAgICAgLmFzKCdfX2RyaXp6bGVfcm93X251bWJlcicpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYnVpbGRTZWxlY3RRdWVyeSh7XG4gICAgICAgICAgICB0YWJsZTogcmVzdWx0ID8gbmV3IFN1YnF1ZXJ5KHJlc3VsdCwge30sIHRhYmxlQWxpYXMpIDogYWxpYXNlZFRhYmxlKHRhYmxlLCB0YWJsZUFsaWFzKSxcbiAgICAgICAgICAgIGZpZWxkczoge30sXG4gICAgICAgICAgICBmaWVsZHNGbGF0OiBmaW5hbEZpZWxkc0ZsYXQsXG4gICAgICAgICAgICB3aGVyZSxcbiAgICAgICAgICAgIGdyb3VwQnk6IFtdLFxuICAgICAgICAgICAgb3JkZXJCeTogaXNSb290ID8gb3JkZXJCeSA6IFtdLFxuICAgICAgICAgICAgam9pbnM6IFtdLFxuICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0YWJsZVRzS2V5OiB0YWJsZUNvbmZpZy50c05hbWUsXG4gICAgICAgICAgICBzcWw6IHJlc3VsdCxcbiAgICAgICAgICAgIHNlbGVjdGlvbjogW1xuICAgICAgICAgICAgICAgIC4uLmZpbmFsRmllbGRzU2VsZWN0aW9uLm1hcCgoeyBwYXRoLCBmaWVsZCB9KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBkYktleTogaXMoZmllbGQsIFNRTC5BbGlhc2VkKSA/IGZpZWxkLmZpZWxkQWxpYXMgOiB0YWJsZUNvbmZpZy5jb2x1bW5zW3BhdGhbMF1dLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRzS2V5OiBwYXRoWzBdLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgdGFibGVUc0tleTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBpc0pzb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFtdLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAuLi5idWlsdFJlbGF0aW9ucy5tYXAoKHsga2V5LCB2YWx1ZSB9KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBkYktleToga2V5LFxuICAgICAgICAgICAgICAgICAgICB0c0tleToga2V5LFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZVRzS2V5OiB2YWx1ZS50YWJsZVRzS2V5LFxuICAgICAgICAgICAgICAgICAgICBpc0pzb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogdmFsdWUuc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxufVxuY2xhc3MgU1FMaXRlU3luY0RpYWxlY3QgZXh0ZW5kcyBTUUxpdGVEaWFsZWN0IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZVN5bmNEaWFsZWN0JztcbiAgICBtaWdyYXRlKG1pZ3JhdGlvbnMsIHNlc3Npb24pIHtcbiAgICAgICAgY29uc3QgbWlncmF0aW9uVGFibGVDcmVhdGUgPSBzcWwgYFxuXHRcdFx0Q1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgXCJfX2RyaXp6bGVfbWlncmF0aW9uc1wiIChcblx0XHRcdFx0aWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuXHRcdFx0XHRoYXNoIHRleHQgTk9UIE5VTEwsXG5cdFx0XHRcdGNyZWF0ZWRfYXQgbnVtZXJpY1xuXHRcdFx0KVxuXHRcdGA7XG4gICAgICAgIHNlc3Npb24ucnVuKG1pZ3JhdGlvblRhYmxlQ3JlYXRlKTtcbiAgICAgICAgY29uc3QgZGJNaWdyYXRpb25zID0gc2Vzc2lvbi52YWx1ZXMoc3FsIGBTRUxFQ1QgaWQsIGhhc2gsIGNyZWF0ZWRfYXQgRlJPTSBcIl9fZHJpenpsZV9taWdyYXRpb25zXCIgT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDIExJTUlUIDFgKTtcbiAgICAgICAgY29uc3QgbGFzdERiTWlncmF0aW9uID0gZGJNaWdyYXRpb25zWzBdID8/IHVuZGVmaW5lZDtcbiAgICAgICAgc2Vzc2lvbi5ydW4oc3FsIGBCRUdJTmApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtaWdyYXRpb24gb2YgbWlncmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICghbGFzdERiTWlncmF0aW9uIHx8IE51bWJlcihsYXN0RGJNaWdyYXRpb25bMl0pIDwgbWlncmF0aW9uLmZvbGRlck1pbGxpcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN0bXQgb2YgbWlncmF0aW9uLnNxbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5ydW4oc3FsLnJhdyhzdG10KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5ydW4oc3FsIGBJTlNFUlQgSU5UTyBcIl9fZHJpenpsZV9taWdyYXRpb25zXCIgKFwiaGFzaFwiLCBcImNyZWF0ZWRfYXRcIikgVkFMVUVTKCR7bWlncmF0aW9uLmhhc2h9LCAke21pZ3JhdGlvbi5mb2xkZXJNaWxsaXN9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlc3Npb24ucnVuKHNxbCBgQ09NTUlUYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHNlc3Npb24ucnVuKHNxbCBgUk9MTEJBQ0tgKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTUUxpdGVBc3luY0RpYWxlY3QgZXh0ZW5kcyBTUUxpdGVEaWFsZWN0IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZUFzeW5jRGlhbGVjdCc7XG4gICAgYXN5bmMgbWlncmF0ZShtaWdyYXRpb25zLCBzZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvblRhYmxlQ3JlYXRlID0gc3FsIGBcblx0XHRcdENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFwiX19kcml6emxlX21pZ3JhdGlvbnNcIiAoXG5cdFx0XHRcdGlkIFNFUklBTCBQUklNQVJZIEtFWSxcblx0XHRcdFx0aGFzaCB0ZXh0IE5PVCBOVUxMLFxuXHRcdFx0XHRjcmVhdGVkX2F0IG51bWVyaWNcblx0XHRcdClcblx0XHRgO1xuICAgICAgICBhd2FpdCBzZXNzaW9uLnJ1bihtaWdyYXRpb25UYWJsZUNyZWF0ZSk7XG4gICAgICAgIGNvbnN0IGRiTWlncmF0aW9ucyA9IGF3YWl0IHNlc3Npb24udmFsdWVzKHNxbCBgU0VMRUNUIGlkLCBoYXNoLCBjcmVhdGVkX2F0IEZST00gXCJfX2RyaXp6bGVfbWlncmF0aW9uc1wiIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQyBMSU1JVCAxYCk7XG4gICAgICAgIGNvbnN0IGxhc3REYk1pZ3JhdGlvbiA9IGRiTWlncmF0aW9uc1swXSA/PyB1bmRlZmluZWQ7XG4gICAgICAgIGF3YWl0IHNlc3Npb24udHJhbnNhY3Rpb24oYXN5bmMgKHR4KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1pZ3JhdGlvbiBvZiBtaWdyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0RGJNaWdyYXRpb24gfHwgTnVtYmVyKGxhc3REYk1pZ3JhdGlvblsyXSkgPCBtaWdyYXRpb24uZm9sZGVyTWlsbGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3RtdCBvZiBtaWdyYXRpb24uc3FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0eC5ydW4oc3FsLnJhdyhzdG10KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdHgucnVuKHNxbCBgSU5TRVJUIElOVE8gXCJfX2RyaXp6bGVfbWlncmF0aW9uc1wiIChcImhhc2hcIiwgXCJjcmVhdGVkX2F0XCIpIFZBTFVFUygke21pZ3JhdGlvbi5oYXNofSwgJHttaWdyYXRpb24uZm9sZGVyTWlsbGlzfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgU1FMaXRlU2VsZWN0QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVTZWxlY3RCdWlsZGVyJztcbiAgICBmaWVsZHM7XG4gICAgc2Vzc2lvbjtcbiAgICBkaWFsZWN0O1xuICAgIHdpdGhMaXN0O1xuICAgIGRpc3RpbmN0O1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLmZpZWxkcyA9IGNvbmZpZy5maWVsZHM7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IGNvbmZpZy5zZXNzaW9uO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBjb25maWcuZGlhbGVjdDtcbiAgICAgICAgdGhpcy53aXRoTGlzdCA9IGNvbmZpZy53aXRoTGlzdDtcbiAgICAgICAgdGhpcy5kaXN0aW5jdCA9IGNvbmZpZy5kaXN0aW5jdDtcbiAgICB9XG4gICAgZnJvbShzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgaXNQYXJ0aWFsU2VsZWN0ID0gISF0aGlzLmZpZWxkcztcbiAgICAgICAgbGV0IGZpZWxkcztcbiAgICAgICAgaWYgKHRoaXMuZmllbGRzKSB7XG4gICAgICAgICAgICBmaWVsZHMgPSB0aGlzLmZpZWxkcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhzb3VyY2UsIFN1YnF1ZXJ5KSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyByZXF1aXJlZCB0byB1c2UgdGhlIHByb3h5IGhhbmRsZXIgdG8gZ2V0IHRoZSBjb3JyZWN0IGZpZWxkIHZhbHVlcyBmcm9tIHRoZSBzdWJxdWVyeVxuICAgICAgICAgICAgZmllbGRzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKHNvdXJjZVtTdWJxdWVyeUNvbmZpZ10uc2VsZWN0aW9uKS5tYXAoKGtleSkgPT4gW2tleSwgc291cmNlW2tleV1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXMoc291cmNlLCBTUUxpdGVWaWV3QmFzZSkpIHtcbiAgICAgICAgICAgIGZpZWxkcyA9IHNvdXJjZVtWaWV3QmFzZUNvbmZpZ10uc2VsZWN0ZWRGaWVsZHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXMoc291cmNlLCBTUUwpKSB7XG4gICAgICAgICAgICBmaWVsZHMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkcyA9IGdldFRhYmxlQ29sdW1ucyhzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU1FMaXRlU2VsZWN0KHtcbiAgICAgICAgICAgIHRhYmxlOiBzb3VyY2UsXG4gICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICBpc1BhcnRpYWxTZWxlY3QsXG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG4gICAgICAgICAgICBkaWFsZWN0OiB0aGlzLmRpYWxlY3QsXG4gICAgICAgICAgICB3aXRoTGlzdDogdGhpcy53aXRoTGlzdCxcbiAgICAgICAgICAgIGRpc3RpbmN0OiB0aGlzLmRpc3RpbmN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVTZWxlY3RRdWVyeUJ1aWxkZXIgZXh0ZW5kcyBUeXBlZFF1ZXJ5QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVTZWxlY3RRdWVyeUJ1aWxkZXInO1xuICAgIF87XG4gICAgY29uZmlnO1xuICAgIGpvaW5zTm90TnVsbGFibGVNYXA7XG4gICAgdGFibGVOYW1lO1xuICAgIGlzUGFydGlhbFNlbGVjdDtcbiAgICBzZXNzaW9uO1xuICAgIGRpYWxlY3Q7XG4gICAgY29uc3RydWN0b3IoeyB0YWJsZSwgZmllbGRzLCBpc1BhcnRpYWxTZWxlY3QsIHNlc3Npb24sIGRpYWxlY3QsIHdpdGhMaXN0LCBkaXN0aW5jdCB9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgd2l0aExpc3QsXG4gICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgIGZpZWxkczogeyAuLi5maWVsZHMgfSxcbiAgICAgICAgICAgIGpvaW5zOiBbXSxcbiAgICAgICAgICAgIG9yZGVyQnk6IFtdLFxuICAgICAgICAgICAgZ3JvdXBCeTogW10sXG4gICAgICAgICAgICBkaXN0aW5jdCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pc1BhcnRpYWxTZWxlY3QgPSBpc1BhcnRpYWxTZWxlY3Q7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgICAgIHRoaXMuXyA9IHtcbiAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiBmaWVsZHMsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudGFibGVOYW1lID0gZ2V0VGFibGVMaWtlTmFtZSh0YWJsZSk7XG4gICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCA9IHR5cGVvZiB0aGlzLnRhYmxlTmFtZSA9PT0gJ3N0cmluZycgPyB7IFt0aGlzLnRhYmxlTmFtZV06IHRydWUgfSA6IHt9O1xuICAgIH1cbiAgICBjcmVhdGVKb2luKGpvaW5UeXBlKSB7XG4gICAgICAgIHJldHVybiAodGFibGUsIG9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGFibGVOYW1lID0gdGhpcy50YWJsZU5hbWU7XG4gICAgICAgICAgICBjb25zdCB0YWJsZU5hbWUgPSBnZXRUYWJsZUxpa2VOYW1lKHRhYmxlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFibGVOYW1lID09PSAnc3RyaW5nJyAmJiB0aGlzLmNvbmZpZy5qb2lucy5zb21lKChqb2luKSA9PiBqb2luLmFsaWFzID09PSB0YWJsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbGlhcyBcIiR7dGFibGVOYW1lfVwiIGlzIGFscmVhZHkgdXNlZCBpbiB0aGlzIHF1ZXJ5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNQYXJ0aWFsU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3Qgam9pbiBhbmQgdGhpcyBpcyBub3QgYSBwYXJ0aWFsIHNlbGVjdCBhbmQgd2UncmUgbm90IHNlbGVjdGluZyBmcm9tIHJhdyBTUUwsIFwibW92ZVwiIHRoZSBmaWVsZHMgZnJvbSB0aGUgbWFpbiB0YWJsZSB0byB0aGUgbmVzdGVkIG9iamVjdFxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmpvaW5zTm90TnVsbGFibGVNYXApLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYmFzZVRhYmxlTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcuZmllbGRzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgW2Jhc2VUYWJsZU5hbWVdOiB0aGlzLmNvbmZpZy5maWVsZHMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFibGVOYW1lID09PSAnc3RyaW5nJyAmJiAhaXModGFibGUsIFNRTCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gaXModGFibGUsIFN1YnF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0YWJsZVtTdWJxdWVyeUNvbmZpZ10uc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlzKHRhYmxlLCBWaWV3KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFibGVbVmlld0Jhc2VDb25maWddLnNlbGVjdGVkRmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmZpZWxkc1t0YWJsZU5hbWVdID0gc2VsZWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvbiA9IG9uKG5ldyBQcm94eSh0aGlzLmNvbmZpZy5maWVsZHMsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdzcWwnLCBzcWxCZWhhdmlvcjogJ3NxbCcgfSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmpvaW5zLnB1c2goeyBvbiwgdGFibGUsIGpvaW5UeXBlLCBhbGlhczogdGFibGVOYW1lIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YWJsZU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChqb2luVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCkubWFwKChba2V5XSkgPT4gW2tleSwgZmFsc2VdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXBbdGFibGVOYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbm5lcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcFt0YWJsZU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bGwnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXAgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGhpcy5qb2luc05vdE51bGxhYmxlTWFwKS5tYXAoKFtrZXldKSA9PiBba2V5LCBmYWxzZV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcFt0YWJsZU5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBsZWZ0Sm9pbiA9IHRoaXMuY3JlYXRlSm9pbignbGVmdCcpO1xuICAgIHJpZ2h0Sm9pbiA9IHRoaXMuY3JlYXRlSm9pbigncmlnaHQnKTtcbiAgICBpbm5lckpvaW4gPSB0aGlzLmNyZWF0ZUpvaW4oJ2lubmVyJyk7XG4gICAgZnVsbEpvaW4gPSB0aGlzLmNyZWF0ZUpvaW4oJ2Z1bGwnKTtcbiAgICB3aGVyZSh3aGVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHdoZXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB3aGVyZSA9IHdoZXJlKG5ldyBQcm94eSh0aGlzLmNvbmZpZy5maWVsZHMsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdzcWwnLCBzcWxCZWhhdmlvcjogJ3NxbCcgfSkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbmZpZy53aGVyZSA9IHdoZXJlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaGF2aW5nKGhhdmluZykge1xuICAgICAgICBpZiAodHlwZW9mIGhhdmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaGF2aW5nID0gaGF2aW5nKG5ldyBQcm94eSh0aGlzLmNvbmZpZy5maWVsZHMsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdzcWwnLCBzcWxCZWhhdmlvcjogJ3NxbCcgfSkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbmZpZy5oYXZpbmcgPSBoYXZpbmc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBncm91cEJ5KC4uLmNvbHVtbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2x1bW5zWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBncm91cEJ5ID0gY29sdW1uc1swXShuZXcgUHJveHkodGhpcy5jb25maWcuZmllbGRzLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLCBzcWxCZWhhdmlvcjogJ3NxbCcgfSkpKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmdyb3VwQnkgPSBBcnJheS5pc0FycmF5KGdyb3VwQnkpID8gZ3JvdXBCeSA6IFtncm91cEJ5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmdyb3VwQnkgPSBjb2x1bW5zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBvcmRlckJ5KC4uLmNvbHVtbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2x1bW5zWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBvcmRlckJ5ID0gY29sdW1uc1swXShuZXcgUHJveHkodGhpcy5jb25maWcuZmllbGRzLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLCBzcWxCZWhhdmlvcjogJ3NxbCcgfSkpKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm9yZGVyQnkgPSBBcnJheS5pc0FycmF5KG9yZGVyQnkpID8gb3JkZXJCeSA6IFtvcmRlckJ5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm9yZGVyQnkgPSBjb2x1bW5zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsaW1pdChsaW1pdCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5saW1pdCA9IGxpbWl0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb2Zmc2V0KG9mZnNldCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZ2V0U1FMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaWFsZWN0LmJ1aWxkU2VsZWN0UXVlcnkodGhpcy5jb25maWcpO1xuICAgIH1cbiAgICB0b1NRTCgpIHtcbiAgICAgICAgY29uc3QgeyB0eXBpbmdzOiBfdHlwaW5ncywgLi4ucmVzdCB9ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSk7XG4gICAgICAgIHJldHVybiByZXN0O1xuICAgIH1cbiAgICBhcyhhbGlhcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG5ldyBTdWJxdWVyeSh0aGlzLmdldFNRTCgpLCB0aGlzLmNvbmZpZy5maWVsZHMsIGFsaWFzKSwgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IGFsaWFzLCBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnZXJyb3InIH0pKTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0ZWRGaWVsZHMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodGhpcy5jb25maWcuZmllbGRzLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgYWxpYXM6IHRoaXMudGFibGVOYW1lLCBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnZXJyb3InIH0pKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVTZWxlY3QgZXh0ZW5kcyBTUUxpdGVTZWxlY3RRdWVyeUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlU2VsZWN0JztcbiAgICBwcmVwYXJlKGlzT25lVGltZVF1ZXJ5KSB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBleGVjdXRlIGEgcXVlcnkgb24gYSBxdWVyeSBidWlsZGVyLiBQbGVhc2UgdXNlIGEgZGF0YWJhc2UgaW5zdGFuY2UgaW5zdGVhZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWVsZHNMaXN0ID0gb3JkZXJTZWxlY3RlZEZpZWxkcyh0aGlzLmNvbmZpZy5maWVsZHMpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHRoaXMuc2Vzc2lvbltpc09uZVRpbWVRdWVyeSA/ICdwcmVwYXJlT25lVGltZVF1ZXJ5JyA6ICdwcmVwYXJlUXVlcnknXSh0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSwgZmllbGRzTGlzdCk7XG4gICAgICAgIHF1ZXJ5LmpvaW5zTm90TnVsbGFibGVNYXAgPSB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXA7XG4gICAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9XG4gICAgcnVuID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmUodHJ1ZSkucnVuKHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICB9O1xuICAgIGFsbCA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlKHRydWUpLmFsbChwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgfTtcbiAgICBnZXQgPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSh0cnVlKS5nZXQocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgIH07XG4gICAgdmFsdWVzID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmUodHJ1ZSkudmFsdWVzKHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICB9O1xufVxuXG5jbGFzcyBRdWVyeUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlUXVlcnlCdWlsZGVyJztcbiAgICBkaWFsZWN0O1xuICAgICR3aXRoKGFsaWFzKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5QnVpbGRlciA9IHRoaXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcyhxYikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcWIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcWIgPSBxYihxdWVyeUJ1aWxkZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KG5ldyBXaXRoU3VicXVlcnkocWIuZ2V0U1FMKCksIHFiLmdldFNlbGVjdGVkRmllbGRzKCksIGFsaWFzLCB0cnVlKSwgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IGFsaWFzLCBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnZXJyb3InIH0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHdpdGgoLi4ucXVlcmllcykge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0KGZpZWxkcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVTZWxlY3RCdWlsZGVyKHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGRpYWxlY3Q6IHNlbGYuZ2V0RGlhbGVjdCgpLFxuICAgICAgICAgICAgICAgIHdpdGhMaXN0OiBxdWVyaWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0RGlzdGluY3QoZmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZVNlbGVjdEJ1aWxkZXIoe1xuICAgICAgICAgICAgICAgIGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZGlhbGVjdDogc2VsZi5nZXREaWFsZWN0KCksXG4gICAgICAgICAgICAgICAgd2l0aExpc3Q6IHF1ZXJpZXMsXG4gICAgICAgICAgICAgICAgZGlzdGluY3Q6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzZWxlY3QsIHNlbGVjdERpc3RpbmN0IH07XG4gICAgfVxuICAgIHNlbGVjdChmaWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVTZWxlY3RCdWlsZGVyKHsgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLCBzZXNzaW9uOiB1bmRlZmluZWQsIGRpYWxlY3Q6IHRoaXMuZ2V0RGlhbGVjdCgpIH0pO1xuICAgIH1cbiAgICBzZWxlY3REaXN0aW5jdChmaWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVTZWxlY3RCdWlsZGVyKHtcbiAgICAgICAgICAgIGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNlc3Npb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRpYWxlY3Q6IHRoaXMuZ2V0RGlhbGVjdCgpLFxuICAgICAgICAgICAgZGlzdGluY3Q6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBMYXp5IGxvYWQgZGlhbGVjdCB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5XG4gICAgZ2V0RGlhbGVjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuZGlhbGVjdCA9IG5ldyBTUUxpdGVTeW5jRGlhbGVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRpYWxlY3Q7XG4gICAgfVxufVxuXG5jbGFzcyBTUUxpdGVVcGRhdGVCdWlsZGVyIHtcbiAgICB0YWJsZTtcbiAgICBzZXNzaW9uO1xuICAgIGRpYWxlY3Q7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVVcGRhdGVCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgc2Vzc2lvbiwgZGlhbGVjdCkge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgfVxuICAgIHNldCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVVcGRhdGUodGhpcy50YWJsZSwgbWFwVXBkYXRlU2V0KHRoaXMudGFibGUsIHZhbHVlcyksIHRoaXMuc2Vzc2lvbiwgdGhpcy5kaWFsZWN0KTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVVcGRhdGUge1xuICAgIHNlc3Npb247XG4gICAgZGlhbGVjdDtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZVVwZGF0ZSc7XG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBzZXQsIHNlc3Npb24sIGRpYWxlY3QpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gZGlhbGVjdDtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7IHNldCwgdGFibGUgfTtcbiAgICB9XG4gICAgd2hlcmUod2hlcmUpIHtcbiAgICAgICAgdGhpcy5jb25maWcud2hlcmUgPSB3aGVyZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybmluZyhmaWVsZHMgPSB0aGlzLmNvbmZpZy50YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuQ29sdW1uc10pIHtcbiAgICAgICAgdGhpcy5jb25maWcucmV0dXJuaW5nID0gb3JkZXJTZWxlY3RlZEZpZWxkcyhmaWVsZHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGdldFNRTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlhbGVjdC5idWlsZFVwZGF0ZVF1ZXJ5KHRoaXMuY29uZmlnKTtcbiAgICB9XG4gICAgdG9TUUwoKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwaW5nczogX3R5cGluZ3MsIC4uLnJlc3QgfSA9IHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHRoaXMuZ2V0U1FMKCkpO1xuICAgICAgICByZXR1cm4gcmVzdDtcbiAgICB9XG4gICAgcHJlcGFyZShpc09uZVRpbWVRdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uW2lzT25lVGltZVF1ZXJ5ID8gJ3ByZXBhcmVPbmVUaW1lUXVlcnknIDogJ3ByZXBhcmVRdWVyeSddKHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHRoaXMuZ2V0U1FMKCkpLCB0aGlzLmNvbmZpZy5yZXR1cm5pbmcpO1xuICAgIH1cbiAgICBydW4gPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSh0cnVlKS5ydW4ocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgIH07XG4gICAgYWxsID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmUodHJ1ZSkuYWxsKHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICB9O1xuICAgIGdldCA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlKHRydWUpLmdldChwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgfTtcbiAgICB2YWx1ZXMgPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSh0cnVlKS52YWx1ZXMocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgIH07XG59XG5cbmNsYXNzIEFzeW5jUmVsYXRpb25hbFF1ZXJ5QnVpbGRlciB7XG4gICAgZnVsbFNjaGVtYTtcbiAgICBzY2hlbWE7XG4gICAgdGFibGVOYW1lc01hcDtcbiAgICB0YWJsZTtcbiAgICB0YWJsZUNvbmZpZztcbiAgICBkaWFsZWN0O1xuICAgIHNlc3Npb247XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVBc3luY1JlbGF0aW9uYWxRdWVyeUJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKGZ1bGxTY2hlbWEsIHNjaGVtYSwgdGFibGVOYW1lc01hcCwgdGFibGUsIHRhYmxlQ29uZmlnLCBkaWFsZWN0LCBzZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuZnVsbFNjaGVtYSA9IGZ1bGxTY2hlbWE7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgICAgICB0aGlzLnRhYmxlTmFtZXNNYXAgPSB0YWJsZU5hbWVzTWFwO1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMudGFibGVDb25maWcgPSB0YWJsZUNvbmZpZztcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gZGlhbGVjdDtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB9XG4gICAgZmluZE1hbnkoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMaXRlUmVsYXRpb25hbFF1ZXJ5KHRoaXMuZnVsbFNjaGVtYSwgdGhpcy5zY2hlbWEsIHRoaXMudGFibGVOYW1lc01hcCwgdGhpcy50YWJsZSwgdGhpcy50YWJsZUNvbmZpZywgdGhpcy5kaWFsZWN0LCB0aGlzLnNlc3Npb24sIGNvbmZpZyA/IGNvbmZpZyA6IHt9LCAnbWFueScpO1xuICAgIH1cbiAgICBmaW5kRmlyc3QoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMaXRlUmVsYXRpb25hbFF1ZXJ5KHRoaXMuZnVsbFNjaGVtYSwgdGhpcy5zY2hlbWEsIHRoaXMudGFibGVOYW1lc01hcCwgdGhpcy50YWJsZSwgdGhpcy50YWJsZUNvbmZpZywgdGhpcy5kaWFsZWN0LCB0aGlzLnNlc3Npb24sIGNvbmZpZyA/IHsgLi4uY29uZmlnLCBsaW1pdDogMSB9IDogeyBsaW1pdDogMSB9LCAnZmlyc3QnKTtcbiAgICB9XG59XG5jbGFzcyBTeW5jUmVsYXRpb25hbFF1ZXJ5QnVpbGRlciB7XG4gICAgZnVsbFNjaGVtYTtcbiAgICBzY2hlbWE7XG4gICAgdGFibGVOYW1lc01hcDtcbiAgICB0YWJsZTtcbiAgICB0YWJsZUNvbmZpZztcbiAgICBkaWFsZWN0O1xuICAgIHNlc3Npb247XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVTeW5jUmVsYXRpb25hbFF1ZXJ5QnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IoZnVsbFNjaGVtYSwgc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCB0YWJsZSwgdGFibGVDb25maWcsIGRpYWxlY3QsIHNlc3Npb24pIHtcbiAgICAgICAgdGhpcy5mdWxsU2NoZW1hID0gZnVsbFNjaGVtYTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMudGFibGVOYW1lc01hcCA9IHRhYmxlTmFtZXNNYXA7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy50YWJsZUNvbmZpZyA9IHRhYmxlQ29uZmlnO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIH1cbiAgICBwcmVwYXJlRmluZE1hbnkoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFNRTGl0ZVJlbGF0aW9uYWxRdWVyeSh0aGlzLmZ1bGxTY2hlbWEsIHRoaXMuc2NoZW1hLCB0aGlzLnRhYmxlTmFtZXNNYXAsIHRoaXMudGFibGUsIHRoaXMudGFibGVDb25maWcsIHRoaXMuZGlhbGVjdCwgdGhpcy5zZXNzaW9uLCBjb25maWcgPyBjb25maWcgOiB7fSwgJ21hbnknKS5wcmVwYXJlKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBleGVjdXRlOiBxdWVyeS5hbGwuYmluZChxdWVyeSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZpbmRNYW55KGNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlRmluZE1hbnkoY29uZmlnKS5leGVjdXRlKCk7XG4gICAgfVxuICAgIHByZXBhcmVGaW5kRmlyc3QoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFNRTGl0ZVJlbGF0aW9uYWxRdWVyeSh0aGlzLmZ1bGxTY2hlbWEsIHRoaXMuc2NoZW1hLCB0aGlzLnRhYmxlTmFtZXNNYXAsIHRoaXMudGFibGUsIHRoaXMudGFibGVDb25maWcsIHRoaXMuZGlhbGVjdCwgdGhpcy5zZXNzaW9uLCBjb25maWcgPyB7IC4uLmNvbmZpZywgbGltaXQ6IDEgfSA6IHsgbGltaXQ6IDEgfSwgJ2ZpcnN0JykucHJlcGFyZSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXhlY3V0ZTogcXVlcnkuZ2V0LmJpbmQocXVlcnkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmaW5kRmlyc3QoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmVGaW5kRmlyc3QoY29uZmlnKS5leGVjdXRlKCk7XG4gICAgfVxufVxuY2xhc3MgU1FMaXRlUmVsYXRpb25hbFF1ZXJ5IHtcbiAgICBmdWxsU2NoZW1hO1xuICAgIHNjaGVtYTtcbiAgICB0YWJsZU5hbWVzTWFwO1xuICAgIHRhYmxlO1xuICAgIHRhYmxlQ29uZmlnO1xuICAgIGRpYWxlY3Q7XG4gICAgc2Vzc2lvbjtcbiAgICBjb25maWc7XG4gICAgbW9kZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZVJlbGF0aW9uYWxRdWVyeSc7XG4gICAgY29uc3RydWN0b3IoZnVsbFNjaGVtYSwgc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCB0YWJsZSwgdGFibGVDb25maWcsIGRpYWxlY3QsIHNlc3Npb24sIGNvbmZpZywgbW9kZSkge1xuICAgICAgICB0aGlzLmZ1bGxTY2hlbWEgPSBmdWxsU2NoZW1hO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy50YWJsZU5hbWVzTWFwID0gdGFibGVOYW1lc01hcDtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgICAgICB0aGlzLnRhYmxlQ29uZmlnID0gdGFibGVDb25maWc7XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgIH1cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBjb25zdCBxdWVyeSA9IHRoaXMuZGlhbGVjdC5idWlsZFJlbGF0aW9uYWxRdWVyeSh0aGlzLmZ1bGxTY2hlbWEsIHRoaXMuc2NoZW1hLCB0aGlzLnRhYmxlTmFtZXNNYXAsIHRoaXMudGFibGUsIHRoaXMudGFibGVDb25maWcsIHRoaXMuY29uZmlnLCB0aGlzLnRhYmxlQ29uZmlnLnRzTmFtZSwgW10sIHRydWUpO1xuICAgICAgICBjb25zdCBidWlsdFF1ZXJ5ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkocXVlcnkuc3FsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5wcmVwYXJlUXVlcnkoYnVpbHRRdWVyeSwgdW5kZWZpbmVkLCAocmF3Um93cywgbWFwQ29sdW1uVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSByYXdSb3dzLm1hcCgocm93KSA9PiBtYXBSZWxhdGlvbmFsUm93KHRoaXMuc2NoZW1hLCB0aGlzLnRhYmxlQ29uZmlnLCByb3csIHF1ZXJ5LnNlbGVjdGlvbiwgbWFwQ29sdW1uVmFsdWUpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdmaXJzdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93c1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByb3dzO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZXhlY3V0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2ZpcnN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSgpLmdldCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmUoKS5hbGwoKTtcbiAgICB9XG59XG5hcHBseU1peGlucyhTUUxpdGVSZWxhdGlvbmFsUXVlcnksIFtRdWVyeVByb21pc2VdKTtcblxuY2xhc3MgQmFzZVNRTGl0ZURhdGFiYXNlIHtcbiAgICBkaWFsZWN0O1xuICAgIHNlc3Npb247XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdCYXNlU1FMaXRlRGF0YWJhc2UnO1xuICAgIHF1ZXJ5O1xuICAgIGNvbnN0cnVjdG9yKHJlc3VsdEtpbmQsIFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBkaWFsZWN0LCBcbiAgICAvKiogQGludGVybmFsICovXG4gICAgc2Vzc2lvbiwgc2NoZW1hKSB7XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMuXyA9IHNjaGVtYVxuICAgICAgICAgICAgPyB7IHNjaGVtYTogc2NoZW1hLnNjaGVtYSwgdGFibGVOYW1lc01hcDogc2NoZW1hLnRhYmxlTmFtZXNNYXAgfVxuICAgICAgICAgICAgOiB7IHNjaGVtYTogdW5kZWZpbmVkLCB0YWJsZU5hbWVzTWFwOiB7fSB9O1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICAgIGlmICh0aGlzLl8uc2NoZW1hKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFt0YWJsZU5hbWUsIGNvbHVtbnNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuXy5zY2hlbWEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyeVt0YWJsZU5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgbmV3IChyZXN1bHRLaW5kID09PSAnYXN5bmMnID8gQXN5bmNSZWxhdGlvbmFsUXVlcnlCdWlsZGVyIDogU3luY1JlbGF0aW9uYWxRdWVyeUJ1aWxkZXIpKHNjaGVtYS5mdWxsU2NoZW1hLCB0aGlzLl8uc2NoZW1hLCB0aGlzLl8udGFibGVOYW1lc01hcCwgc2NoZW1hLmZ1bGxTY2hlbWFbdGFibGVOYW1lXSwgY29sdW1ucywgZGlhbGVjdCwgc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgJHdpdGgoYWxpYXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzKHFiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBxYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBxYiA9IHFiKG5ldyBRdWVyeUJ1aWxkZXIoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFdpdGhTdWJxdWVyeShxYi5nZXRTUUwoKSwgcWIuZ2V0U2VsZWN0ZWRGaWVsZHMoKSwgYWxpYXMsIHRydWUpLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgYWxpYXMsIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJywgc3FsQmVoYXZpb3I6ICdlcnJvcicgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgd2l0aCguLi5xdWVyaWVzKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBmdW5jdGlvbiBzZWxlY3QoZmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZVNlbGVjdEJ1aWxkZXIoe1xuICAgICAgICAgICAgICAgIGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiBzZWxmLnNlc3Npb24sXG4gICAgICAgICAgICAgICAgZGlhbGVjdDogc2VsZi5kaWFsZWN0LFxuICAgICAgICAgICAgICAgIHdpdGhMaXN0OiBxdWVyaWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0RGlzdGluY3QoZmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZVNlbGVjdEJ1aWxkZXIoe1xuICAgICAgICAgICAgICAgIGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiBzZWxmLnNlc3Npb24sXG4gICAgICAgICAgICAgICAgZGlhbGVjdDogc2VsZi5kaWFsZWN0LFxuICAgICAgICAgICAgICAgIHdpdGhMaXN0OiBxdWVyaWVzLFxuICAgICAgICAgICAgICAgIGRpc3RpbmN0OiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc2VsZWN0LCBzZWxlY3REaXN0aW5jdCB9O1xuICAgIH1cbiAgICBzZWxlY3QoZmllbGRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMaXRlU2VsZWN0QnVpbGRlcih7IGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCwgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLCBkaWFsZWN0OiB0aGlzLmRpYWxlY3QgfSk7XG4gICAgfVxuICAgIHNlbGVjdERpc3RpbmN0KGZpZWxkcykge1xuICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZVNlbGVjdEJ1aWxkZXIoe1xuICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLFxuICAgICAgICAgICAgZGlhbGVjdDogdGhpcy5kaWFsZWN0LFxuICAgICAgICAgICAgZGlzdGluY3Q6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGUodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVVcGRhdGVCdWlsZGVyKHRhYmxlLCB0aGlzLnNlc3Npb24sIHRoaXMuZGlhbGVjdCk7XG4gICAgfVxuICAgIGluc2VydChpbnRvKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMaXRlSW5zZXJ0QnVpbGRlcihpbnRvLCB0aGlzLnNlc3Npb24sIHRoaXMuZGlhbGVjdCk7XG4gICAgfVxuICAgIGRlbGV0ZShmcm9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMaXRlRGVsZXRlKGZyb20sIHRoaXMuc2Vzc2lvbiwgdGhpcy5kaWFsZWN0KTtcbiAgICB9XG4gICAgcnVuKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24ucnVuKHF1ZXJ5LmdldFNRTCgpKTtcbiAgICB9XG4gICAgYWxsKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uYWxsKHF1ZXJ5LmdldFNRTCgpKTtcbiAgICB9XG4gICAgZ2V0KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0KHF1ZXJ5LmdldFNRTCgpKTtcbiAgICB9XG4gICAgdmFsdWVzKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24udmFsdWVzKHF1ZXJ5LmdldFNRTCgpKTtcbiAgICB9XG4gICAgdHJhbnNhY3Rpb24odHJhbnNhY3Rpb24sIGNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLnRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uLCBjb25maWcpO1xuICAgIH1cbn1cblxubGV0IFByZXBhcmVkUXVlcnkkMSA9IGNsYXNzIFByZXBhcmVkUXVlcnkge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUHJlcGFyZWRRdWVyeSc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGpvaW5zTm90TnVsbGFibGVNYXA7XG59O1xuY2xhc3MgU1FMaXRlU2Vzc2lvbiB7XG4gICAgZGlhbGVjdDtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZVNlc3Npb24nO1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBkaWFsZWN0KSB7XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgfVxuICAgIHByZXBhcmVPbmVUaW1lUXVlcnkocXVlcnksIGZpZWxkcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlUXVlcnkocXVlcnksIGZpZWxkcyk7XG4gICAgfVxuICAgIHJ1bihxdWVyeSkge1xuICAgICAgICBjb25zdCBzdGF0aWNRdWVyeSA9IHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHF1ZXJ5KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXBhcmVPbmVUaW1lUXVlcnkoc3RhdGljUXVlcnksIHVuZGVmaW5lZCkucnVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgRHJpenpsZUVycm9yLndyYXAoZXJyLCBgRmFpbGVkIHRvIHJ1biB0aGUgcXVlcnkgJyR7c3RhdGljUXVlcnkuc3FsfSdgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhbGwocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZU9uZVRpbWVRdWVyeSh0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeShxdWVyeSksIHVuZGVmaW5lZCkuYWxsKCk7XG4gICAgfVxuICAgIGdldChxdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlT25lVGltZVF1ZXJ5KHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHF1ZXJ5KSwgdW5kZWZpbmVkKS5nZXQoKTtcbiAgICB9XG4gICAgdmFsdWVzKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmVPbmVUaW1lUXVlcnkodGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkocXVlcnkpLCB1bmRlZmluZWQpLnZhbHVlcygpO1xuICAgIH1cbn1cbmNsYXNzIFNRTGl0ZVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVNRTGl0ZURhdGFiYXNlIHtcbiAgICBzY2hlbWE7XG4gICAgbmVzdGVkSW5kZXg7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVUcmFuc2FjdGlvbic7XG4gICAgY29uc3RydWN0b3IocmVzdWx0VHlwZSwgZGlhbGVjdCwgc2Vzc2lvbiwgc2NoZW1hLCBuZXN0ZWRJbmRleCA9IDApIHtcbiAgICAgICAgc3VwZXIocmVzdWx0VHlwZSwgZGlhbGVjdCwgc2Vzc2lvbiwgc2NoZW1hKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMubmVzdGVkSW5kZXggPSBuZXN0ZWRJbmRleDtcbiAgICB9XG4gICAgcm9sbGJhY2soKSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc2FjdGlvblJvbGxiYWNrRXJyb3IoKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEJhc2VTUUxpdGVEYXRhYmFzZSBhcyBCLCBJbmxpbmVGb3JlaWduS2V5cyBhcyBJLCBNYW51YWxWaWV3QnVpbGRlciBhcyBNLCBQcmVwYXJlZFF1ZXJ5JDEgYXMgUCwgUXVlcnlCdWlsZGVyIGFzIFEsIFNRTGl0ZVNlc3Npb24gYXMgUywgVmlld0J1aWxkZXJDb3JlIGFzIFYsIFNRTGl0ZVRyYW5zYWN0aW9uIGFzIGEsIFNRTGl0ZVN5bmNEaWFsZWN0IGFzIGIsIFNRTGl0ZUFzeW5jRGlhbGVjdCBhcyBjLCBTUUxpdGVUYWJsZSBhcyBkLCBTUUxpdGVWaWV3Q29uZmlnIGFzIGUsIFNRTGl0ZURpYWxlY3QgYXMgZiwgU1FMaXRlRGVsZXRlIGFzIGcsIFNRTGl0ZUluc2VydEJ1aWxkZXIgYXMgaCwgU1FMaXRlSW5zZXJ0IGFzIGksIFNRTGl0ZVNlbGVjdEJ1aWxkZXIgYXMgaiwgU1FMaXRlU2VsZWN0UXVlcnlCdWlsZGVyIGFzIGssIFNRTGl0ZVNlbGVjdCBhcyBsLCBTUUxpdGVVcGRhdGVCdWlsZGVyIGFzIG0sIFNRTGl0ZVVwZGF0ZSBhcyBuLCBzcWxpdGVUYWJsZUNyZWF0b3IgYXMgbywgVmlld0J1aWxkZXIgYXMgcCwgU1FMaXRlVmlld0Jhc2UgYXMgcSwgU1FMaXRlVmlldyBhcyByLCBzcWxpdGVUYWJsZSBhcyBzLCBzcWxpdGVWaWV3IGFzIHQsIHZpZXcgYXMgdiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbi04MzAyODU1Yy5tanMubWFwXG4iXSwibmFtZXMiOlsiVCIsIlRhYmxlIiwiZSIsImVudGl0eUtpbmQiLCJvIiwib3JkZXJTZWxlY3RlZEZpZWxkcyIsImkiLCJpcyIsIlMiLCJTUUwiLCJiIiwiUGFyYW0iLCJzIiwic3FsIiwiZCIsIm1hcFVwZGF0ZVNldCIsImoiLCJTZWxlY3Rpb25Qcm94eUhhbmRsZXIiLCJsIiwiZ2V0VGFibGVDb2x1bW5zIiwiViIsIlZpZXciLCJuIiwibmFtZSIsIkMiLCJDb2x1bW4iLCJwIiwiZ2V0VGFibGVOYW1lIiwicSIsIlN1YnF1ZXJ5IiwiciIsIlN1YnF1ZXJ5Q29uZmlnIiwidSIsIlZpZXdCYXNlQ29uZmlnIiwidiIsInBhcmFtIiwidyIsImFsaWFzZWRUYWJsZUNvbHVtbiIsIngiLCJhbGlhc2VkUmVsYXRpb24iLCJ5IiwibWFwQ29sdW1uc0luQWxpYXNlZFNRTFRvQWxpYXMiLCJ6Iiwib3BlcmF0b3JzIiwiQSIsIm1hcENvbHVtbnNJblNRTFRvQWxpYXMiLCJCIiwib3JkZXJCeU9wZXJhdG9ycyIsIlIiLCJSZWxhdGlvbiIsIkQiLCJub3JtYWxpemVSZWxhdGlvbiIsIkUiLCJhbmQiLCJGIiwib3IiLCJHIiwiYWxpYXNlZFRhYmxlIiwiSCIsImVxIiwiSSIsIlR5cGVkUXVlcnlCdWlsZGVyIiwiSiIsImdldFRhYmxlTGlrZU5hbWUiLCJXIiwiV2l0aFN1YnF1ZXJ5IiwiSyIsImFwcGx5TWl4aW5zIiwiUSIsIlF1ZXJ5UHJvbWlzZSIsImciLCJtYXBSZWxhdGlvbmFsUm93IiwiRHJpenpsZUVycm9yIiwiVHJhbnNhY3Rpb25Sb2xsYmFja0Vycm9yIiwiSW5saW5lRm9yZWlnbktleXMiLCJTeW1ib2wiLCJmb3IiLCJTUUxpdGVUYWJsZSIsIkNvbHVtbnMiLCJFeHRyYUNvbmZpZ0J1aWxkZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJ1bmRlZmluZWQiLCJzcWxpdGVUYWJsZUJhc2UiLCJjb2x1bW5zIiwiZXh0cmFDb25maWciLCJzY2hlbWEiLCJiYXNlTmFtZSIsInJhd1RhYmxlIiwiYnVpbHRDb2x1bW5zIiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwiY29sQnVpbGRlciIsImNvbHVtbiIsImJ1aWxkIiwicHVzaCIsImJ1aWxkRm9yZWlnbktleXMiLCJ0YWJsZSIsInNxbGl0ZVRhYmxlIiwic3FsaXRlVGFibGVDcmVhdG9yIiwiY3VzdG9taXplVGFibGVOYW1lIiwiU1FMaXRlRGVsZXRlIiwiY29uc3RydWN0b3IiLCJzZXNzaW9uIiwiZGlhbGVjdCIsInJ1biIsInBsYWNlaG9sZGVyVmFsdWVzIiwicHJlcGFyZSIsImFsbCIsImdldCIsInZhbHVlcyIsImNvbmZpZyIsIndoZXJlIiwicmV0dXJuaW5nIiwiZmllbGRzIiwiZ2V0U1FMIiwiYnVpbGREZWxldGVRdWVyeSIsInRvU1FMIiwidHlwaW5ncyIsIl90eXBpbmdzIiwicmVzdCIsInNxbFRvUXVlcnkiLCJpc09uZVRpbWVRdWVyeSIsIlNRTGl0ZUluc2VydEJ1aWxkZXIiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJFcnJvciIsIm1hcHBlZFZhbHVlcyIsImVudHJ5IiwicmVzdWx0IiwiY29scyIsImNvbEtleSIsImtleXMiLCJjb2xWYWx1ZSIsIlNRTGl0ZUluc2VydCIsIm9uQ29uZmxpY3REb05vdGhpbmciLCJ0YXJnZXQiLCJvbkNvbmZsaWN0IiwidGFyZ2V0U3FsIiwid2hlcmVTcWwiLCJvbkNvbmZsaWN0RG9VcGRhdGUiLCJzZXRTcWwiLCJidWlsZFVwZGF0ZVNldCIsInNldCIsImJ1aWxkSW5zZXJ0UXVlcnkiLCJWaWV3QnVpbGRlckNvcmUiLCJWaWV3QnVpbGRlciIsImFzIiwicWIiLCJRdWVyeUJ1aWxkZXIiLCJzZWxlY3Rpb25Qcm94eSIsImFsaWFzIiwic3FsQmVoYXZpb3IiLCJzcWxBbGlhc2VkQmVoYXZpb3IiLCJyZXBsYWNlT3JpZ2luYWxOYW1lIiwiYWxpYXNlZFNlbGVjdGVkRmllbGRzIiwiZ2V0U2VsZWN0ZWRGaWVsZHMiLCJQcm94eSIsIlNRTGl0ZVZpZXciLCJzcWxpdGVDb25maWciLCJzZWxlY3RlZEZpZWxkcyIsInF1ZXJ5IiwiaW5saW5lUGFyYW1zIiwiTWFudWFsVmlld0J1aWxkZXIiLCJleGlzdGluZyIsIlNRTGl0ZVZpZXdCYXNlIiwiU1FMaXRlVmlld0NvbmZpZyIsInNxbGl0ZVZpZXciLCJzZWxlY3Rpb24iLCJ2aWV3IiwiU1FMaXRlRGlhbGVjdCIsImVzY2FwZU5hbWUiLCJlc2NhcGVQYXJhbSIsIl9udW0iLCJlc2NhcGVTdHJpbmciLCJzdHIiLCJyZXBsYWNlIiwicmV0dXJuaW5nU3FsIiwiYnVpbGRTZWxlY3Rpb24iLCJpc1NpbmdsZVRhYmxlIiwic2V0RW50cmllcyIsInNldFNpemUiLCJmcm9tTGlzdCIsImZsYXRNYXAiLCJjb2xOYW1lIiwidmFsdWUiLCJjb2wiLCJyZXMiLCJyYXciLCJidWlsZFVwZGF0ZVF1ZXJ5IiwiY29sdW1uc0xlbiIsImNodW5rcyIsImZpZWxkIiwiY2h1bmsiLCJBbGlhc2VkIiwiaXNTZWxlY3Rpb25GaWVsZCIsImlkZW50aWZpZXIiLCJmaWVsZEFsaWFzIiwicXVlcnlDaHVua3MiLCJjIiwidGFibGVOYW1lIiwiTmFtZSIsImNvbHVtbk5hbWUiLCJidWlsZFNlbGVjdFF1ZXJ5Iiwid2l0aExpc3QiLCJmaWVsZHNGbGF0IiwiaGF2aW5nIiwiam9pbnMiLCJvcmRlckJ5IiwiZ3JvdXBCeSIsImxpbWl0Iiwib2Zmc2V0IiwiZGlzdGluY3QiLCJmaWVsZHNMaXN0IiwiZiIsInNvbWUiLCJJc0FsaWFzIiwiQmFzZU5hbWUiLCJwYXRoIiwiam9pbiIsIndpdGhTcWwiLCJ3aXRoU3FsQ2h1bmtzIiwiZGlzdGluY3RTcWwiLCJ0YWJsZVNxbCIsIk9yaWdpbmFsTmFtZSIsImpvaW5zQXJyYXkiLCJpbmRleCIsImpvaW5NZXRhIiwidGFibGVTY2hlbWEiLCJTY2hlbWEiLCJvcmlnVGFibGVOYW1lIiwiam9pblR5cGUiLCJvbiIsImpvaW5zU3FsIiwiaGF2aW5nU3FsIiwib3JkZXJCeUxpc3QiLCJvcmRlckJ5VmFsdWUiLCJncm91cEJ5TGlzdCIsImdyb3VwQnlWYWx1ZSIsImdyb3VwQnlTcWwiLCJvcmRlckJ5U3FsIiwibGltaXRTcWwiLCJvZmZzZXRTcWwiLCJpc1NpbmdsZVZhbHVlIiwidmFsdWVzU3FsTGlzdCIsImNvbEVudHJpZXMiLCJmaWVsZE5hbWUiLCJpbnNlcnRPcmRlciIsInZhbHVlSW5kZXgiLCJ2YWx1ZUxpc3QiLCJkZWZhdWx0VmFsdWUiLCJkZWZhdWx0IiwidmFsdWVzU3FsIiwib25Db25mbGljdFNxbCIsInRvUXVlcnkiLCJidWlsZFJlbGF0aW9uYWxRdWVyeSIsImZ1bGxTY2hlbWEiLCJ0YWJsZU5hbWVzTWFwIiwidGFibGVDb25maWciLCJ0YWJsZUFsaWFzIiwicmVsYXRpb25Db2x1bW5zIiwiaXNSb290Iiwic2VsZWN0aW9uRW50cmllcyIsImtleSIsImRiS2V5IiwidHNLZXkiLCJ0YWJsZVRzS2V5IiwiaXNKc29uIiwidHNOYW1lIiwiYWxpYXNlZENvbHVtbnMiLCJhbGlhc2VkUmVsYXRpb25zIiwicmVsYXRpb25zIiwiYWxpYXNlZEZpZWxkcyIsImZpZWxkc1NlbGVjdGlvbiIsInNlbGVjdGVkQ29sdW1ucyIsInNlbGVjdGVkRXh0cmFzIiwic2VsZWN0ZWRSZWxhdGlvbnMiLCJpc0luY2x1ZGVNb2RlIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJ3aXRoIiwiZXh0cmFzIiwiZXh0cmFzT3JpZyIsInByaW1hcnlLZXkiLCJvcmRlckJ5T3JpZyIsImJ1aWx0UmVsYXRpb25zIiwiYnVpbHRSZWxhdGlvbkZpZWxkcyIsInNlbGVjdGVkUmVsYXRpb25JbmRleCIsInNlbGVjdGVkUmVsYXRpb25LZXkiLCJzZWxlY3RlZFJlbGF0aW9uVmFsdWUiLCJyZWxhdGlvbiIsInJlbGF0aW9uS2V5IiwicmVsYXRpb25WYWx1ZSIsIm5vcm1hbGl6ZWRSZWxhdGlvbiIsInJlbGF0aW9uQWxpYXMiLCJidWlsdFJlbGF0aW9uIiwicmVmZXJlbmNlZFRhYmxlIiwicmVmZXJlbmNlcyIsInJlbGF0aW9uV2hlcmUiLCJlbHNlRmllbGQiLCJjb3VudFNxbCIsImJ1aWx0UmVsYXRpb25GaWVsZCIsImZpbmFsRmllbGRzU2VsZWN0aW9uIiwiZmluYWxGaWVsZHNGbGF0IiwiU1FMaXRlU3luY0RpYWxlY3QiLCJtaWdyYXRlIiwibWlncmF0aW9ucyIsIm1pZ3JhdGlvblRhYmxlQ3JlYXRlIiwiZGJNaWdyYXRpb25zIiwibGFzdERiTWlncmF0aW9uIiwibWlncmF0aW9uIiwiTnVtYmVyIiwiZm9sZGVyTWlsbGlzIiwic3RtdCIsImhhc2giLCJTUUxpdGVBc3luY0RpYWxlY3QiLCJ0cmFuc2FjdGlvbiIsInR4IiwiU1FMaXRlU2VsZWN0QnVpbGRlciIsImZyb20iLCJzb3VyY2UiLCJpc1BhcnRpYWxTZWxlY3QiLCJTUUxpdGVTZWxlY3QiLCJTUUxpdGVTZWxlY3RRdWVyeUJ1aWxkZXIiLCJsZWZ0Sm9pbiIsImNyZWF0ZUpvaW4iLCJyaWdodEpvaW4iLCJpbm5lckpvaW4iLCJmdWxsSm9pbiIsIl8iLCJqb2luc05vdE51bGxhYmxlTWFwIiwiYmFzZVRhYmxlTmFtZSIsIiR3aXRoIiwicXVlcnlCdWlsZGVyIiwicXVlcmllcyIsInNlbGYiLCJzZWxlY3QiLCJnZXREaWFsZWN0Iiwic2VsZWN0RGlzdGluY3QiLCJTUUxpdGVVcGRhdGVCdWlsZGVyIiwiU1FMaXRlVXBkYXRlIiwiQXN5bmNSZWxhdGlvbmFsUXVlcnlCdWlsZGVyIiwiZmluZE1hbnkiLCJTUUxpdGVSZWxhdGlvbmFsUXVlcnkiLCJmaW5kRmlyc3QiLCJTeW5jUmVsYXRpb25hbFF1ZXJ5QnVpbGRlciIsInByZXBhcmVGaW5kTWFueSIsImV4ZWN1dGUiLCJiaW5kIiwicHJlcGFyZUZpbmRGaXJzdCIsIm1vZGUiLCJidWlsdFF1ZXJ5IiwicHJlcGFyZVF1ZXJ5IiwicmF3Um93cyIsIm1hcENvbHVtblZhbHVlIiwicm93cyIsInJvdyIsIkJhc2VTUUxpdGVEYXRhYmFzZSIsInJlc3VsdEtpbmQiLCJ1cGRhdGUiLCJpbnNlcnQiLCJpbnRvIiwiZGVsZXRlIiwiUHJlcGFyZWRRdWVyeSQxIiwiUHJlcGFyZWRRdWVyeSIsIlNRTGl0ZVNlc3Npb24iLCJwcmVwYXJlT25lVGltZVF1ZXJ5Iiwic3RhdGljUXVlcnkiLCJlcnIiLCJ3cmFwIiwiU1FMaXRlVHJhbnNhY3Rpb24iLCJyZXN1bHRUeXBlIiwibmVzdGVkSW5kZXgiLCJyb2xsYmFjayIsIk0iLCJQIiwiYSIsImgiLCJrIiwibSIsInQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/session-8302855c.mjs\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/sqlite-core/index.mjs":
/*!***********************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/sqlite-core/index.mjs ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseSQLiteDatabase: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.B),\n/* harmony export */   Check: () => (/* binding */ Check),\n/* harmony export */   CheckBuilder: () => (/* binding */ CheckBuilder),\n/* harmony export */   ForeignKey: () => (/* binding */ ForeignKey),\n/* harmony export */   ForeignKeyBuilder: () => (/* binding */ ForeignKeyBuilder),\n/* harmony export */   Index: () => (/* binding */ Index),\n/* harmony export */   IndexBuilder: () => (/* binding */ IndexBuilder),\n/* harmony export */   IndexBuilderOn: () => (/* binding */ IndexBuilderOn),\n/* harmony export */   InlineForeignKeys: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.I),\n/* harmony export */   ManualViewBuilder: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.M),\n/* harmony export */   PreparedQuery: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.P),\n/* harmony export */   PrimaryKey: () => (/* binding */ PrimaryKey),\n/* harmony export */   PrimaryKeyBuilder: () => (/* binding */ PrimaryKeyBuilder),\n/* harmony export */   QueryBuilder: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.Q),\n/* harmony export */   SQLiteAsyncDialect: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   SQLiteBaseInteger: () => (/* binding */ SQLiteBaseInteger),\n/* harmony export */   SQLiteBaseIntegerBuilder: () => (/* binding */ SQLiteBaseIntegerBuilder),\n/* harmony export */   SQLiteBigInt: () => (/* binding */ SQLiteBigInt),\n/* harmony export */   SQLiteBigIntBuilder: () => (/* binding */ SQLiteBigIntBuilder),\n/* harmony export */   SQLiteBlobBuffer: () => (/* binding */ SQLiteBlobBuffer),\n/* harmony export */   SQLiteBlobBufferBuilder: () => (/* binding */ SQLiteBlobBufferBuilder),\n/* harmony export */   SQLiteBlobJson: () => (/* binding */ SQLiteBlobJson),\n/* harmony export */   SQLiteBlobJsonBuilder: () => (/* binding */ SQLiteBlobJsonBuilder),\n/* harmony export */   SQLiteBoolean: () => (/* binding */ SQLiteBoolean),\n/* harmony export */   SQLiteBooleanBuilder: () => (/* binding */ SQLiteBooleanBuilder),\n/* harmony export */   SQLiteColumn: () => (/* binding */ SQLiteColumn),\n/* harmony export */   SQLiteColumnBuilder: () => (/* binding */ SQLiteColumnBuilder),\n/* harmony export */   SQLiteCustomColumn: () => (/* binding */ SQLiteCustomColumn),\n/* harmony export */   SQLiteCustomColumnBuilder: () => (/* binding */ SQLiteCustomColumnBuilder),\n/* harmony export */   SQLiteDelete: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   SQLiteDialect: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   SQLiteInsert: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   SQLiteInsertBuilder: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   SQLiteInteger: () => (/* binding */ SQLiteInteger),\n/* harmony export */   SQLiteIntegerBuilder: () => (/* binding */ SQLiteIntegerBuilder),\n/* harmony export */   SQLiteNumeric: () => (/* binding */ SQLiteNumeric),\n/* harmony export */   SQLiteNumericBuilder: () => (/* binding */ SQLiteNumericBuilder),\n/* harmony export */   SQLiteReal: () => (/* binding */ SQLiteReal),\n/* harmony export */   SQLiteRealBuilder: () => (/* binding */ SQLiteRealBuilder),\n/* harmony export */   SQLiteSelect: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.l),\n/* harmony export */   SQLiteSelectBuilder: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   SQLiteSelectQueryBuilder: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.k),\n/* harmony export */   SQLiteSession: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.S),\n/* harmony export */   SQLiteSyncDialect: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   SQLiteTable: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d),\n/* harmony export */   SQLiteText: () => (/* binding */ SQLiteText),\n/* harmony export */   SQLiteTextBuilder: () => (/* binding */ SQLiteTextBuilder),\n/* harmony export */   SQLiteTimestamp: () => (/* binding */ SQLiteTimestamp),\n/* harmony export */   SQLiteTimestampBuilder: () => (/* binding */ SQLiteTimestampBuilder),\n/* harmony export */   SQLiteTransaction: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   SQLiteUpdate: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   SQLiteUpdateBuilder: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   SQLiteView: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.r),\n/* harmony export */   SQLiteViewBase: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.q),\n/* harmony export */   SQLiteViewConfig: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.e),\n/* harmony export */   UniqueConstraint: () => (/* binding */ UniqueConstraint),\n/* harmony export */   UniqueConstraintBuilder: () => (/* binding */ UniqueConstraintBuilder),\n/* harmony export */   UniqueOnConstraintBuilder: () => (/* binding */ UniqueOnConstraintBuilder),\n/* harmony export */   ViewBuilder: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   ViewBuilderCore: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.V),\n/* harmony export */   alias: () => (/* binding */ alias),\n/* harmony export */   blob: () => (/* binding */ blob),\n/* harmony export */   check: () => (/* binding */ check),\n/* harmony export */   customType: () => (/* binding */ customType),\n/* harmony export */   foreignKey: () => (/* binding */ foreignKey),\n/* harmony export */   getTableConfig: () => (/* binding */ getTableConfig),\n/* harmony export */   getViewConfig: () => (/* binding */ getViewConfig),\n/* harmony export */   index: () => (/* binding */ index),\n/* harmony export */   int: () => (/* binding */ int),\n/* harmony export */   integer: () => (/* binding */ integer),\n/* harmony export */   numeric: () => (/* binding */ numeric),\n/* harmony export */   primaryKey: () => (/* binding */ primaryKey),\n/* harmony export */   real: () => (/* binding */ real),\n/* harmony export */   sqliteTable: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   sqliteTableCreator: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   sqliteView: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.t),\n/* harmony export */   text: () => (/* binding */ text),\n/* harmony export */   unique: () => (/* binding */ unique),\n/* harmony export */   uniqueIndex: () => (/* binding */ uniqueIndex),\n/* harmony export */   uniqueKeyName: () => (/* binding */ uniqueKeyName),\n/* harmony export */   view: () => (/* reexport safe */ _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.v)\n/* harmony export */ });\n/* harmony import */ var _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../alias-3e926a50.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/alias-3e926a50.mjs\");\n/* harmony import */ var _session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../session-8302855c.mjs */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/session-8302855c.mjs\");\n\n\n\n\nfunction alias(table, alias) {\n    return new Proxy(table, new _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.M(alias, false));\n}\nclass CheckBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteCheckBuilder\";\n    }\n    constructor(name, value){\n        this.name = name;\n        this.value = value;\n    }\n    build(table) {\n        return new Check(table, this);\n    }\n}\nclass Check {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteCheck\";\n    }\n    constructor(table, builder){\n        this.table = table;\n        this.name = builder.name;\n        this.value = builder.value;\n    }\n}\nfunction check(name, value) {\n    return new CheckBuilder(name, value);\n}\nclass ForeignKeyBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteForeignKeyBuilder\";\n    }\n    constructor(config, actions){\n        this.reference = ()=>{\n            const { columns, foreignColumns } = config();\n            return {\n                columns,\n                foreignTable: foreignColumns[0].table,\n                foreignColumns\n            };\n        };\n        if (actions) {\n            this._onUpdate = actions.onUpdate;\n            this._onDelete = actions.onDelete;\n        }\n    }\n    onUpdate(action) {\n        this._onUpdate = action;\n        return this;\n    }\n    onDelete(action) {\n        this._onDelete = action;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new ForeignKey(table, this);\n    }\n}\nclass ForeignKey {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteForeignKey\";\n    }\n    constructor(table, builder){\n        this.table = table;\n        this.reference = builder.reference;\n        this.onUpdate = builder._onUpdate;\n        this.onDelete = builder._onDelete;\n    }\n    getName() {\n        const { columns, foreignColumns } = this.reference();\n        const columnNames = columns.map((column)=>column.name);\n        const foreignColumnNames = foreignColumns.map((column)=>column.name);\n        const chunks = [\n            this.table[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d.Symbol.Name],\n            ...columnNames,\n            foreignColumns[0].table[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d.Symbol.Name],\n            ...foreignColumnNames\n        ];\n        return `${chunks.join(\"_\")}_fk`;\n    }\n}\nfunction foreignKey(config) {\n    function mappedConfig() {\n        const { columns, foreignColumns } = config();\n        return {\n            columns,\n            foreignColumns\n        };\n    }\n    return new ForeignKeyBuilder(mappedConfig);\n}\nfunction uniqueKeyName(table, columns) {\n    return `${table[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d.Symbol.Name]}_${columns.join(\"_\")}_unique`;\n}\nfunction unique(name) {\n    return new UniqueOnConstraintBuilder(name);\n}\nclass UniqueConstraintBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteUniqueConstraintBuilder\";\n    }\n    constructor(columns, name){\n        this.name = name;\n        this.columns = columns;\n    }\n    /** @internal */ build(table) {\n        return new UniqueConstraint(table, this.columns, this.name);\n    }\n}\nclass UniqueOnConstraintBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteUniqueOnConstraintBuilder\";\n    }\n    constructor(name){\n        this.name = name;\n    }\n    on(...columns) {\n        return new UniqueConstraintBuilder(columns, this.name);\n    }\n}\nclass UniqueConstraint {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteUniqueConstraint\";\n    }\n    constructor(table, columns, name){\n        this.table = table;\n        this.columns = columns;\n        this.name = name ?? uniqueKeyName(this.table, this.columns.map((column)=>column.name));\n    }\n    getName() {\n        return this.name;\n    }\n}\nclass SQLiteColumnBuilder extends _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.L {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteColumnBuilder\";\n    }\n    references(ref, actions = {}) {\n        this.foreignKeyConfigs.push({\n            ref,\n            actions\n        });\n        return this;\n    }\n    unique(name) {\n        this.config.isUnique = true;\n        this.config.uniqueName = name;\n        return this;\n    }\n    /** @internal */ buildForeignKeys(column, table) {\n        return this.foreignKeyConfigs.map(({ ref, actions })=>{\n            return ((ref, actions)=>{\n                const builder = new ForeignKeyBuilder(()=>{\n                    const foreignColumn = ref();\n                    return {\n                        columns: [\n                            column\n                        ],\n                        foreignColumns: [\n                            foreignColumn\n                        ]\n                    };\n                });\n                if (actions.onUpdate) {\n                    builder.onUpdate(actions.onUpdate);\n                }\n                if (actions.onDelete) {\n                    builder.onDelete(actions.onDelete);\n                }\n                return builder.build(table);\n            })(ref, actions);\n        });\n    }\n    constructor(...args){\n        super(...args);\n        this.foreignKeyConfigs = [];\n    }\n}\n// To understand how to use `SQLiteColumn` and `AnySQLiteColumn`, see `Column` and `AnyColumn` documentation.\nclass SQLiteColumn extends _alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.C {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteColumn\";\n    }\n    constructor(table, config){\n        if (!config.uniqueName) {\n            config.uniqueName = uniqueKeyName(table, [\n                config.name\n            ]);\n        }\n        super(table, config);\n        this.table = table;\n    }\n}\nclass SQLiteBigIntBuilder extends SQLiteColumnBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBigIntBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new SQLiteBigInt(table, this.config);\n    }\n}\nclass SQLiteBigInt extends SQLiteColumn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBigInt\";\n    }\n    getSQLType() {\n        return \"blob\";\n    }\n    mapFromDriverValue(value) {\n        return BigInt(value.toString());\n    }\n    mapToDriverValue(value) {\n        return Buffer.from(value.toString());\n    }\n}\nclass SQLiteBlobJsonBuilder extends SQLiteColumnBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBlobJsonBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new SQLiteBlobJson(table, this.config);\n    }\n}\nclass SQLiteBlobJson extends SQLiteColumn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBlobJson\";\n    }\n    getSQLType() {\n        return \"blob\";\n    }\n    mapFromDriverValue(value) {\n        return JSON.parse(value.toString());\n    }\n    mapToDriverValue(value) {\n        return Buffer.from(JSON.stringify(value));\n    }\n}\nclass SQLiteBlobBufferBuilder extends SQLiteColumnBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBlobBufferBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new SQLiteBlobBuffer(table, this.config);\n    }\n}\nclass SQLiteBlobBuffer extends SQLiteColumn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBlobBuffer\";\n    }\n    getSQLType() {\n        return \"blob\";\n    }\n}\nfunction blob(name, config) {\n    if (config?.mode === \"json\") {\n        return new SQLiteBlobJsonBuilder(name);\n    }\n    if (config?.mode === \"bigint\") {\n        return new SQLiteBigIntBuilder(name);\n    }\n    return new SQLiteBlobBufferBuilder(name);\n}\nclass SQLiteCustomColumnBuilder extends SQLiteColumnBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteCustomColumnBuilder\";\n    }\n    constructor(name, fieldConfig, customTypeParams){\n        super(name);\n        this.config.fieldConfig = fieldConfig;\n        this.config.customTypeParams = customTypeParams;\n    }\n    /** @internal */ build(table) {\n        return new SQLiteCustomColumn(table, this.config);\n    }\n}\nclass SQLiteCustomColumn extends SQLiteColumn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteCustomColumn\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.sqlName = config.customTypeParams.dataType(config.fieldConfig);\n        this.mapTo = config.customTypeParams.toDriver;\n        this.mapFrom = config.customTypeParams.fromDriver;\n    }\n    getSQLType() {\n        return this.sqlName;\n    }\n    mapFromDriverValue(value) {\n        return typeof this.mapFrom === \"function\" ? this.mapFrom(value) : value;\n    }\n    mapToDriverValue(value) {\n        return typeof this.mapTo === \"function\" ? this.mapTo(value) : value;\n    }\n}\n/**\n * Custom sqlite database data type generator\n */ function customType(customTypeParams) {\n    return (dbName, fieldConfig)=>{\n        return new SQLiteCustomColumnBuilder(dbName, fieldConfig, customTypeParams);\n    };\n}\nclass SQLiteBaseIntegerBuilder extends SQLiteColumnBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBaseIntegerBuilder\";\n    }\n    constructor(name){\n        super(name);\n        this.config.autoIncrement = false;\n    }\n    primaryKey(config) {\n        if (config?.autoIncrement) {\n            this.config.autoIncrement = true;\n        }\n        this.config.hasDefault = true;\n        return super.primaryKey();\n    }\n}\nclass SQLiteBaseInteger extends SQLiteColumn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBaseInteger\";\n    }\n    getSQLType() {\n        return \"integer\";\n    }\n    constructor(...args){\n        super(...args);\n        this.autoIncrement = this.config.autoIncrement;\n    }\n}\nclass SQLiteIntegerBuilder extends SQLiteBaseIntegerBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteIntegerBuilder\";\n    }\n    build(table) {\n        return new SQLiteInteger(table, this.config);\n    }\n}\nclass SQLiteInteger extends SQLiteBaseInteger {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteInteger\";\n    }\n}\nclass SQLiteTimestampBuilder extends SQLiteBaseIntegerBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteTimestampBuilder\";\n    }\n    constructor(name, mode){\n        super(name);\n        this.config.mode = mode;\n    }\n    /**\n     * @deprecated Use `default()` with your own expression instead.\n     *\n     * Adds `DEFAULT (cast((julianday('now') - 2440587.5)*86400000 as integer))` to the column, which is the current epoch timestamp in milliseconds.\n     */ defaultNow() {\n        return this.default(_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.s`(cast((julianday('now') - 2440587.5)*86400000 as integer))`);\n    }\n    build(table) {\n        return new SQLiteTimestamp(table, this.config);\n    }\n}\nclass SQLiteTimestamp extends SQLiteBaseInteger {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteTimestamp\";\n    }\n    mapFromDriverValue(value) {\n        if (this.config.mode === \"timestamp\") {\n            return new Date(value * 1000);\n        }\n        return new Date(value);\n    }\n    mapToDriverValue(value) {\n        const unix = value.getTime();\n        if (this.config.mode === \"timestamp\") {\n            return Math.floor(unix / 1000);\n        }\n        return unix;\n    }\n    constructor(...args){\n        super(...args);\n        this.mode = this.config.mode;\n    }\n}\nclass SQLiteBooleanBuilder extends SQLiteBaseIntegerBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBooleanBuilder\";\n    }\n    constructor(name, mode){\n        super(name);\n        this.config.mode = mode;\n    }\n    build(table) {\n        return new SQLiteBoolean(table, this.config);\n    }\n}\nclass SQLiteBoolean extends SQLiteBaseInteger {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteBoolean\";\n    }\n    mapFromDriverValue(value) {\n        return Number(value) === 1;\n    }\n    mapToDriverValue(value) {\n        return value ? 1 : 0;\n    }\n    constructor(...args){\n        super(...args);\n        this.mode = this.config.mode;\n    }\n}\nfunction integer(name, config) {\n    if (config?.mode === \"timestamp\" || config?.mode === \"timestamp_ms\") {\n        return new SQLiteTimestampBuilder(name, config.mode);\n    }\n    if (config?.mode === \"boolean\") {\n        return new SQLiteBooleanBuilder(name, config.mode);\n    }\n    return new SQLiteIntegerBuilder(name);\n}\nconst int = integer;\nclass SQLiteNumericBuilder extends SQLiteColumnBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteNumericBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new SQLiteNumeric(table, this.config);\n    }\n}\nclass SQLiteNumeric extends SQLiteColumn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteNumeric\";\n    }\n    getSQLType() {\n        return \"numeric\";\n    }\n}\nfunction numeric(name) {\n    return new SQLiteNumericBuilder(name);\n}\nclass SQLiteRealBuilder extends SQLiteColumnBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteRealBuilder\";\n    }\n    /** @internal */ build(table) {\n        return new SQLiteReal(table, this.config);\n    }\n}\nclass SQLiteReal extends SQLiteColumn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteReal\";\n    }\n    getSQLType() {\n        return \"real\";\n    }\n}\nfunction real(name) {\n    return new SQLiteRealBuilder(name);\n}\nclass SQLiteTextBuilder extends SQLiteColumnBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteTextBuilder\";\n    }\n    constructor(name, config){\n        super(name);\n        this.config.enumValues = config.enum ?? [];\n        this.config.length = config.length;\n    }\n    /** @internal */ build(table) {\n        return new SQLiteText(table, this.config);\n    }\n}\nclass SQLiteText extends SQLiteColumn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteText\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.enumValues = this.config.enumValues;\n        this.length = this.config.length;\n    }\n    getSQLType() {\n        return `text${this.config.length ? `(${this.config.length})` : \"\"}`;\n    }\n}\nfunction text(name, config = {}) {\n    return new SQLiteTextBuilder(name, config);\n}\nclass IndexBuilderOn {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteIndexBuilderOn\";\n    }\n    constructor(name, unique){\n        this.name = name;\n        this.unique = unique;\n    }\n    on(...columns) {\n        return new IndexBuilder(this.name, columns, this.unique);\n    }\n}\nclass IndexBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteIndexBuilder\";\n    }\n    constructor(name, columns, unique){\n        this.config = {\n            name,\n            columns,\n            unique,\n            where: undefined\n        };\n    }\n    /**\n     * Condition for partial index.\n     */ where(condition) {\n        this.config.where = condition;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new Index(this.config, table);\n    }\n}\nclass Index {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLiteIndex\";\n    }\n    constructor(config, table){\n        this.config = {\n            ...config,\n            table\n        };\n    }\n}\nfunction index(name) {\n    return new IndexBuilderOn(name, false);\n}\nfunction uniqueIndex(name) {\n    return new IndexBuilderOn(name, true);\n}\nfunction primaryKey(...columns) {\n    return new PrimaryKeyBuilder(columns);\n}\nclass PrimaryKeyBuilder {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLitePrimaryKeyBuilder\";\n    }\n    constructor(columns){\n        this.columns = columns;\n    }\n    /** @internal */ build(table) {\n        return new PrimaryKey(table, this.columns);\n    }\n}\nclass PrimaryKey {\n    static{\n        this[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"SQLitePrimaryKey\";\n    }\n    constructor(table, columns){\n        this.table = table;\n        this.columns = columns;\n    }\n    getName() {\n        return `${this.table[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d.Symbol.Name]}_${this.columns.map((column)=>column.name).join(\"_\")}_pk`;\n    }\n}\nfunction getTableConfig(table) {\n    const columns = Object.values(table[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d.Symbol.Columns]);\n    const indexes = [];\n    const checks = [];\n    const primaryKeys = [];\n    const uniqueConstraints = [];\n    const foreignKeys = Object.values(table[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d.Symbol.InlineForeignKeys]);\n    const name = table[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.T.Symbol.Name];\n    const extraConfigBuilder = table[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d.Symbol.ExtraConfigBuilder];\n    if (extraConfigBuilder !== undefined) {\n        const extraConfig = extraConfigBuilder(table[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.d.Symbol.Columns]);\n        for (const builder of Object.values(extraConfig)){\n            if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, IndexBuilder)) {\n                indexes.push(builder.build(table));\n            } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, CheckBuilder)) {\n                checks.push(builder.build(table));\n            } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, UniqueConstraintBuilder)) {\n                uniqueConstraints.push(builder.build(table));\n            } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, PrimaryKeyBuilder)) {\n                primaryKeys.push(builder.build(table));\n            } else if ((0,_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, ForeignKeyBuilder)) {\n                foreignKeys.push(builder.build(table));\n            }\n        }\n    }\n    return {\n        columns,\n        indexes,\n        foreignKeys,\n        checks,\n        primaryKeys,\n        uniqueConstraints,\n        name\n    };\n}\nfunction getViewConfig(view) {\n    return {\n        ...view[_alias_3e926a50_mjs__WEBPACK_IMPORTED_MODULE_1__.u],\n        ...view[_session_8302855c_mjs__WEBPACK_IMPORTED_MODULE_0__.e]\n    };\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMjcuMl9AbGlic3FsK2NsaWVudEAwLjMuNC9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vc3FsaXRlLWNvcmUvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBLO0FBQ3hGO0FBQ3NnQjtBQUN4akI7QUFFaEMsU0FBU29FLE1BQU1DLEtBQUssRUFBRUQsS0FBSztJQUN2QixPQUFPLElBQUlFLE1BQU1ELE9BQU8sSUFBSXBFLGtEQUFzQkEsQ0FBQ21FLE9BQU87QUFDOUQ7QUFFQSxNQUFNRzs7WUFHSyxDQUFDcEUsa0RBQVVBLENBQUMsR0FBRzs7SUFFdEJxRSxZQUFZQyxJQUFJLEVBQUVDLEtBQUssQ0FBRTtRQUNyQixJQUFJLENBQUNELElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNDLEtBQUssR0FBR0E7SUFDakI7SUFDQUMsTUFBTU4sS0FBSyxFQUFFO1FBQ1QsT0FBTyxJQUFJTyxNQUFNUCxPQUFPLElBQUk7SUFDaEM7QUFDSjtBQUNBLE1BQU1POztZQUVLLENBQUN6RSxrREFBVUEsQ0FBQyxHQUFHOztJQUd0QnFFLFlBQVlILEtBQUssRUFBRVEsT0FBTyxDQUFFO1FBQ3hCLElBQUksQ0FBQ1IsS0FBSyxHQUFHQTtRQUNiLElBQUksQ0FBQ0ksSUFBSSxHQUFHSSxRQUFRSixJQUFJO1FBQ3hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHRyxRQUFRSCxLQUFLO0lBQzlCO0FBQ0o7QUFDQSxTQUFTSSxNQUFNTCxJQUFJLEVBQUVDLEtBQUs7SUFDdEIsT0FBTyxJQUFJSCxhQUFhRSxNQUFNQztBQUNsQztBQUVBLE1BQU1LOztZQUNLLENBQUM1RSxrREFBVUEsQ0FBQyxHQUFHOztJQU90QnFFLFlBQVlRLE1BQU0sRUFBRUMsT0FBTyxDQUFF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RyxPQUFPLENBQUM7UUFDeEUsS0FBSyxNQUFNdEgsV0FBV29ILE9BQU9DLE1BQU0sQ0FBQ1MsYUFBYztZQUM5QyxJQUFJOUwsc0RBQUVBLENBQUNnRSxTQUFTMEcsZUFBZTtnQkFDM0JhLFFBQVFuRixJQUFJLENBQUNwQyxRQUFRRixLQUFLLENBQUNOO1lBQy9CLE9BQ0ssSUFBSXhELHNEQUFFQSxDQUFDZ0UsU0FBU04sZUFBZTtnQkFDaEM4SCxPQUFPcEYsSUFBSSxDQUFDcEMsUUFBUUYsS0FBSyxDQUFDTjtZQUM5QixPQUNLLElBQUl4RCxzREFBRUEsQ0FBQ2dFLFNBQVM2QiwwQkFBMEI7Z0JBQzNDNkYsa0JBQWtCdEYsSUFBSSxDQUFDcEMsUUFBUUYsS0FBSyxDQUFDTjtZQUN6QyxPQUNLLElBQUl4RCxzREFBRUEsQ0FBQ2dFLFNBQVNpSCxvQkFBb0I7Z0JBQ3JDUSxZQUFZckYsSUFBSSxDQUFDcEMsUUFBUUYsS0FBSyxDQUFDTjtZQUNuQyxPQUNLLElBQUl4RCxzREFBRUEsQ0FBQ2dFLFNBQVNFLG9CQUFvQjtnQkFDckN5SCxZQUFZdkYsSUFBSSxDQUFDcEMsUUFBUUYsS0FBSyxDQUFDTjtZQUNuQztRQUNKO0lBQ0o7SUFDQSxPQUFPO1FBQ0hjO1FBQ0FpSDtRQUNBSTtRQUNBSDtRQUNBQztRQUNBQztRQUNBOUg7SUFDSjtBQUNKO0FBQ0EsU0FBU21JLGNBQWN6SSxJQUFJO0lBQ3ZCLE9BQU87UUFDSCxHQUFHQSxJQUFJLENBQUNwRCxrREFBY0EsQ0FBQztRQUN2QixHQUFHb0QsSUFBSSxDQUFDakQsb0RBQWdCQSxDQUFDO0lBQzdCO0FBQ0o7QUFFczFCLENBQ3QxQixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG9rZW5zdHJlYW0vd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjI3LjJfQGxpYnNxbCtjbGllbnRAMC4zLjQvbm9kZV9tb2R1bGVzL2RyaXp6bGUtb3JtL3NxbGl0ZS1jb3JlL2luZGV4Lm1qcz81MzA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE0gYXMgVGFibGVBbGlhc1Byb3h5SGFuZGxlciwgZSBhcyBlbnRpdHlLaW5kLCBMIGFzIENvbHVtbkJ1aWxkZXIsIEMgYXMgQ29sdW1uLCBzIGFzIHNxbCwgVCBhcyBUYWJsZSwgaSBhcyBpcywgdSBhcyBWaWV3QmFzZUNvbmZpZyB9IGZyb20gJy4uL2FsaWFzLTNlOTI2YTUwLm1qcyc7XG5pbXBvcnQgeyBkIGFzIFNRTGl0ZVRhYmxlLCBlIGFzIFNRTGl0ZVZpZXdDb25maWcgfSBmcm9tICcuLi9zZXNzaW9uLTgzMDI4NTVjLm1qcyc7XG5leHBvcnQgeyBCIGFzIEJhc2VTUUxpdGVEYXRhYmFzZSwgSSBhcyBJbmxpbmVGb3JlaWduS2V5cywgTSBhcyBNYW51YWxWaWV3QnVpbGRlciwgUCBhcyBQcmVwYXJlZFF1ZXJ5LCBRIGFzIFF1ZXJ5QnVpbGRlciwgYyBhcyBTUUxpdGVBc3luY0RpYWxlY3QsIGcgYXMgU1FMaXRlRGVsZXRlLCBmIGFzIFNRTGl0ZURpYWxlY3QsIGkgYXMgU1FMaXRlSW5zZXJ0LCBoIGFzIFNRTGl0ZUluc2VydEJ1aWxkZXIsIGwgYXMgU1FMaXRlU2VsZWN0LCBqIGFzIFNRTGl0ZVNlbGVjdEJ1aWxkZXIsIGsgYXMgU1FMaXRlU2VsZWN0UXVlcnlCdWlsZGVyLCBTIGFzIFNRTGl0ZVNlc3Npb24sIGIgYXMgU1FMaXRlU3luY0RpYWxlY3QsIGEgYXMgU1FMaXRlVHJhbnNhY3Rpb24sIG4gYXMgU1FMaXRlVXBkYXRlLCBtIGFzIFNRTGl0ZVVwZGF0ZUJ1aWxkZXIsIHIgYXMgU1FMaXRlVmlldywgcSBhcyBTUUxpdGVWaWV3QmFzZSwgcCBhcyBWaWV3QnVpbGRlciwgViBhcyBWaWV3QnVpbGRlckNvcmUsIHMgYXMgc3FsaXRlVGFibGUsIG8gYXMgc3FsaXRlVGFibGVDcmVhdG9yLCB0IGFzIHNxbGl0ZVZpZXcsIHYgYXMgdmlldyB9IGZyb20gJy4uL3Nlc3Npb24tODMwMjg1NWMubWpzJztcbmltcG9ydCAnLi4vZXJyb3JzLWZlZDExMDg1Lm1qcyc7XG5cbmZ1bmN0aW9uIGFsaWFzKHRhYmxlLCBhbGlhcykge1xuICAgIHJldHVybiBuZXcgUHJveHkodGFibGUsIG5ldyBUYWJsZUFsaWFzUHJveHlIYW5kbGVyKGFsaWFzLCBmYWxzZSkpO1xufVxuXG5jbGFzcyBDaGVja0J1aWxkZXIge1xuICAgIG5hbWU7XG4gICAgdmFsdWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVDaGVja0J1aWxkZXInO1xuICAgIGJyYW5kO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGVjayh0YWJsZSwgdGhpcyk7XG4gICAgfVxufVxuY2xhc3MgQ2hlY2sge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQ2hlY2snO1xuICAgIG5hbWU7XG4gICAgdmFsdWU7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGJ1aWxkZXIpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgICAgICB0aGlzLm5hbWUgPSBidWlsZGVyLm5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSBidWlsZGVyLnZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrKG5hbWUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBDaGVja0J1aWxkZXIobmFtZSwgdmFsdWUpO1xufVxuXG5jbGFzcyBGb3JlaWduS2V5QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVGb3JlaWduS2V5QnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJlZmVyZW5jZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgX29uVXBkYXRlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb25EZWxldGU7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBhY3Rpb25zKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjb2x1bW5zLCBmb3JlaWduQ29sdW1ucyB9ID0gY29uZmlnKCk7XG4gICAgICAgICAgICByZXR1cm4geyBjb2x1bW5zLCBmb3JlaWduVGFibGU6IGZvcmVpZ25Db2x1bW5zWzBdLnRhYmxlLCBmb3JlaWduQ29sdW1ucyB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoYWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5fb25VcGRhdGUgPSBhY3Rpb25zLm9uVXBkYXRlO1xuICAgICAgICAgICAgdGhpcy5fb25EZWxldGUgPSBhY3Rpb25zLm9uRGVsZXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uVXBkYXRlKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9vblVwZGF0ZSA9IGFjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG9uRGVsZXRlKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9vbkRlbGV0ZSA9IGFjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZvcmVpZ25LZXkodGFibGUsIHRoaXMpO1xuICAgIH1cbn1cbmNsYXNzIEZvcmVpZ25LZXkge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlRm9yZWlnbktleSc7XG4gICAgcmVmZXJlbmNlO1xuICAgIG9uVXBkYXRlO1xuICAgIG9uRGVsZXRlO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBidWlsZGVyKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSBidWlsZGVyLnJlZmVyZW5jZTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IGJ1aWxkZXIuX29uVXBkYXRlO1xuICAgICAgICB0aGlzLm9uRGVsZXRlID0gYnVpbGRlci5fb25EZWxldGU7XG4gICAgfVxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHsgY29sdW1ucywgZm9yZWlnbkNvbHVtbnMgfSA9IHRoaXMucmVmZXJlbmNlKCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbk5hbWVzID0gY29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpO1xuICAgICAgICBjb25zdCBmb3JlaWduQ29sdW1uTmFtZXMgPSBmb3JlaWduQ29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpO1xuICAgICAgICBjb25zdCBjaHVua3MgPSBbXG4gICAgICAgICAgICB0aGlzLnRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5OYW1lXSxcbiAgICAgICAgICAgIC4uLmNvbHVtbk5hbWVzLFxuICAgICAgICAgICAgZm9yZWlnbkNvbHVtbnNbMF0udGFibGVbU1FMaXRlVGFibGUuU3ltYm9sLk5hbWVdLFxuICAgICAgICAgICAgLi4uZm9yZWlnbkNvbHVtbk5hbWVzLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gYCR7Y2h1bmtzLmpvaW4oJ18nKX1fZmtgO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcmVpZ25LZXkoY29uZmlnKSB7XG4gICAgZnVuY3Rpb24gbWFwcGVkQ29uZmlnKCkge1xuICAgICAgICBjb25zdCB7IGNvbHVtbnMsIGZvcmVpZ25Db2x1bW5zIH0gPSBjb25maWcoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbHVtbnMsXG4gICAgICAgICAgICBmb3JlaWduQ29sdW1ucyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGb3JlaWduS2V5QnVpbGRlcihtYXBwZWRDb25maWcpO1xufVxuXG5mdW5jdGlvbiB1bmlxdWVLZXlOYW1lKHRhYmxlLCBjb2x1bW5zKSB7XG4gICAgcmV0dXJuIGAke3RhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5OYW1lXX1fJHtjb2x1bW5zLmpvaW4oJ18nKX1fdW5pcXVlYDtcbn1cbmZ1bmN0aW9uIHVuaXF1ZShuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyKG5hbWUpO1xufVxuY2xhc3MgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIge1xuICAgIG5hbWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVVbmlxdWVDb25zdHJhaW50QnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGNvbHVtbnM7XG4gICAgY29uc3RydWN0b3IoY29sdW1ucywgbmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbmlxdWVDb25zdHJhaW50KHRhYmxlLCB0aGlzLmNvbHVtbnMsIHRoaXMubmFtZSk7XG4gICAgfVxufVxuY2xhc3MgVW5pcXVlT25Db25zdHJhaW50QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgbmFtZTtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIG9uKC4uLmNvbHVtbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbmlxdWVDb25zdHJhaW50QnVpbGRlcihjb2x1bW5zLCB0aGlzLm5hbWUpO1xuICAgIH1cbn1cbmNsYXNzIFVuaXF1ZUNvbnN0cmFpbnQge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlVW5pcXVlQ29uc3RyYWludCc7XG4gICAgY29sdW1ucztcbiAgICBuYW1lO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb2x1bW5zLCBuYW1lKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZSA/PyB1bmlxdWVLZXlOYW1lKHRoaXMudGFibGUsIHRoaXMuY29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpKTtcbiAgICB9XG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG59XG5cbmNsYXNzIFNRTGl0ZUNvbHVtbkJ1aWxkZXIgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZUNvbHVtbkJ1aWxkZXInO1xuICAgIGZvcmVpZ25LZXlDb25maWdzID0gW107XG4gICAgcmVmZXJlbmNlcyhyZWYsIGFjdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmZvcmVpZ25LZXlDb25maWdzLnB1c2goeyByZWYsIGFjdGlvbnMgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB1bmlxdWUobmFtZSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5pc1VuaXF1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uZmlnLnVuaXF1ZU5hbWUgPSBuYW1lO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkRm9yZWlnbktleXMoY29sdW1uLCB0YWJsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JlaWduS2V5Q29uZmlncy5tYXAoKHsgcmVmLCBhY3Rpb25zIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoKHJlZiwgYWN0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkZXIgPSBuZXcgRm9yZWlnbktleUJ1aWxkZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JlaWduQ29sdW1uID0gcmVmKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGNvbHVtbnM6IFtjb2x1bW5dLCBmb3JlaWduQ29sdW1uczogW2ZvcmVpZ25Db2x1bW5dIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbnMub25VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5vblVwZGF0ZShhY3Rpb25zLm9uVXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbnMub25EZWxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5vbkRlbGV0ZShhY3Rpb25zLm9uRGVsZXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIuYnVpbGQodGFibGUpO1xuICAgICAgICAgICAgfSkocmVmLCBhY3Rpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gVG8gdW5kZXJzdGFuZCBob3cgdG8gdXNlIGBTUUxpdGVDb2x1bW5gIGFuZCBgQW55U1FMaXRlQ29sdW1uYCwgc2VlIGBDb2x1bW5gIGFuZCBgQW55Q29sdW1uYCBkb2N1bWVudGF0aW9uLlxuY2xhc3MgU1FMaXRlQ29sdW1uIGV4dGVuZHMgQ29sdW1uIHtcbiAgICB0YWJsZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZUNvbHVtbic7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbmZpZykge1xuICAgICAgICBpZiAoIWNvbmZpZy51bmlxdWVOYW1lKSB7XG4gICAgICAgICAgICBjb25maWcudW5pcXVlTmFtZSA9IHVuaXF1ZUtleU5hbWUodGFibGUsIFtjb25maWcubmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKHRhYmxlLCBjb25maWcpO1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgfVxufVxuXG5jbGFzcyBTUUxpdGVCaWdJbnRCdWlsZGVyIGV4dGVuZHMgU1FMaXRlQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVCaWdJbnRCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVCaWdJbnQodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVCaWdJbnQgZXh0ZW5kcyBTUUxpdGVDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQmlnSW50JztcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ2Jsb2InO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgbWFwVG9Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfVxufVxuY2xhc3MgU1FMaXRlQmxvYkpzb25CdWlsZGVyIGV4dGVuZHMgU1FMaXRlQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVCbG9iSnNvbkJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZUJsb2JKc29uKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgU1FMaXRlQmxvYkpzb24gZXh0ZW5kcyBTUUxpdGVDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQmxvYkpzb24nO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnYmxvYic7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgbWFwVG9Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVCbG9iQnVmZmVyQnVpbGRlciBleHRlbmRzIFNRTGl0ZUNvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQmxvYkJ1ZmZlckJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZUJsb2JCdWZmZXIodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVCbG9iQnVmZmVyIGV4dGVuZHMgU1FMaXRlQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZUJsb2JCdWZmZXInO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnYmxvYic7XG4gICAgfVxufVxuZnVuY3Rpb24gYmxvYihuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnPy5tb2RlID09PSAnanNvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVCbG9iSnNvbkJ1aWxkZXIobmFtZSk7XG4gICAgfVxuICAgIGlmIChjb25maWc/Lm1vZGUgPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMaXRlQmlnSW50QnVpbGRlcihuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTUUxpdGVCbG9iQnVmZmVyQnVpbGRlcihuYW1lKTtcbn1cblxuY2xhc3MgU1FMaXRlQ3VzdG9tQ29sdW1uQnVpbGRlciBleHRlbmRzIFNRTGl0ZUNvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQ3VzdG9tQ29sdW1uQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgZmllbGRDb25maWcsIGN1c3RvbVR5cGVQYXJhbXMpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMuY29uZmlnLmZpZWxkQ29uZmlnID0gZmllbGRDb25maWc7XG4gICAgICAgIHRoaXMuY29uZmlnLmN1c3RvbVR5cGVQYXJhbXMgPSBjdXN0b21UeXBlUGFyYW1zO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVDdXN0b21Db2x1bW4odGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVDdXN0b21Db2x1bW4gZXh0ZW5kcyBTUUxpdGVDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQ3VzdG9tQ29sdW1uJztcbiAgICBzcWxOYW1lO1xuICAgIG1hcFRvO1xuICAgIG1hcEZyb207XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy5zcWxOYW1lID0gY29uZmlnLmN1c3RvbVR5cGVQYXJhbXMuZGF0YVR5cGUoY29uZmlnLmZpZWxkQ29uZmlnKTtcbiAgICAgICAgdGhpcy5tYXBUbyA9IGNvbmZpZy5jdXN0b21UeXBlUGFyYW1zLnRvRHJpdmVyO1xuICAgICAgICB0aGlzLm1hcEZyb20gPSBjb25maWcuY3VzdG9tVHlwZVBhcmFtcy5mcm9tRHJpdmVyO1xuICAgIH1cbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcWxOYW1lO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLm1hcEZyb20gPT09ICdmdW5jdGlvbicgPyB0aGlzLm1hcEZyb20odmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIG1hcFRvRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLm1hcFRvID09PSAnZnVuY3Rpb24nID8gdGhpcy5tYXBUbyh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9XG59XG4vKipcbiAqIEN1c3RvbSBzcWxpdGUgZGF0YWJhc2UgZGF0YSB0eXBlIGdlbmVyYXRvclxuICovXG5mdW5jdGlvbiBjdXN0b21UeXBlKGN1c3RvbVR5cGVQYXJhbXMpIHtcbiAgICByZXR1cm4gKGRiTmFtZSwgZmllbGRDb25maWcpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVDdXN0b21Db2x1bW5CdWlsZGVyKGRiTmFtZSwgZmllbGRDb25maWcsIGN1c3RvbVR5cGVQYXJhbXMpO1xuICAgIH07XG59XG5cbmNsYXNzIFNRTGl0ZUJhc2VJbnRlZ2VyQnVpbGRlciBleHRlbmRzIFNRTGl0ZUNvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICB0aGlzLmNvbmZpZy5hdXRvSW5jcmVtZW50ID0gZmFsc2U7XG4gICAgfVxuICAgIHByaW1hcnlLZXkoY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWc/LmF1dG9JbmNyZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmF1dG9JbmNyZW1lbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnLmhhc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gc3VwZXIucHJpbWFyeUtleSgpO1xuICAgIH1cbn1cbmNsYXNzIFNRTGl0ZUJhc2VJbnRlZ2VyIGV4dGVuZHMgU1FMaXRlQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZUJhc2VJbnRlZ2VyJztcbiAgICBhdXRvSW5jcmVtZW50ID0gdGhpcy5jb25maWcuYXV0b0luY3JlbWVudDtcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ2ludGVnZXInO1xuICAgIH1cbn1cbmNsYXNzIFNRTGl0ZUludGVnZXJCdWlsZGVyIGV4dGVuZHMgU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZUludGVnZXJCdWlsZGVyJztcbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZUludGVnZXIodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVJbnRlZ2VyIGV4dGVuZHMgU1FMaXRlQmFzZUludGVnZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlSW50ZWdlcic7XG59XG5jbGFzcyBTUUxpdGVUaW1lc3RhbXBCdWlsZGVyIGV4dGVuZHMgU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZVRpbWVzdGFtcEJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIG1vZGUpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMuY29uZmlnLm1vZGUgPSBtb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYGRlZmF1bHQoKWAgd2l0aCB5b3VyIG93biBleHByZXNzaW9uIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBBZGRzIGBERUZBVUxUIChjYXN0KChqdWxpYW5kYXkoJ25vdycpIC0gMjQ0MDU4Ny41KSo4NjQwMDAwMCBhcyBpbnRlZ2VyKSlgIHRvIHRoZSBjb2x1bW4sIHdoaWNoIGlzIHRoZSBjdXJyZW50IGVwb2NoIHRpbWVzdGFtcCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICovXG4gICAgZGVmYXVsdE5vdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdChzcWwgYChjYXN0KChqdWxpYW5kYXkoJ25vdycpIC0gMjQ0MDU4Ny41KSo4NjQwMDAwMCBhcyBpbnRlZ2VyKSlgKTtcbiAgICB9XG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVUaW1lc3RhbXAodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVUaW1lc3RhbXAgZXh0ZW5kcyBTUUxpdGVCYXNlSW50ZWdlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVUaW1lc3RhbXAnO1xuICAgIG1vZGUgPSB0aGlzLmNvbmZpZy5tb2RlO1xuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubW9kZSA9PT0gJ3RpbWVzdGFtcCcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSAqIDEwMDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfVxuICAgIG1hcFRvRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdW5peCA9IHZhbHVlLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGUgPT09ICd0aW1lc3RhbXAnKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih1bml4IC8gMTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuaXg7XG4gICAgfVxufVxuY2xhc3MgU1FMaXRlQm9vbGVhbkJ1aWxkZXIgZXh0ZW5kcyBTUUxpdGVCYXNlSW50ZWdlckJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQm9vbGVhbkJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIG1vZGUpIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG4gICAgICAgIHRoaXMuY29uZmlnLm1vZGUgPSBtb2RlO1xuICAgIH1cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZUJvb2xlYW4odGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVCb29sZWFuIGV4dGVuZHMgU1FMaXRlQmFzZUludGVnZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlQm9vbGVhbic7XG4gICAgbW9kZSA9IHRoaXMuY29uZmlnLm1vZGU7XG4gICAgbWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpID09PSAxO1xuICAgIH1cbiAgICBtYXBUb0RyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA/IDEgOiAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGludGVnZXIobmFtZSwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZz8ubW9kZSA9PT0gJ3RpbWVzdGFtcCcgfHwgY29uZmlnPy5tb2RlID09PSAndGltZXN0YW1wX21zJykge1xuICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZVRpbWVzdGFtcEJ1aWxkZXIobmFtZSwgY29uZmlnLm1vZGUpO1xuICAgIH1cbiAgICBpZiAoY29uZmlnPy5tb2RlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVCb29sZWFuQnVpbGRlcihuYW1lLCBjb25maWcubW9kZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU1FMaXRlSW50ZWdlckJ1aWxkZXIobmFtZSk7XG59XG5jb25zdCBpbnQgPSBpbnRlZ2VyO1xuXG5jbGFzcyBTUUxpdGVOdW1lcmljQnVpbGRlciBleHRlbmRzIFNRTGl0ZUNvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlTnVtZXJpY0J1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTGl0ZU51bWVyaWModGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBTUUxpdGVOdW1lcmljIGV4dGVuZHMgU1FMaXRlQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZU51bWVyaWMnO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnbnVtZXJpYyc7XG4gICAgfVxufVxuZnVuY3Rpb24gbnVtZXJpYyhuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBTUUxpdGVOdW1lcmljQnVpbGRlcihuYW1lKTtcbn1cblxuY2xhc3MgU1FMaXRlUmVhbEJ1aWxkZXIgZXh0ZW5kcyBTUUxpdGVDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1NRTGl0ZVJlYWxCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUxpdGVSZWFsKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgU1FMaXRlUmVhbCBleHRlbmRzIFNRTGl0ZUNvbHVtbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVSZWFsJztcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ3JlYWwnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWwobmFtZSkge1xuICAgIHJldHVybiBuZXcgU1FMaXRlUmVhbEJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIFNRTGl0ZVRleHRCdWlsZGVyIGV4dGVuZHMgU1FMaXRlQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVUZXh0QnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgICAgICB0aGlzLmNvbmZpZy5lbnVtVmFsdWVzID0gKGNvbmZpZy5lbnVtID8/IFtdKTtcbiAgICAgICAgdGhpcy5jb25maWcubGVuZ3RoID0gY29uZmlnLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMaXRlVGV4dCh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIFNRTGl0ZVRleHQgZXh0ZW5kcyBTUUxpdGVDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlVGV4dCc7XG4gICAgZW51bVZhbHVlcyA9IHRoaXMuY29uZmlnLmVudW1WYWx1ZXM7XG4gICAgbGVuZ3RoID0gdGhpcy5jb25maWcubGVuZ3RoO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIodGFibGUsIGNvbmZpZyk7XG4gICAgfVxuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBgdGV4dCR7dGhpcy5jb25maWcubGVuZ3RoID8gYCgke3RoaXMuY29uZmlnLmxlbmd0aH0pYCA6ICcnfWA7XG4gICAgfVxufVxuZnVuY3Rpb24gdGV4dChuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBuZXcgU1FMaXRlVGV4dEJ1aWxkZXIobmFtZSwgY29uZmlnKTtcbn1cblxuY2xhc3MgSW5kZXhCdWlsZGVyT24ge1xuICAgIG5hbWU7XG4gICAgdW5pcXVlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlSW5kZXhCdWlsZGVyT24nO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHVuaXF1ZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnVuaXF1ZSA9IHVuaXF1ZTtcbiAgICB9XG4gICAgb24oLi4uY29sdW1ucykge1xuICAgICAgICByZXR1cm4gbmV3IEluZGV4QnVpbGRlcih0aGlzLm5hbWUsIGNvbHVtbnMsIHRoaXMudW5pcXVlKTtcbiAgICB9XG59XG5jbGFzcyBJbmRleEJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlSW5kZXhCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbHVtbnMsIHVuaXF1ZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBjb2x1bW5zLFxuICAgICAgICAgICAgdW5pcXVlLFxuICAgICAgICAgICAgd2hlcmU6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uIGZvciBwYXJ0aWFsIGluZGV4LlxuICAgICAqL1xuICAgIHdoZXJlKGNvbmRpdGlvbikge1xuICAgICAgICB0aGlzLmNvbmZpZy53aGVyZSA9IGNvbmRpdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IEluZGV4KHRoaXMuY29uZmlnLCB0YWJsZSk7XG4gICAgfVxufVxuY2xhc3MgSW5kZXgge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlSW5kZXgnO1xuICAgIGNvbmZpZztcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIHRhYmxlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0geyAuLi5jb25maWcsIHRhYmxlIH07XG4gICAgfVxufVxuZnVuY3Rpb24gaW5kZXgobmFtZSkge1xuICAgIHJldHVybiBuZXcgSW5kZXhCdWlsZGVyT24obmFtZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gdW5pcXVlSW5kZXgobmFtZSkge1xuICAgIHJldHVybiBuZXcgSW5kZXhCdWlsZGVyT24obmFtZSwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIHByaW1hcnlLZXkoLi4uY29sdW1ucykge1xuICAgIHJldHVybiBuZXcgUHJpbWFyeUtleUJ1aWxkZXIoY29sdW1ucyk7XG59XG5jbGFzcyBQcmltYXJ5S2V5QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUxpdGVQcmltYXJ5S2V5QnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGNvbHVtbnM7XG4gICAgY29uc3RydWN0b3IoY29sdW1ucykge1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcmltYXJ5S2V5KHRhYmxlLCB0aGlzLmNvbHVtbnMpO1xuICAgIH1cbn1cbmNsYXNzIFByaW1hcnlLZXkge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMaXRlUHJpbWFyeUtleSc7XG4gICAgY29sdW1ucztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29sdW1ucykge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgfVxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5OYW1lXX1fJHt0aGlzLmNvbHVtbnMubWFwKChjb2x1bW4pID0+IGNvbHVtbi5uYW1lKS5qb2luKCdfJyl9X3BrYDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFRhYmxlQ29uZmlnKHRhYmxlKSB7XG4gICAgY29uc3QgY29sdW1ucyA9IE9iamVjdC52YWx1ZXModGFibGVbU1FMaXRlVGFibGUuU3ltYm9sLkNvbHVtbnNdKTtcbiAgICBjb25zdCBpbmRleGVzID0gW107XG4gICAgY29uc3QgY2hlY2tzID0gW107XG4gICAgY29uc3QgcHJpbWFyeUtleXMgPSBbXTtcbiAgICBjb25zdCB1bmlxdWVDb25zdHJhaW50cyA9IFtdO1xuICAgIGNvbnN0IGZvcmVpZ25LZXlzID0gT2JqZWN0LnZhbHVlcyh0YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuSW5saW5lRm9yZWlnbktleXNdKTtcbiAgICBjb25zdCBuYW1lID0gdGFibGVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgIGNvbnN0IGV4dHJhQ29uZmlnQnVpbGRlciA9IHRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0J1aWxkZXJdO1xuICAgIGlmIChleHRyYUNvbmZpZ0J1aWxkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBleHRyYUNvbmZpZyA9IGV4dHJhQ29uZmlnQnVpbGRlcih0YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuQ29sdW1uc10pO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1aWxkZXIgb2YgT2JqZWN0LnZhbHVlcyhleHRyYUNvbmZpZykpIHtcbiAgICAgICAgICAgIGlmIChpcyhidWlsZGVyLCBJbmRleEJ1aWxkZXIpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGJ1aWxkZXIuYnVpbGQodGFibGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGJ1aWxkZXIsIENoZWNrQnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICBjaGVja3MucHVzaChidWlsZGVyLmJ1aWxkKHRhYmxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhidWlsZGVyLCBVbmlxdWVDb25zdHJhaW50QnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICB1bmlxdWVDb25zdHJhaW50cy5wdXNoKGJ1aWxkZXIuYnVpbGQodGFibGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGJ1aWxkZXIsIFByaW1hcnlLZXlCdWlsZGVyKSkge1xuICAgICAgICAgICAgICAgIHByaW1hcnlLZXlzLnB1c2goYnVpbGRlci5idWlsZCh0YWJsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoYnVpbGRlciwgRm9yZWlnbktleUJ1aWxkZXIpKSB7XG4gICAgICAgICAgICAgICAgZm9yZWlnbktleXMucHVzaChidWlsZGVyLmJ1aWxkKHRhYmxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29sdW1ucyxcbiAgICAgICAgaW5kZXhlcyxcbiAgICAgICAgZm9yZWlnbktleXMsXG4gICAgICAgIGNoZWNrcyxcbiAgICAgICAgcHJpbWFyeUtleXMsXG4gICAgICAgIHVuaXF1ZUNvbnN0cmFpbnRzLFxuICAgICAgICBuYW1lLFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXRWaWV3Q29uZmlnKHZpZXcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi52aWV3W1ZpZXdCYXNlQ29uZmlnXSxcbiAgICAgICAgLi4udmlld1tTUUxpdGVWaWV3Q29uZmlnXSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBDaGVjaywgQ2hlY2tCdWlsZGVyLCBGb3JlaWduS2V5LCBGb3JlaWduS2V5QnVpbGRlciwgSW5kZXgsIEluZGV4QnVpbGRlciwgSW5kZXhCdWlsZGVyT24sIFByaW1hcnlLZXksIFByaW1hcnlLZXlCdWlsZGVyLCBTUUxpdGVCYXNlSW50ZWdlciwgU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyLCBTUUxpdGVCaWdJbnQsIFNRTGl0ZUJpZ0ludEJ1aWxkZXIsIFNRTGl0ZUJsb2JCdWZmZXIsIFNRTGl0ZUJsb2JCdWZmZXJCdWlsZGVyLCBTUUxpdGVCbG9iSnNvbiwgU1FMaXRlQmxvYkpzb25CdWlsZGVyLCBTUUxpdGVCb29sZWFuLCBTUUxpdGVCb29sZWFuQnVpbGRlciwgU1FMaXRlQ29sdW1uLCBTUUxpdGVDb2x1bW5CdWlsZGVyLCBTUUxpdGVDdXN0b21Db2x1bW4sIFNRTGl0ZUN1c3RvbUNvbHVtbkJ1aWxkZXIsIFNRTGl0ZUludGVnZXIsIFNRTGl0ZUludGVnZXJCdWlsZGVyLCBTUUxpdGVOdW1lcmljLCBTUUxpdGVOdW1lcmljQnVpbGRlciwgU1FMaXRlUmVhbCwgU1FMaXRlUmVhbEJ1aWxkZXIsIFNRTGl0ZVRhYmxlLCBTUUxpdGVUZXh0LCBTUUxpdGVUZXh0QnVpbGRlciwgU1FMaXRlVGltZXN0YW1wLCBTUUxpdGVUaW1lc3RhbXBCdWlsZGVyLCBTUUxpdGVWaWV3Q29uZmlnLCBVbmlxdWVDb25zdHJhaW50LCBVbmlxdWVDb25zdHJhaW50QnVpbGRlciwgVW5pcXVlT25Db25zdHJhaW50QnVpbGRlciwgYWxpYXMsIGJsb2IsIGNoZWNrLCBjdXN0b21UeXBlLCBmb3JlaWduS2V5LCBnZXRUYWJsZUNvbmZpZywgZ2V0Vmlld0NvbmZpZywgaW5kZXgsIGludCwgaW50ZWdlciwgbnVtZXJpYywgcHJpbWFyeUtleSwgcmVhbCwgdGV4dCwgdW5pcXVlLCB1bmlxdWVJbmRleCwgdW5pcXVlS2V5TmFtZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbIk0iLCJUYWJsZUFsaWFzUHJveHlIYW5kbGVyIiwiZSIsImVudGl0eUtpbmQiLCJMIiwiQ29sdW1uQnVpbGRlciIsIkMiLCJDb2x1bW4iLCJzIiwic3FsIiwiVCIsIlRhYmxlIiwiaSIsImlzIiwidSIsIlZpZXdCYXNlQ29uZmlnIiwiZCIsIlNRTGl0ZVRhYmxlIiwiU1FMaXRlVmlld0NvbmZpZyIsIkIiLCJCYXNlU1FMaXRlRGF0YWJhc2UiLCJJIiwiSW5saW5lRm9yZWlnbktleXMiLCJNYW51YWxWaWV3QnVpbGRlciIsIlAiLCJQcmVwYXJlZFF1ZXJ5IiwiUSIsIlF1ZXJ5QnVpbGRlciIsImMiLCJTUUxpdGVBc3luY0RpYWxlY3QiLCJnIiwiU1FMaXRlRGVsZXRlIiwiZiIsIlNRTGl0ZURpYWxlY3QiLCJTUUxpdGVJbnNlcnQiLCJoIiwiU1FMaXRlSW5zZXJ0QnVpbGRlciIsImwiLCJTUUxpdGVTZWxlY3QiLCJqIiwiU1FMaXRlU2VsZWN0QnVpbGRlciIsImsiLCJTUUxpdGVTZWxlY3RRdWVyeUJ1aWxkZXIiLCJTIiwiU1FMaXRlU2Vzc2lvbiIsImIiLCJTUUxpdGVTeW5jRGlhbGVjdCIsImEiLCJTUUxpdGVUcmFuc2FjdGlvbiIsIm4iLCJTUUxpdGVVcGRhdGUiLCJtIiwiU1FMaXRlVXBkYXRlQnVpbGRlciIsInIiLCJTUUxpdGVWaWV3IiwicSIsIlNRTGl0ZVZpZXdCYXNlIiwicCIsIlZpZXdCdWlsZGVyIiwiViIsIlZpZXdCdWlsZGVyQ29yZSIsInNxbGl0ZVRhYmxlIiwibyIsInNxbGl0ZVRhYmxlQ3JlYXRvciIsInQiLCJzcWxpdGVWaWV3IiwidiIsInZpZXciLCJhbGlhcyIsInRhYmxlIiwiUHJveHkiLCJDaGVja0J1aWxkZXIiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ2YWx1ZSIsImJ1aWxkIiwiQ2hlY2siLCJidWlsZGVyIiwiY2hlY2siLCJGb3JlaWduS2V5QnVpbGRlciIsImNvbmZpZyIsImFjdGlvbnMiLCJyZWZlcmVuY2UiLCJjb2x1bW5zIiwiZm9yZWlnbkNvbHVtbnMiLCJmb3JlaWduVGFibGUiLCJfb25VcGRhdGUiLCJvblVwZGF0ZSIsIl9vbkRlbGV0ZSIsIm9uRGVsZXRlIiwiYWN0aW9uIiwiRm9yZWlnbktleSIsImdldE5hbWUiLCJjb2x1bW5OYW1lcyIsIm1hcCIsImNvbHVtbiIsImZvcmVpZ25Db2x1bW5OYW1lcyIsImNodW5rcyIsIlN5bWJvbCIsIk5hbWUiLCJqb2luIiwiZm9yZWlnbktleSIsIm1hcHBlZENvbmZpZyIsInVuaXF1ZUtleU5hbWUiLCJ1bmlxdWUiLCJVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyIiwiVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIiLCJVbmlxdWVDb25zdHJhaW50Iiwib24iLCJTUUxpdGVDb2x1bW5CdWlsZGVyIiwicmVmZXJlbmNlcyIsInJlZiIsImZvcmVpZ25LZXlDb25maWdzIiwicHVzaCIsImlzVW5pcXVlIiwidW5pcXVlTmFtZSIsImJ1aWxkRm9yZWlnbktleXMiLCJmb3JlaWduQ29sdW1uIiwiU1FMaXRlQ29sdW1uIiwiU1FMaXRlQmlnSW50QnVpbGRlciIsIlNRTGl0ZUJpZ0ludCIsImdldFNRTFR5cGUiLCJtYXBGcm9tRHJpdmVyVmFsdWUiLCJCaWdJbnQiLCJ0b1N0cmluZyIsIm1hcFRvRHJpdmVyVmFsdWUiLCJCdWZmZXIiLCJmcm9tIiwiU1FMaXRlQmxvYkpzb25CdWlsZGVyIiwiU1FMaXRlQmxvYkpzb24iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJTUUxpdGVCbG9iQnVmZmVyQnVpbGRlciIsIlNRTGl0ZUJsb2JCdWZmZXIiLCJibG9iIiwibW9kZSIsIlNRTGl0ZUN1c3RvbUNvbHVtbkJ1aWxkZXIiLCJmaWVsZENvbmZpZyIsImN1c3RvbVR5cGVQYXJhbXMiLCJTUUxpdGVDdXN0b21Db2x1bW4iLCJzcWxOYW1lIiwiZGF0YVR5cGUiLCJtYXBUbyIsInRvRHJpdmVyIiwibWFwRnJvbSIsImZyb21Ecml2ZXIiLCJjdXN0b21UeXBlIiwiZGJOYW1lIiwiU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyIiwiYXV0b0luY3JlbWVudCIsInByaW1hcnlLZXkiLCJoYXNEZWZhdWx0IiwiU1FMaXRlQmFzZUludGVnZXIiLCJTUUxpdGVJbnRlZ2VyQnVpbGRlciIsIlNRTGl0ZUludGVnZXIiLCJTUUxpdGVUaW1lc3RhbXBCdWlsZGVyIiwiZGVmYXVsdE5vdyIsImRlZmF1bHQiLCJTUUxpdGVUaW1lc3RhbXAiLCJEYXRlIiwidW5peCIsImdldFRpbWUiLCJNYXRoIiwiZmxvb3IiLCJTUUxpdGVCb29sZWFuQnVpbGRlciIsIlNRTGl0ZUJvb2xlYW4iLCJOdW1iZXIiLCJpbnRlZ2VyIiwiaW50IiwiU1FMaXRlTnVtZXJpY0J1aWxkZXIiLCJTUUxpdGVOdW1lcmljIiwibnVtZXJpYyIsIlNRTGl0ZVJlYWxCdWlsZGVyIiwiU1FMaXRlUmVhbCIsInJlYWwiLCJTUUxpdGVUZXh0QnVpbGRlciIsImVudW1WYWx1ZXMiLCJlbnVtIiwibGVuZ3RoIiwiU1FMaXRlVGV4dCIsInRleHQiLCJJbmRleEJ1aWxkZXJPbiIsIkluZGV4QnVpbGRlciIsIndoZXJlIiwidW5kZWZpbmVkIiwiY29uZGl0aW9uIiwiSW5kZXgiLCJpbmRleCIsInVuaXF1ZUluZGV4IiwiUHJpbWFyeUtleUJ1aWxkZXIiLCJQcmltYXJ5S2V5IiwiZ2V0VGFibGVDb25maWciLCJPYmplY3QiLCJ2YWx1ZXMiLCJDb2x1bW5zIiwiaW5kZXhlcyIsImNoZWNrcyIsInByaW1hcnlLZXlzIiwidW5pcXVlQ29uc3RyYWludHMiLCJmb3JlaWduS2V5cyIsImV4dHJhQ29uZmlnQnVpbGRlciIsIkV4dHJhQ29uZmlnQnVpbGRlciIsImV4dHJhQ29uZmlnIiwiZ2V0Vmlld0NvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/drizzle-orm@0.27.2_@libsql+client@0.3.4/node_modules/drizzle-orm/sqlite-core/index.mjs\n");

/***/ })

};
;