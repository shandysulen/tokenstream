"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/api/trpc/[trpc]/route",{

/***/ "(rsc)/./src/server/trpc.ts":
/*!****************************!*\
  !*** ./src/server/trpc.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createContext: () => (/* binding */ createContext),\n/* harmony export */   publicProcedure: () => (/* binding */ publicProcedure),\n/* harmony export */   router: () => (/* binding */ router)\n/* harmony export */ });\n/* harmony import */ var _tokenstream_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tokenstream/db */ \"(rsc)/../../packages/db/src/index.ts\");\n/* harmony import */ var _trpc_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @trpc/server */ \"(rsc)/../../node_modules/.pnpm/@trpc+server@11.0.0-next-beta.289/node_modules/@trpc/server/dist/index.mjs\");\n/* harmony import */ var iron_session__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! iron-session */ \"(rsc)/../../node_modules/.pnpm/iron-session@8.0.1/node_modules/iron-session/dist/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/../../node_modules/.pnpm/next@14.0.1_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0/node_modules/next/headers.js\");\n/* harmony import */ var superjson__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! superjson */ \"(rsc)/../../node_modules/.pnpm/superjson@1.13.3/node_modules/superjson/dist/esm/index.js\");\n/* harmony import */ var _constants_iron_session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/constants/iron-session */ \"(rsc)/./src/constants/iron-session.ts\");\n\n\n\n\n\n\nconst createContext = async ()=>{\n    const db = (0,_tokenstream_db__WEBPACK_IMPORTED_MODULE_0__.createDbClient)();\n    const session = await (0,iron_session__WEBPACK_IMPORTED_MODULE_5__.getIronSession)((0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)(), _constants_iron_session__WEBPACK_IMPORTED_MODULE_4__.ironSessionOptions);\n    console.log(\"session\", session);\n    return {\n        db,\n        session\n    };\n};\nconst t = _trpc_server__WEBPACK_IMPORTED_MODULE_1__.initTRPC.context().create({\n    transformer: superjson__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    errorFormatter ({ shape }) {\n        return shape;\n    }\n});\nconst router = t.router;\nconst publicProcedure = t.procedure;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL3RycGMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ1Q7QUFDTTtBQUNQO0FBQ0w7QUFDNEI7QUFFdkQsTUFBTU0sZ0JBQWdCO0lBQzNCLE1BQU1DLEtBQUtQLCtEQUFjQTtJQUN6QixNQUFNUSxVQUFVLE1BQU1OLDREQUFjQSxDQUFDQyxxREFBT0EsSUFBSUUsdUVBQWtCQTtJQUVsRUksUUFBUUMsR0FBRyxDQUFDLFdBQVdGO0lBRXZCLE9BQU87UUFDTEQ7UUFDQUM7SUFDRjtBQUNGLEVBQUU7QUFFRixNQUFNRyxJQUFJVixrREFBUUEsQ0FBQ1csT0FBTyxHQUF5QkMsTUFBTSxDQUFDO0lBQ3hEQyxhQUFhVixpREFBU0E7SUFDdEJXLGdCQUFlLEVBQUVDLEtBQUssRUFBRTtRQUN0QixPQUFPQTtJQUNUO0FBQ0Y7QUFFTyxNQUFNQyxTQUFTTixFQUFFTSxNQUFNLENBQUM7QUFDeEIsTUFBTUMsa0JBQWtCUCxFQUFFUSxTQUFTLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3NlcnZlci90cnBjLnRzPzQ1N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRGJDbGllbnQgfSBmcm9tIFwiQHRva2Vuc3RyZWFtL2RiXCI7XG5pbXBvcnQgeyBpbml0VFJQQyB9IGZyb20gXCJAdHJwYy9zZXJ2ZXJcIjtcbmltcG9ydCB7IGdldElyb25TZXNzaW9uIH0gZnJvbSBcImlyb24tc2Vzc2lvblwiO1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCBzdXBlcmpzb24gZnJvbSBcInN1cGVyanNvblwiO1xuaW1wb3J0IHsgaXJvblNlc3Npb25PcHRpb25zIH0gZnJvbSBcIkAvY29uc3RhbnRzL2lyb24tc2Vzc2lvblwiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29udGV4dCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgZGIgPSBjcmVhdGVEYkNsaWVudCgpO1xuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0SXJvblNlc3Npb24oY29va2llcygpLCBpcm9uU2Vzc2lvbk9wdGlvbnMpO1xuXG4gIGNvbnNvbGUubG9nKFwic2Vzc2lvblwiLCBzZXNzaW9uKTtcblxuICByZXR1cm4ge1xuICAgIGRiLFxuICAgIHNlc3Npb24sXG4gIH07XG59O1xuXG5jb25zdCB0ID0gaW5pdFRSUEMuY29udGV4dDx0eXBlb2YgY3JlYXRlQ29udGV4dD4oKS5jcmVhdGUoe1xuICB0cmFuc2Zvcm1lcjogc3VwZXJqc29uLFxuICBlcnJvckZvcm1hdHRlcih7IHNoYXBlIH0pIHtcbiAgICByZXR1cm4gc2hhcGU7XG4gIH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IHJvdXRlciA9IHQucm91dGVyO1xuZXhwb3J0IGNvbnN0IHB1YmxpY1Byb2NlZHVyZSA9IHQucHJvY2VkdXJlO1xuIl0sIm5hbWVzIjpbImNyZWF0ZURiQ2xpZW50IiwiaW5pdFRSUEMiLCJnZXRJcm9uU2Vzc2lvbiIsImNvb2tpZXMiLCJzdXBlcmpzb24iLCJpcm9uU2Vzc2lvbk9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZGIiLCJzZXNzaW9uIiwiY29uc29sZSIsImxvZyIsInQiLCJjb250ZXh0IiwiY3JlYXRlIiwidHJhbnNmb3JtZXIiLCJlcnJvckZvcm1hdHRlciIsInNoYXBlIiwicm91dGVyIiwicHVibGljUHJvY2VkdXJlIiwicHJvY2VkdXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/trpc.ts\n");

/***/ })

});